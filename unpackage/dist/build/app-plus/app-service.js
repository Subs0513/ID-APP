(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0112":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","add-btn"),attrs:{_i:1},on:{click:t.onAddTap}},[e("image",{staticClass:t._$s(2,"sc","icon"),attrs:{_i:2}}),e("text")]),t._$s(4,"i",t.records.length)?e("view",{staticClass:t._$s(4,"sc","list"),attrs:{_i:4}},t._l(t._$s(5,"f",{forItems:t.records}),(function(s,a,i,r){return e("view",{key:t._$s(5,"f",{forIndex:i,key:a}),staticClass:t._$s("5-"+r,"sc","swipe-item"),attrs:{"data-index":t._$s("5-"+r,"a-data-index",a),_i:"5-"+r},on:{touchstart:t.onSwipeStart,touchmove:t.onSwipeMove,touchend:t.onSwipeEnd,touchcancel:t.onSwipeEnd}},[e("view",{staticClass:t._$s("6-"+r,"sc","swipe-actions"),attrs:{"data-index":t._$s("6-"+r,"a-data-index",a),_i:"6-"+r},on:{click:function(s){return s.stopPropagation(),t.onDelete(s)}}}),e("view",{staticClass:t._$s("7-"+r,"sc","swipe-content"),class:t._$s("7-"+r,"c",{"no-anim":s._moving}),style:t._$s("7-"+r,"s","transform: translateX("+(s._x||0)+"rpx);"),attrs:{_i:"7-"+r},on:{click:function(e){return t.onItemTap(s,a)}}},[e("view",{staticClass:t._$s("8-"+r,"sc","row1"),attrs:{_i:"8-"+r}},[e("view",{staticClass:t._$s("9-"+r,"sc","left"),attrs:{_i:"9-"+r}},[e("view",{staticClass:t._$s("10-"+r,"sc","pain-badge"),attrs:{_i:"10-"+r}}),e("text",{staticClass:t._$s("11-"+r,"sc","count"),attrs:{_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(a+1)))]),e("text",{staticClass:t._$s("12-"+r,"sc","time"),attrs:{_i:"12-"+r}},[t._v(t._$s("12-"+r,"t0-0",t._s(s.time)))])]),e("text",{staticClass:t._$s("13-"+r,"sc","right-muted"),attrs:{_i:"13-"+r}},[t._v(t._$s("13-"+r,"t0-0",t._s(s.level||"\u672a\u9009\u62e9\u7a0b\u5ea6")))])]),t._$s("14-"+r,"i",s.medicine)?e("view",{staticClass:t._$s("14-"+r,"sc","row2"),attrs:{_i:"14-"+r}},[e("text",{staticClass:t._$s("15-"+r,"sc","meta"),attrs:{_i:"15-"+r}},[t._v(t._$s("15-"+r,"t0-0",t._s(s.medicine)))])]):t._e()])])})),0):e("view",{staticClass:t._$s(16,"sc","empty"),attrs:{_i:16}}),t._$s(17,"i",t.showPopup)?e("view",{staticClass:t._$s(17,"sc","mask"),attrs:{_i:17},on:{click:t.onCancel}}):t._e(),t._$s(18,"i",t.showPopup)?e("view",{staticClass:t._$s(18,"sc","popup"),attrs:{_i:18},on:{click:function(t){t.stopPropagation()}}},[e("view",{staticClass:t._$s(19,"sc","popup-title"),attrs:{_i:19}},[t._v(t._$s(19,"t0-0",t._s(t.editingIndex>=0?"\u4fee\u6539\u75db\u7ecf\u8bb0\u5f55":"\u6dfb\u52a0\u75db\u7ecf\u8bb0\u5f55")))]),e("view",{staticClass:t._$s(20,"sc","card"),attrs:{_i:20}},[e("view",{staticClass:t._$s(21,"sc","section-head"),attrs:{_i:21}},[e("view",{staticClass:t._$s(22,"sc","section-left"),attrs:{_i:22}},[e("image",{staticClass:t._$s(23,"sc","section-icon"),attrs:{_i:23}}),e("text",{staticClass:t._$s(24,"sc","section-title"),attrs:{_i:24}})]),e("text",{staticClass:t._$s(25,"sc","section-value"),attrs:{_i:25}},[t._v(t._$s(25,"t0-0",t._s(t.form.time)))])]),e("view",{staticClass:t._$s(26,"sc","time-wheel"),attrs:{_i:26}},[e("picker-view",{staticClass:t._$s(27,"sc","time-picker"),attrs:{value:t._$s(27,"a-value",t.timeWheelValue),_i:27},on:{change:t.onTimeWheelChange}},[e("picker-view-column",t._l(t._$s(29,"f",{forItems:t.hours}),(function(s,a,i,r){return e("view",{key:t._$s(29,"f",{forIndex:i,key:"h"+a}),staticClass:t._$s("29-"+r,"sc","time-item"),attrs:{_i:"29-"+r}},[t._v(t._$s("29-"+r,"t0-0",t._s(s)))])})),0),e("picker-view-column",t._l(t._$s(31,"f",{forItems:t.minutes}),(function(s,a,i,r){return e("view",{key:t._$s(31,"f",{forIndex:i,key:"m"+a}),staticClass:t._$s("31-"+r,"sc","time-item"),attrs:{_i:"31-"+r}},[t._v(t._$s("31-"+r,"t0-0",t._s(s)))])})),0)]),e("text",{staticClass:t._$s(32,"sc","time-colon"),attrs:{_i:32}})])]),e("view",{staticClass:t._$s(33,"sc","card"),attrs:{_i:33}},[e("view",{staticClass:t._$s(34,"sc","section-head"),attrs:{_i:34}},[e("view",{staticClass:t._$s(35,"sc","section-left"),attrs:{_i:35}},[e("image",{staticClass:t._$s(36,"sc","section-icon"),attrs:{_i:36}}),e("text",{staticClass:t._$s(37,"sc","section-title"),attrs:{_i:37}})]),e("text",{staticClass:t._$s(38,"sc","section-value"),attrs:{_i:38}},[t._v(t._$s(38,"t0-0",t._s(t.form.level||"\u672a\u9009\u62e9")))])]),e("view",{staticClass:t._$s(39,"sc","option-card"),attrs:{_i:39}},[e("view",{staticClass:t._$s(40,"sc","option-wrap"),attrs:{_i:40}},t._l(t._$s(41,"f",{forItems:t.levels}),(function(s,a,i,r){return e("view",{key:t._$s(41,"f",{forIndex:i,key:"lv"+a}),staticClass:t._$s("41-"+r,"sc","option-item"),class:t._$s("41-"+r,"c",{active:t.form.level===s}),attrs:{_i:"41-"+r},on:{click:function(e){return t.pickLevel(s)}}},[e("text",{staticClass:t._$s("42-"+r,"sc","option-text"),attrs:{_i:"42-"+r}},[t._v(t._$s("42-"+r,"t0-0",t._s(s)))])])})),0)])]),e("view",{staticClass:t._$s(43,"sc","card"),attrs:{_i:43}},[e("view",{staticClass:t._$s(44,"sc","section-head"),attrs:{_i:44}},[e("view",{staticClass:t._$s(45,"sc","section-left"),attrs:{_i:45}},[e("image",{staticClass:t._$s(46,"sc","section-icon"),attrs:{_i:46}}),e("text",{staticClass:t._$s(47,"sc","section-title"),attrs:{_i:47}})]),e("text",{staticClass:t._$s(48,"sc","section-value"),attrs:{_i:48}},[t._v(t._$s(48,"t0-0",t._s(t.form.medicine||"\u672a\u9009\u62e9")))])]),e("view",{staticClass:t._$s(49,"sc","option-card"),attrs:{_i:49}},[e("view",{staticClass:t._$s(50,"sc","option-wrap"),attrs:{_i:50}},t._l(t._$s(51,"f",{forItems:t.medicines}),(function(s,a,i,r){return e("view",{key:t._$s(51,"f",{forIndex:i,key:"md"+a}),staticClass:t._$s("51-"+r,"sc","option-item"),class:t._$s("51-"+r,"c",{active:t.form.medicine===s}),attrs:{_i:"51-"+r},on:{click:function(e){return t.pickMedicine(s)}}},[e("text",{staticClass:t._$s("52-"+r,"sc","option-text"),attrs:{_i:"52-"+r}},[t._v(t._$s("52-"+r,"t0-0",t._s(s)))])])})),0)])]),e("view",{staticClass:t._$s(53,"sc","popup-actions"),attrs:{_i:53}},[e("view",{staticClass:t._$s(54,"sc","btn cancel"),attrs:{_i:54},on:{click:t.onCancel}}),e("view",{staticClass:t._$s(55,"sc","btn ok"),attrs:{_i:55},on:{click:t.onConfirm}})])]):t._e()])},i=[]},"02f6":function(t,s,e){"use strict";e.r(s);var a=e("c9c1"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"0763":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("af34")),r=a(e("7ca3")),n=a(e("91f6"));function c(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?c(Object(e),!0).forEach((function(s){(0,r.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var l=e("5aad"),u=e("f463");function _(){return"id_"+Date.now()+"_"+Math.floor(1e5*Math.random())}var d={components:{YMDWheel:n.default},data:function(){return{isEdit:!1,editId:"",typeOptions:[{value:"anniversary",text:"\u7eaa\u5ff5\u65e5"},{value:"birthday",text:"\u751f\u65e5"},{value:"other",text:"\u5176\u4ed6"}],typeIndex:0,form:{title:"",date:"",type:"anniversary",note:"",isTop:!1,includeStart:!1},showDateWheel:!1,dateWheelTemp:"",text:""}},onShow:function(){var t=uni.getStorageSync("editingId");if(t)return uni.removeStorageSync("editingId"),void(this.isEdit&&this.editId===t||this.loadEdit(t));this.isEdit||this.form&&(this.form.title||this.form.note)?this.resetForm():this.form.date||this.resetForm()},onLoad:function(t){var s=t&&t.id?t.id:"";s?this.loadEdit(s):this.resetForm()},methods:{resetForm:function(){this.setData({isEdit:!1,editId:"",typeIndex:0,form:{title:"",date:u.todayStr(),type:"anniversary",note:"",isTop:!1,includeStart:!1},showDateWheel:!1,dateWheelTemp:u.todayStr()})},loadEdit:function(t){var s=l.getList(),e=s.find((function(s){return s.id===t}));if(!e)return uni.showToast({title:"\u672a\u627e\u5230\u6570\u636e",icon:"none"}),void uni.switchTab({url:"/pages/home/home"});var a=this.typeOptions.findIndex((function(t){return t.value===e.type}));this.setData({isEdit:!0,editId:t,typeIndex:a>=0?a:0,form:{title:e.title||"",date:e.date||u.todayStr(),type:e.type||"anniversary",note:e.note||"",isTop:!!e.isTop,includeStart:!!e.includeStart},showDateWheel:!1,dateWheelTemp:e.date||u.todayStr()}),uni.setNavigationBarTitle({title:"\u4fee\u6539\u91cd\u8981\u65e5\u5b50"})},onTitle:function(t){this.setData({form:o(o({},this.form),{},{title:t.detail.value})})},onDate:function(t){this.setData({form:o(o({},this.form),{},{date:t.detail.value})})},openDateWheel:function(){var t=this.form&&this.form.date?this.form.date:u.todayStr();this.setData({showDateWheel:!0,dateWheelTemp:t})},onDateWheelCancel:function(){this.setData({showDateWheel:!1})},onDateWheelConfirm:function(t){this.setData({showDateWheel:!1,dateWheelTemp:t,form:o(o({},this.form),{},{date:t})})},onDateWheelUpdateShow:function(t){this.setData({showDateWheel:!!t})},onType:function(t){var s=Number(t.detail.value)||0,e=this.typeOptions[s].value;this.setData({typeIndex:s,form:o(o({},this.form),{},{type:e})})},onNote:function(t){this.setData({form:o(o({},this.form),{},{note:t.detail.value})})},onTop:function(t){this.setData({form:o(o({},this.form),{},{isTop:t.detail.value})})},onIncludeStart:function(t){this.setData({form:o(o({},this.form),{},{includeStart:t.detail.value})})},validate:function(){var t=this.form;return t.title&&t.title.trim()?t.date?"":"\u8bf7\u9009\u62e9\u65e5\u671f":"\u8bf7\u586b\u5199\u6807\u9898"},save:function(){var t=this,s=this.validate();if(s)uni.showToast({title:s,icon:"none"});else{var e=l.getList(),a=Date.now(),r=this.form;if(this.isEdit){var n=e.map((function(s){return s.id!==t.editId?s:o(o(o({},s),r),{},{updatedAt:a})}));l.setList(n),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"});var c=uni.getStorageSync("backDetailId");return c?(uni.removeStorageSync("backDetailId"),void uni.redirectTo({url:"/pages/detail/detail?id="+c})):void uni.switchTab({url:"/pages/home/home"})}var u={id:_(),title:r.title.trim(),date:r.date,type:r.type,note:r.note||"",isTop:!!r.isTop,includeStart:!!r.includeStart,createdAt:a,updatedAt:a};l.setList([u].concat((0,i.default)(e))),uni.showToast({title:"\u5df2\u6dfb\u52a0",icon:"success"}),this.resetForm(),uni.switchTab({url:"/pages/home/home"})}}}};s.default=d},"078d":function(t,s,e){"use strict";e.r(s);var a=e("15f6"),i=e("e7a5");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"085c":function(t,s,e){"use strict";e.r(s);var a=e("5739"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"0a49":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("af34")),r=a(e("3b2d")),n=a(e("7ca3")),c=a(e("34cf"));function o(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}var l={cycleLength:28,periodLength:5,lutealDays:14};function u(t){return(t<10?"0":"")+t}function _(t){return"".concat(t.getFullYear(),"-").concat(u(t.getMonth()+1),"-").concat(u(t.getDate()))}function d(t){if(!t)return null;var s=t.split("-").map(Number),e=(0,c.default)(s,3),a=e[0],i=e[1],r=e[2];return new Date(a,i-1,r)}function f(t,s){var e=d(t);return e?(e.setDate(e.getDate()+s),_(e)):""}function h(t,s){var e=d(t),a=d(s);return e&&a?Math.round((a-e)/864e5):0}function v(){return _(new Date)}function p(t){return t.settings=t.settings||function(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?o(Object(e),!0).forEach((function(s){(0,n.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}({},l),t.periodRecords=Array.isArray(t.periodRecords)?t.periodRecords:[],t.sexRecords=t.sexRecords&&"object"===(0,r.default)(t.sexRecords)&&!Array.isArray(t.sexRecords)?t.sexRecords:{},t.periodRecords.sort((function(t,s){return(t.start||"").localeCompare(s.start||"")})),t}var w={data:function(){return{cycleText:"",prevCycleText:"",riskTips:[],riskHint:"",trendSubText:"",methodSubText:"",metrics:{totalThis:0,daysWith:0,avgText:"--",maxGapText:"--"},trendDates:[],trendLabels:[],trendValues:[],methodLegend:[],recentList:[],barTip:{show:!1,left:0,top:0,date:"",value:0},canvasW:1,barH:220,pieH:260}},onLoad:function(){this.refresh()},onShow:function(){this.refresh()},methods:{goAdd:function(){var t=v();uni.navigateTo({url:"/pages/subperiod/love/addlove?date=".concat(encodeURIComponent(t))})},refresh:function(){var t=this,s=p(function(){return uni.getStorageSync("period_record_v1")||{}}()),e=s.settings||l,a=s.periodRecords||[],i=a.length&&a[a.length-1].start||"",r=v(),n=0;if(a.length>=2){var c=a[a.length-2].start;n=h(c,i)}n||(n=e.cycleLength||l.cycleLength);var o=r,u=function(t,s,e){var a=s||0;if(!t)return"";var i=a?a-e:0;return!i||i<6||i>30?"":f(t,i)}(i,n,e.lutealDays||l.lutealDays),_=u?f(u,-5):"",d=u?f(u,1):"",w=this.collectSexEntries(s.sexRecords,i,o,_,d),g=w.entriesThis,$=w.totalThis,m=w.daysWith,C=w.unprotectedThis,y=w.fertileTimes,b=this.buildMetrics(i,o,g);b.totalThis=$,b.daysWith=m;var x=this.buildRiskTips({totalThis:$,unprotectedThis:C,fertileTimes:y,hasFertile:!!u,fertileRangeText:u?"".concat(_," ~ ").concat(d):""}),D=this.buildTrend30(s.sexRecords),T=this.buildMethodPie(g,$),S=g.slice().sort((function(t,s){return(s.date||"").localeCompare(t.date||"")})).slice(0,5).map((function(t){return{dateLabel:t.date,time:t.time,method:t.method}})),k=i?"\u672c\u5468\u671f\u8303\u56f4\uff1a".concat(i," ~ ").concat(o,"\uff08\u5468\u671f\u957f\u5ea6\u6309 ").concat(n," \u5929\u4f30\u7b97\uff09"):"\u6682\u65e0\u7ecf\u671f\u8bb0\u5f55\uff1a\u672c\u9875\u5c06\u4ee5\u201c\u8fd130\u5929\u8d8b\u52bf\u201d\u4e3a\u4e3b\u5c55\u793a",O=u?"\u6392\u5375\u671f\uff08\u63a8\u7b97\uff09\uff1a".concat(_," ~ ").concat(d):"";this.setData({metrics:b,cycleText:k,prevCycleText:O,riskTips:x.tips,riskHint:x.hint,trendSubText:D.subText,methodSubText:T.subText,trendDates:D.dates,trendLabels:D.labels,trendValues:D.values,methodLegend:T.legend,recentList:S,barTip:{show:!1,left:0,top:0,date:"",value:0}}),this.$nextTick((function(){t.measureAndDrawBar(D.dates,D.labels,D.values),t.drawPie(T.slices)}))},inRange:function(t,s,e){return t&&s&&e&&t>=s&&t<=e},collectSexEntries:function(t,s,e,a,i){var r=this,n=/(\u65e0\u63aa\u65bd|\u4e0d\u907f\u5b55|\u672a\u907f\u5b55|\u4e0d\u4f7f\u7528|\u6ca1\u7528|\u65e0\b)/,c=[],o=0,l=new Set,u=0,_=0;return Object.keys(t||{}).forEach((function(d){if(!s||!e||r.inRange(d,s,e)){var f=Array.isArray(t[d])?t[d]:[];f.length&&(o+=f.length,l.add(d),f.forEach((function(t){var s=t&&t.time?String(t.time):"--:--",e=t&&t.method?String(t.method).trim():"\u672a\u8bb0\u5f55\u63aa\u65bd";c.push({date:d,time:s,method:e}),n.test(e)&&(u+=1),a&&i&&r.inRange(d,a,i)&&(_+=1)})))}})),{entriesThis:c,totalThis:o,daysWith:l.size,unprotectedThis:u,fertileTimes:_}},buildMetrics:function(t,s,e){var a=t&&h(t,f(s,1))||0,i="--";if(a>0){var r=e.length/a*7;i="".concat(r.toFixed(1),"/\u5468")}else i=e.length?"\u2014":"--";var n="--",c=e.map((function(t){return t.date})).filter(Boolean),o=Array.from(new Set(c)).sort();if(o.length>=2){for(var l=0,u=1;u<o.length;u++){var _=h(o[u-1],o[u])-1;_>l&&(l=_)}n=0===l?"0\u5929":"".concat(l,"\u5929")}else 1===o.length&&(n="\u2014");return{totalThis:0,daysWith:0,avgText:i,maxGapText:n}},buildRiskTips:function(t){var s=t.totalThis,e=t.unprotectedThis,a=t.fertileTimes,i=t.hasFertile,r=t.fertileRangeText,n=[];return 0===s?(n.push("\u672c\u5468\u671f\u6682\u65e0\u7231\u7231\u8bb0\u5f55\uff1a\u53ef\u4ee5\u5148\u8bb0\u5f55\u4e00\u6761\uff0c\u624d\u4f1a\u751f\u6210\u66f4\u51c6\u786e\u7684\u63d0\u793a\u3002"),{tips:n,hint:"\u6e29\u99a8\u63d0\u793a\uff1a\u98ce\u9669\u63d0\u793a\u4ec5\u7528\u4e8e\u81ea\u6211\u7ba1\u7406\uff0c\u4e0d\u66ff\u4ee3\u4e13\u4e1a\u533b\u7597\u5efa\u8bae\u3002"}):(e>0?n.push("\u5b58\u5728 ".concat(e," \u6b21\u201c\u65e0\u63aa\u65bd/\u672a\u907f\u5b55\u201d\u60c5\u51b5\uff1a\u5982\u4e0d\u8ba1\u5212\u6000\u5b55\uff0c\u5efa\u8bae\u4f7f\u7528\u66f4\u53ef\u9760\u7684\u907f\u5b55\u65b9\u5f0f\u3002")):n.push("\u907f\u5b55\u65b9\u5f0f\u8bb0\u5f55\u8f83\u89c4\u8303\uff1a\u7ee7\u7eed\u4fdd\u6301\uff5e"),i?(n.push("\u6392\u5375\u671f\uff08\u63a8\u7b97\uff09\uff1a".concat(r,"\u3002\u6392\u5375\u671f\u5185\u8bb0\u5f55\u6b21\u6570\uff1a").concat(a," \u6b21\u3002")),a>0&&e>0&&n.push("\u82e5\u6392\u5375\u671f\u5185\u5b58\u5728\u672a\u907f\u5b55\u60c5\u51b5\uff0c\u610f\u5916\u6000\u5b55\u98ce\u9669\u66f4\u9ad8\u3002")):n.push("\u6392\u5375\u671f\u6570\u636e\u4e0d\u8db3\uff1a\u9700\u8981\u66f4\u591a\u7ecf\u671f\u8bb0\u5f55\u624d\u80fd\u8fdb\u884c\u63a8\u7b97\u3002"),s>=10&&n.push("\u672c\u5468\u671f\u6b21\u6570\u8f83\u591a\uff1a\u6ce8\u610f\u4f11\u606f\u3001\u6e05\u6d01\u4e0e\u8212\u9002\u5ea6\uff1b\u5982\u6709\u4e0d\u9002\u53ca\u65f6\u5c31\u533b\u3002"),{tips:n,hint:"\u63d0\u793a\uff1a\u6392\u5375\u671f\u4e3a\u7b97\u6cd5\u63a8\u7b97\uff1b\u5982\u6709\u5907\u5b55/\u907f\u5b55\u660e\u786e\u9700\u6c42\uff0c\u5efa\u8bae\u7ed3\u5408\u66f4\u53ef\u9760\u65b9\u5f0f\u6216\u533b\u751f\u5efa\u8bae\u3002"})},buildTrend30:function(t){for(var s=new Date,e=[],a=[],r=29;r>=0;r--){var n=new Date(s);n.setDate(n.getDate()-r);var c=_(n);e.push(c),a.push("".concat(n.getMonth()+1,"/").concat(n.getDate()))}var o=e.map((function(s){var e=Array.isArray((t||{})[s])?(t||{})[s]:[];return e.length})),l=o.reduce((function(t,s){return t+s}),0),u=Math.max.apply(Math,(0,i.default)(o).concat([0])),d=l?"\u8fd130\u5929\u5171\u8bb0\u5f55 ".concat(l," \u6b21 \xb7 \u5355\u65e5\u6700\u9ad8 ").concat(u," \u6b21"):"\u8fd130\u5929\u6682\u65e0\u8bb0\u5f55";return{dates:e,labels:a,values:o,subText:d}},buildMethodPie:function(t,s){var e={};t.forEach((function(t){var s=function(t){var s=(t||"").trim();return s||"\u672a\u8bb0\u5f55\u63aa\u65bd"}(t.method);e[s]=(e[s]||0)+1}));var a=Object.keys(e).map((function(t){return{k:t,v:e[t]}}));a.sort((function(t,s){return s.v-t.v}));var i=a.slice(0,4),r=a.slice(4),n=r.reduce((function(t,s){return t+s.v}),0);n>0&&i.push({k:"\u5176\u4ed6",v:n});var c=["#ff6b9a","#ff9f6b","#6bc2ff","#8d6bff","#6bffb0"],o=i.map((function(t,s){return{label:t.k,value:t.v,color:c[s%c.length]}})),l=o.map((function(t){return{label:t.label,value:"".concat(t.value,"\u6b21"),color:t.color}})),u=s?"\u672c\u5468\u671f\u5171 ".concat(s," \u6b21"):"\u672c\u5468\u671f\u6682\u65e0\u8bb0\u5f55";return this.setData({methodSubText:u}),{slices:o,legend:l,subText:u}},measureAndDrawBar:function(t,s,e){var a=this;uni.createSelectorQuery().in(this).select("#barCanvas").boundingClientRect((function(i){if(i&&i.width&&i.height){a._barRect={left:i.left,top:i.top,width:i.width,height:i.height};var r=Math.max(1,Math.round(i.width)),n=Math.max(1,Math.round(i.height));a.setData({canvasW:r,barH:n}),a.$nextTick((function(){a.drawBar("barCanvas",r,n,t,s,e)}))}})).exec()},drawBar:function(t,s,e,a,r,n){var c=uni.createCanvasContext(t,this),o=s-34-14,l=e-14-28;c.clearRect(0,0,s,e),c.setFillStyle("#ffffff"),c.fillRect(0,0,s,e);var u=Math.max.apply(Math,(0,i.default)(n).concat([0]))||1;c.setStrokeStyle("rgba(0,0,0,0.06)"),c.setLineWidth(1);for(var _=1;_<=3;_++){var d=14+l*_/3;c.beginPath(),c.moveTo(34,d),c.lineTo(34+o,d),c.stroke()}c.setFillStyle("rgba(0,0,0,0.45)"),c.setFontSize(10),c.fillText("\u6700\u5927 ".concat(u),8,24);var f=n.length,h=Math.max(2,Math.floor((o-2*(f-1))/f));this._barGeom={pL:34,pT:14,w:o,h:l,bw:h,gap:2,n:f},this._barDates=a,this._barValues=n,this._barMaxV=u;for(var v=0;v<f;v++){var p=n[v]||0,w=Math.round(p/u*l),g=34+v*(h+2),$=l-w+14;c.setFillStyle(p>0?"rgba(255,107,154,0.85)":"rgba(0,0,0,0.06)"),c.fillRect(g,$,h,w),v%5!==0&&v!==f-1||(c.setFillStyle("rgba(0,0,0,0.45)"),c.setFontSize(10),c.fillText(r[v],g-4,14+l+18))}c.draw()},getCanvasPoint:function(t){var s=this._barRect;if(!s)return null;var e=t&&t.touches&&t.touches[0]?t.touches[0]:null;if(!e)return null;if("number"===typeof e.x&&"number"===typeof e.y)return{x:e.x,y:e.y};var a="number"===typeof e.clientX?e.clientX:null,i="number"===typeof e.clientY?e.clientY:null;return null==a||null==i?null:{x:a-s.left,y:i-s.top}},onBarTouch:function(t){var s=this.getCanvasPoint(t);if(s&&this._barGeom){var e=s.x,a=s.y,i=this._barGeom,r=i.pL,n=i.pT,c=i.w,o=i.h,l=i.bw,u=i.gap,_=i.n;if(e<r||e>r+c||a<n||a>n+o)this.setData({barTip:{show:!1,left:0,top:0,date:"",value:0}});else{var d=Math.floor((e-r)/(l+u));if(!(d<0||d>=_)){var f=this._barDates&&this._barDates[d]?this._barDates[d]:"",h=this._barValues&&"number"===typeof this._barValues[d]?this._barValues[d]:0,v=r+d*(l+u)+l/2-46;v<6&&(v=6),v>this.canvasW-92&&(v=this.canvasW-92);var p=this._barMaxV||1,w=Math.round(h/p*o),g=n+(o-w),$=g-44;$<6&&($=6),this.setData({barTip:{show:!0,left:Math.round(v),top:Math.round($),date:f,value:h}})}}}},drawPieImpl:function(t,s,e,a){var i=uni.createCanvasContext(t,this);i.clearRect(0,0,s,e),i.setFillStyle("#ffffff"),i.fillRect(0,0,s,e);var r=Math.round(s/2),n=Math.round(e/2)-6,c=.32*Math.min(s,e),o=.55*c,l=a.reduce((function(t,s){return t+(s.value||0)}),0)||1,u=-Math.PI/2;a.forEach((function(t){var s=t.value/l*Math.PI*2,e=u+s;i.beginPath(),i.moveTo(r,n),i.arc(r,n,c,u,e),i.closePath(),i.setFillStyle(t.color),i.fill(),u=e})),i.beginPath(),i.arc(r,n,o,0,2*Math.PI),i.setFillStyle("#ffffff"),i.fill(),i.setFillStyle("rgba(0,0,0,0.65)"),i.setFontSize(12),i.fillText("\u672c\u5468\u671f",r-16,n-2),i.setFontSize(12),i.fillText("".concat(l," \u6b21"),r-14,n+16),i.draw()},drawPie:function(t){var s=this;uni.createSelectorQuery().in(this).select("#pieCanvas").boundingClientRect((function(e){if(e&&e.width&&e.height){var a=Math.max(1,Math.round(e.width)),i=Math.max(1,Math.round(e.height));s.setData({canvasW:a,pieH:i}),s.$nextTick((function(){s.drawPieImpl("pieCanvas",a,i,t||[])}))}})).exec()}}};s.default=w},"0bdb":function(t,s,e){var a=e("d551");function i(t,s){for(var e=0;e<s.length;e++){var i=s[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}t.exports=function(t,s,e){return s&&i(t.prototype,s),e&&i(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"0f4e":function(t,s,e){"use strict";e.r(s);var a=e("9781"),i=e("902c");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,"4c351c7a",null,!1,a["a"],void 0);s["default"]=c.exports},"12c1":function(t,s,e){"use strict";e.r(s);var a=e("aa3e"),i=e("9860");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"13de":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","card user-card"),attrs:{_i:1}},[e("image",{staticClass:t._$s(2,"sc","avatar"),attrs:{src:t._$s(2,"a-src",t.displayAvatar),_i:2}}),e("view",{staticClass:t._$s(3,"sc","user-info"),attrs:{_i:3}},[e("view",{staticClass:t._$s(4,"sc","nickname"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.displayName)))]),e("view",{staticClass:t._$s(5,"sc","desc"),attrs:{_i:5}},[t._$s(6,"i",t.isAuthed)?e("text",{attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.maskedPhone)))]):e("text")])]),e("button",{staticClass:t._$s(8,"sc","primary-pill"),attrs:{_i:8},on:{click:t.openLoginSheet}},[t._v(t._$s(8,"t0-0",t._s(t.isAuthed?"\u8d26\u53f7":"\u767b\u5f55")))])]),e("view",{staticClass:t._$s(9,"sc","card list-card"),attrs:{_i:9}},[e("view",{staticClass:t._$s(10,"sc","row"),attrs:{_i:10}},[e("view",{staticClass:t._$s(11,"sc","row-left"),attrs:{_i:11}},[e("view",{staticClass:t._$s(12,"sc","row-title"),attrs:{_i:12}}),e("view",{staticClass:t._$s(13,"sc","row-sub"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.coupleStartDate?t.coupleStartDate:"\u672a\u8bbe\u7f6e")))])]),e("button",{staticClass:t._$s(14,"sc","row-action"),attrs:{_i:14},on:{click:t.openCoupleDateWheel}})]),e("view",{staticClass:t._$s(15,"sc","divider"),attrs:{_i:15}}),e("view",{staticClass:t._$s(16,"sc","row"),attrs:{_i:16}},[e("view",{staticClass:t._$s(17,"sc","row-left"),attrs:{_i:17}},[e("view",{staticClass:t._$s(18,"sc","row-title"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.periodLength)))]),e("view",{staticClass:t._$s(19,"sc","row-sub"),attrs:{_i:19}})]),e("button",{staticClass:t._$s(20,"sc","row-action"),attrs:{_i:20},on:{click:t.openPeriodWheel}})]),e("view",{staticClass:t._$s(21,"sc","divider"),attrs:{_i:21}}),e("view",{staticClass:t._$s(22,"sc","row"),attrs:{_i:22}},[e("view",{staticClass:t._$s(23,"sc","row-left"),attrs:{_i:23}},[e("view",{staticClass:t._$s(24,"sc","row-title"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.cycleLength)))]),e("view",{staticClass:t._$s(25,"sc","row-sub"),attrs:{_i:25}})]),e("button",{staticClass:t._$s(26,"sc","row-action"),attrs:{_i:26},on:{click:t.openCycleWheel}})])]),e("view",{staticClass:t._$s(27,"sc","card list-card"),attrs:{_i:27}},[e("view",{staticClass:t._$s(28,"sc","row"),attrs:{_i:28},on:{click:t.confirmClear}},[e("view",{staticClass:t._$s(29,"sc","row-left"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","row-title danger-title"),attrs:{_i:30}}),e("view",{staticClass:t._$s(31,"sc","row-sub"),attrs:{_i:31}})]),e("button",{staticClass:t._$s(32,"sc","row-action danger-btn"),attrs:{_i:32}})]),e("view",{staticClass:t._$s(33,"sc","divider"),attrs:{_i:33}}),e("view",{staticClass:t._$s(34,"sc","row"),attrs:{_i:34},on:{click:t.onShare}},[e("view",{staticClass:t._$s(35,"sc","row-left"),attrs:{_i:35}},[e("view",{staticClass:t._$s(36,"sc","row-title"),attrs:{_i:36}}),e("view",{staticClass:t._$s(37,"sc","row-sub"),attrs:{_i:37}})]),e("button",{staticClass:t._$s(38,"sc","row-action"),attrs:{_i:38}})]),e("view",{staticClass:t._$s(39,"sc","divider"),attrs:{_i:39}}),e("view",{staticClass:t._$s(40,"sc","row"),attrs:{_i:40},on:{click:t.goAbout}},[e("view",{staticClass:t._$s(41,"sc","row-left"),attrs:{_i:41}},[e("view",{staticClass:t._$s(42,"sc","row-title"),attrs:{_i:42}}),e("view",{staticClass:t._$s(43,"sc","row-sub"),attrs:{_i:43}})]),e("button",{staticClass:t._$s(44,"sc","row-action"),attrs:{_i:44}})])]),t._$s(45,"i",t.showSheet)?e("view",{staticClass:t._$s(45,"sc","mask"),attrs:{_i:45},on:{click:t.closeLoginSheet}},[e("view",{staticClass:t._$s(46,"sc","sheet"),attrs:{_i:46},on:{click:function(s){return s.stopPropagation(),t.noop(s)}}},[e("view",{staticClass:t._$s(47,"sc","sheet-header"),attrs:{_i:47}},[e("view",{staticClass:t._$s(48,"sc","sheet-handle"),attrs:{_i:48}}),e("view",{staticClass:t._$s(49,"sc","sheet-title"),attrs:{_i:49}},[t._v(t._$s(49,"t0-0",t._s(t.isAuthed?"\u8d26\u53f7\u7ba1\u7406":"\u624b\u673a\u53f7\u767b\u5f55")))])]),e("view",{staticClass:t._$s(50,"sc","sheet-body"),attrs:{_i:50}},[t._$s(51,"i",t.isAuthed)?e("view",{staticClass:t._$s(51,"sc","authed-box"),attrs:{_i:51}},[e("view",{staticClass:t._$s(52,"sc","authed-line"),attrs:{_i:52}},[t._v(t._$s(52,"t0-0",t._s(t.maskedPhone)))]),e("view",{staticClass:t._$s(53,"sc","field"),attrs:{_i:53}},[e("view",{staticClass:t._$s(54,"sc","field-label"),attrs:{_i:54}}),e("input",{staticClass:t._$s(55,"sc","field-input"),attrs:{value:t._$s(55,"a-value",t.draftNickName),_i:55},on:{input:t.onNickInput}})]),e("view",{staticClass:t._$s(56,"sc","field"),attrs:{_i:56}},[e("view",{staticClass:t._$s(57,"sc","field-label"),attrs:{_i:57}}),e("view",{staticClass:t._$s(58,"sc","avatar-pick"),attrs:{_i:58}},[e("image",{staticClass:t._$s(59,"sc","avatar-only"),attrs:{src:t._$s(59,"a-src",t.draftAvatarUrl||t.defaultAvatar),_i:59}}),e("button",{staticClass:t._$s(60,"sc","small-btn"),attrs:{_i:60},on:{click:t.pickAvatar}})])]),e("button",{staticClass:t._$s(61,"sc","action primary"),attrs:{_i:61},on:{click:t.saveLocalProfile}}),e("button",{staticClass:t._$s(62,"sc","action danger"),attrs:{_i:62},on:{click:t.logoutOnly}})]):e("view",{attrs:{_i:63}},[e("view",{staticClass:t._$s(64,"sc","field"),attrs:{_i:64}},[e("view",{staticClass:t._$s(65,"sc","field-label"),attrs:{_i:65}}),e("input",{staticClass:t._$s(66,"sc","field-input"),attrs:{value:t._$s(66,"a-value",t.phone),_i:66},on:{input:t.onPhoneInput}})]),e("view",{staticClass:t._$s(67,"sc","field code-field"),attrs:{_i:67}},[e("view",{staticClass:t._$s(68,"sc","field-label"),attrs:{_i:68}}),e("view",{staticClass:t._$s(69,"sc","code-row"),attrs:{_i:69}},[e("input",{staticClass:t._$s(70,"sc","field-input code-input"),attrs:{value:t._$s(70,"a-value",t.code),_i:70},on:{input:t.onCodeInput}}),e("button",{staticClass:t._$s(71,"sc","send-btn"),attrs:{disabled:t._$s(71,"a-disabled",t.sendDisabled),_i:71},on:{click:t.sendCode}},[t._v(t._$s(71,"t0-0",t._s(t.sendBtnText)))])])]),e("button",{staticClass:t._$s(72,"sc","action primary"),attrs:{disabled:t._$s(72,"a-disabled",t.loginDisabled),_i:72},on:{click:t.loginWithPhone}}),e("view",{staticClass:t._$s(73,"sc","tip"),attrs:{_i:73}})])])])]):t._e(),t._$s(74,"i",t.showWheel)?e("view",{staticClass:t._$s(74,"sc","w-mask"),attrs:{_i:74},on:{click:t.closeWheel}},[e("view",{staticClass:t._$s(75,"sc","w-sheet"),attrs:{_i:75},on:{click:function(s){return s.stopPropagation(),t.noop(s)}}},[e("view",{staticClass:t._$s(76,"sc","w-top"),attrs:{_i:76}},[e("text",{staticClass:t._$s(77,"sc","w-btn"),attrs:{_i:77},on:{click:t.closeWheel}}),e("text",{staticClass:t._$s(78,"sc","w-title"),attrs:{_i:78}},[t._v(t._$s(78,"t0-0",t._s(t.wheelTitle)))]),e("text",{staticClass:t._$s(79,"sc","w-btn w-ok"),attrs:{_i:79},on:{click:t.confirmWheel}})]),e("view",{staticClass:t._$s(80,"sc","w-body"),attrs:{_i:80}},[e("picker-view",{staticClass:t._$s(81,"sc","w-picker"),attrs:{value:t._$s(81,"a-value",[t.wheelIndex]),_i:81},on:{change:t.onWheelChange}},[e("picker-view-column",t._l(t._$s(83,"f",{forItems:t.wheelOptions}),(function(s,a,i,r){return e("view",{key:t._$s(83,"f",{forIndex:i,key:"w-"+a}),class:t._$s("83-"+r,"c",["w-item",a===t.wheelDraftIndex?"w-item-active":""]),attrs:{_i:"83-"+r}},[t._v(t._$s("83-"+r,"t0-0",t._s(s)))])})),0)]),e("view",{staticClass:t._$s(84,"sc","w-indicator"),attrs:{_i:84}})])])]):t._e(),e("YMDWheel",{attrs:{show:t.showDateWheel,value:t.coupleStartDate,title:"\u6211\u4eec\u5728\u4e00\u8d77\u7684\u65e5\u671f",_i:85},on:{cancel:t.closeCoupleDateWheel,confirm:t.onCoupleDateConfirm}})],1)},i=[]},"15f6":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","container page-bottom-space"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","card"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","label row-left-with-icon"),attrs:{_i:2}},[e("image",{staticClass:t._$s(3,"sc","label-icon"),attrs:{_i:3}}),e("text")]),e("view",{staticClass:t._$s(5,"sc","field field--single"),attrs:{_i:5}},[e("input",{staticClass:t._$s(6,"sc","field__input"),attrs:{value:t._$s(6,"a-value",t.form.title),_i:6},on:{input:t.onTitle}})]),e("view",{staticClass:t._$s(7,"sc","label row-left-with-icon"),attrs:{_i:7}},[e("image",{staticClass:t._$s(8,"sc","label-icon"),attrs:{_i:8}}),e("text")]),e("view",{attrs:{_i:10},on:{click:t.openDateWheel}},[e("view",{staticClass:t._$s(11,"sc","field field--single"),attrs:{_i:11}},[e("view",{class:t._$s(12,"c","field__value "+(t.form.date?"":"field__placeholder")),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.form.date||"\u8bf7\u9009\u62e9\u65e5\u671f")))])])]),e("view",{staticClass:t._$s(13,"sc","label row-left-with-icon"),attrs:{_i:13}},[e("image",{staticClass:t._$s(14,"sc","label-icon"),attrs:{_i:14}}),e("text")]),e("picker",{attrs:{range:t._$s(16,"a-range",t.typeOptions),value:t._$s(16,"a-value",t.typeIndex),_i:16},on:{change:t.onType}},[e("view",{staticClass:t._$s(17,"sc","field field--single"),attrs:{_i:17}},[e("view",{staticClass:t._$s(18,"sc","field__value"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.typeOptions[t.typeIndex].text)))])])]),e("view",{staticClass:t._$s(19,"sc","label row-left-with-icon"),attrs:{_i:19}},[e("image",{staticClass:t._$s(20,"sc","label-icon"),attrs:{_i:20}}),e("text")]),e("view",{staticClass:t._$s(22,"sc","field field--multi"),attrs:{_i:22}},[e("textarea",{staticClass:t._$s(23,"sc","field__textarea"),attrs:{value:t._$s(23,"a-value",t.form.note),_i:23},on:{input:t.onNote}})]),e("view",{staticClass:t._$s(24,"sc","row"),attrs:{_i:24}},[e("view",{staticClass:t._$s(25,"sc","row-left row-left-with-icon"),attrs:{_i:25}},[e("image",{staticClass:t._$s(26,"sc","top-icon"),attrs:{_i:26}}),e("view",{staticClass:t._$s(27,"sc","muted"),attrs:{_i:27}})]),e("switch",{attrs:{checked:t._$s(28,"a-checked",t.form.isTop),_i:28},on:{change:t.onTop}})]),e("view",{staticClass:t._$s(29,"sc","row"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","row-left row-left-with-icon"),attrs:{_i:30}},[e("image",{staticClass:t._$s(31,"sc","include-icon"),attrs:{_i:31}}),e("view",{staticClass:t._$s(32,"sc","muted"),attrs:{_i:32}})]),e("switch",{attrs:{checked:t._$s(33,"a-checked",t.form.includeStart),_i:33},on:{change:t.onIncludeStart}})]),e("view",[e("button",{staticClass:t._$s(35,"sc","btn"),attrs:{_i:35},on:{click:t.save}})])]),e("YMDWheel",{attrs:{show:t.showDateWheel,value:t.dateWheelTemp,title:"\u9009\u62e9\u65e5\u671f",subtitle:"",_i:36},on:{cancel:t.onDateWheelCancel,confirm:t.onDateWheelConfirm,"update:show":t.onDateWheelUpdateShow}})],1)},i=[]},"16a7":function(t,s,e){"use strict";e.r(s);var a=e("eeff"),i=e("b938");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},1917:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","card"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","card-title"),attrs:{_i:2}},[e("image",{staticClass:t._$s(3,"sc","card-title-icon"),attrs:{_i:3}}),e("text",{staticClass:t._$s(4,"sc","card-title-text"),attrs:{_i:4}})]),e("view",{staticClass:t._$s(5,"sc","grid"),attrs:{_i:5}},[e("view",{staticClass:t._$s(6,"sc","grid-item"),attrs:{_i:6}},[e("text",{staticClass:t._$s(7,"sc","gi-k"),attrs:{_i:7}}),e("text",{staticClass:t._$s(8,"sc","gi-v"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.metrics.totalThis)))])]),e("view",{staticClass:t._$s(9,"sc","grid-item"),attrs:{_i:9}},[e("text",{staticClass:t._$s(10,"sc","gi-k"),attrs:{_i:10}}),e("text",{staticClass:t._$s(11,"sc","gi-v"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.metrics.daysWith)))])]),e("view",{staticClass:t._$s(12,"sc","grid-item"),attrs:{_i:12}},[e("text",{staticClass:t._$s(13,"sc","gi-k"),attrs:{_i:13}}),e("text",{staticClass:t._$s(14,"sc","gi-v"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.metrics.avgText)))])]),e("view",{staticClass:t._$s(15,"sc","grid-item"),attrs:{_i:15}},[e("text",{staticClass:t._$s(16,"sc","gi-k"),attrs:{_i:16}}),e("text",{staticClass:t._$s(17,"sc","gi-v"),attrs:{_i:17}},[t._v(t._$s(17,"t0-0",t._s(t.metrics.maxGapText)))])])]),t._$s(18,"i",t.cycleText)?e("view",{staticClass:t._$s(18,"sc","p"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.cycleText)))]):t._e(),t._$s(19,"i",t.prevCycleText)?e("view",{staticClass:t._$s(19,"sc","p"),attrs:{_i:19}},[t._v(t._$s(19,"t0-0",t._s(t.prevCycleText)))]):t._e()]),e("view",{staticClass:t._$s(20,"sc","card"),attrs:{_i:20}},[e("view",{staticClass:t._$s(21,"sc","card-title card-title--with-right"),attrs:{_i:21}},[e("view",{staticClass:t._$s(22,"sc","card-title-left"),attrs:{_i:22}},[e("image",{staticClass:t._$s(23,"sc","card-title-icon"),attrs:{_i:23}}),e("text",{staticClass:t._$s(24,"sc","card-title-text"),attrs:{_i:24}})])]),e("view",{staticClass:t._$s(25,"sc","risk-list"),attrs:{_i:25}},t._l(t._$s(26,"f",{forItems:t.riskTips}),(function(s,a,i,r){return e("view",{key:t._$s(26,"f",{forIndex:i,key:a}),staticClass:t._$s("26-"+r,"sc","risk-item"),attrs:{_i:"26-"+r}},[e("view",{staticClass:t._$s("27-"+r,"sc","dot"),attrs:{_i:"27-"+r}}),e("text",{staticClass:t._$s("28-"+r,"sc","risk-text"),attrs:{_i:"28-"+r}},[t._v(t._$s("28-"+r,"t0-0",t._s(s)))])])})),0),t._$s(29,"i",t.riskHint)?e("view",{staticClass:t._$s(29,"sc","hint"),attrs:{_i:29}},[t._v(t._$s(29,"t0-0",t._s(t.riskHint)))]):t._e()]),e("view",{staticClass:t._$s(30,"sc","card"),attrs:{_i:30}},[e("view",{staticClass:t._$s(31,"sc","card-title"),attrs:{_i:31}},[e("image",{staticClass:t._$s(32,"sc","card-title-icon"),attrs:{_i:32}}),e("text",{staticClass:t._$s(33,"sc","card-title-text"),attrs:{_i:33}})]),e("view",{staticClass:t._$s(34,"sc","chart-sub"),attrs:{_i:34}},[t._v(t._$s(34,"t0-0",t._s(t.trendSubText)))]),e("view",{staticClass:t._$s(35,"sc","chart-wrap"),attrs:{_i:35}},[e("canvas",{staticClass:t._$s(36,"sc","canvas"),attrs:{id:"barCanvas",width:t._$s(36,"a-width",t.canvasW),height:t._$s(36,"a-height",t.barH),_i:36},on:{touchstart:t.onBarTouch}}),t._$s(37,"i",t.barTip.show)?e("view",{staticClass:t._$s(37,"sc","bar-tip"),style:t._$s(37,"s",{left:t.barTip.left+"px",top:t.barTip.top+"px"}),attrs:{_i:37}},[e("text",{staticClass:t._$s(38,"sc","bar-tip-date"),attrs:{_i:38}},[t._v(t._$s(38,"t0-0",t._s(t.barTip.date)))]),e("text",{staticClass:t._$s(39,"sc","bar-tip-val"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.barTip.value)))])]):t._e()]),e("view",{staticClass:t._$s(40,"sc","p small"),attrs:{_i:40}})]),e("view",{staticClass:t._$s(41,"sc","card"),attrs:{_i:41}},[e("view",{staticClass:t._$s(42,"sc","card-title"),attrs:{_i:42}},[e("image",{staticClass:t._$s(43,"sc","card-title-icon"),attrs:{_i:43}}),e("text",{staticClass:t._$s(44,"sc","card-title-text"),attrs:{_i:44}})]),e("view",{staticClass:t._$s(45,"sc","chart-sub"),attrs:{_i:45}},[t._v(t._$s(45,"t0-0",t._s(t.methodSubText)))]),e("canvas",{staticClass:t._$s(46,"sc","canvas"),attrs:{id:"pieCanvas",width:t._$s(46,"a-width",t.canvasW),height:t._$s(46,"a-height",t.pieH),_i:46}}),e("view",{staticClass:t._$s(47,"sc","legend"),attrs:{_i:47}},t._l(t._$s(48,"f",{forItems:t.methodLegend}),(function(s,a,i,r){return e("view",{key:t._$s(48,"f",{forIndex:i,key:a}),staticClass:t._$s("48-"+r,"sc","legend-item"),attrs:{_i:"48-"+r}},[e("view",{staticClass:t._$s("49-"+r,"sc","legend-color"),style:t._$s("49-"+r,"s",{backgroundColor:s.color}),attrs:{_i:"49-"+r}}),e("text",{staticClass:t._$s("50-"+r,"sc","legend-text"),attrs:{_i:"50-"+r}},[t._v(t._$s("50-"+r,"t0-0",t._s(s.label)))]),e("text",{staticClass:t._$s("51-"+r,"sc","legend-val"),attrs:{_i:"51-"+r}},[t._v(t._$s("51-"+r,"t0-0",t._s(s.value)))])])})),0)]),e("view",{staticClass:t._$s(52,"sc","card"),attrs:{_i:52}},[e("view",{staticClass:t._$s(53,"sc","card-title"),attrs:{_i:53}},[e("image",{staticClass:t._$s(54,"sc","card-title-icon"),attrs:{_i:54}}),e("text",{staticClass:t._$s(55,"sc","card-title-text"),attrs:{_i:55}})]),t._$s(56,"i",t.recentList.length)?e("view",{staticClass:t._$s(56,"sc","recent"),attrs:{_i:56}},t._l(t._$s(57,"f",{forItems:t.recentList}),(function(s,a,i,r){return e("view",{key:t._$s(57,"f",{forIndex:i,key:a}),staticClass:t._$s("57-"+r,"sc","recent-item"),attrs:{_i:"57-"+r}},[e("view",{staticClass:t._$s("58-"+r,"sc","recent-left"),attrs:{_i:"58-"+r}},[e("text",{staticClass:t._$s("59-"+r,"sc","recent-date"),attrs:{_i:"59-"+r}},[t._v(t._$s("59-"+r,"t0-0",t._s(s.dateLabel)))]),e("text",{staticClass:t._$s("60-"+r,"sc","recent-time"),attrs:{_i:"60-"+r}},[t._v(t._$s("60-"+r,"t0-0",t._s(s.time)))])]),e("text",{staticClass:t._$s("61-"+r,"sc","recent-method"),attrs:{_i:"61-"+r}},[t._v(t._$s("61-"+r,"t0-0",t._s(s.method)))])])})),0):e("view",{staticClass:t._$s(62,"sc","empty"),attrs:{_i:62}},[e("text",{staticClass:t._$s(63,"sc","empty-text"),attrs:{_i:63}}),e("view",{staticClass:t._$s(64,"sc","btn"),attrs:{_i:64},on:{click:t.goAdd}})])])])},i=[]},"1be9":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("7ca3")),r=a(e("91f6"));function n(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function c(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?n(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var o=e("5aad"),l="phone_auth_v1",u={cycleLength:28,periodLength:5,lutealDays:14};function _(t){var s=uni.getStorageSync("period_record_v1")||{},e=s&&s.settings?s.settings:{};s.settings=c(c(c({},u),e),t),uni.setStorageSync("period_record_v1",s)}var d={components:{YMDWheel:r.default},data:function(){return{defaultAvatar:"/assets/icons/default_avatar.png",coupleStartDate:"",userProfile:null,draftAvatarUrl:"",draftNickName:"",showSheet:!1,phone:"",code:"",countdown:0,timer:null,auth:null,isAuthed:!1,periodLength:u.periodLength,cycleLength:u.cycleLength,showWheel:!1,wheelType:"",wheelTitle:"",wheelOptions:[],wheelIndex:0,wheelDraftIndex:0,showDateWheel:!1}},computed:{displayName:function(){var t=this.userProfile;return t&&t.nickName?t.nickName:this.isAuthed?"\u5df2\u767b\u5f55\u7528\u6237":"\u672a\u767b\u5f55"},displayAvatar:function(){var t=this.userProfile;return t&&t.avatarUrl?t.avatarUrl:this.defaultAvatar},maskedPhone:function(){return function(t){var s=String(t||"");return s.length<7?s:s.slice(0,3)+"****"+s.slice(-4)}(this.auth&&this.auth.phone)},sendDisabled:function(){return this.countdown>0||!this.isValidPhone(this.phone)},sendBtnText:function(){return this.countdown>0?"".concat(this.countdown,"s"):"\u53d1\u9001"},loginDisabled:function(){return!this.isValidPhone(this.phone)||String(this.code||"").length<4}},onShow:function(){var t=o.getUserProfile?o.getUserProfile():null;this.setData({userProfile:t||null,draftAvatarUrl:t&&t.avatarUrl||"",draftNickName:t&&t.nickName||""});var s=o.getCoupleStartDate?o.getCoupleStartDate():"";this.setData({coupleStartDate:s||""});var e=uni.getStorageSync(l)||null,a=!!(e&&e.phone&&e.token);this.setData({auth:e,isAuthed:a});var i=function(){var t=uni.getStorageSync("period_record_v1"),s=t&&t.settings?t.settings:{};return{cycleLength:Number(s.cycleLength||u.cycleLength),periodLength:Number(s.periodLength||u.periodLength)}}();this.setData({periodLength:i.periodLength,cycleLength:i.cycleLength})},onHide:function(){this.clearTimer()},methods:{openCoupleDateWheel:function(){this.setData({showDateWheel:!0})},closeCoupleDateWheel:function(){this.setData({showDateWheel:!1})},onCoupleDateConfirm:function(t){o.setCoupleStartDate&&o.setCoupleStartDate(t),this.setData({coupleStartDate:t,showDateWheel:!1}),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"})},openLoginSheet:function(){var t=this.userProfile||{};this.setData({showSheet:!0,draftAvatarUrl:t.avatarUrl||"",draftNickName:t.nickName||""})},closeLoginSheet:function(){this.setData({showSheet:!1})},noop:function(){},onPhoneInput:function(t){var s=t.detail&&t.detail.value||"";this.setData({phone:s.replace(/\s/g,"")})},onCodeInput:function(t){var s=t.detail&&t.detail.value||"";this.setData({code:s.replace(/\s/g,"")})},isValidPhone:function(t){var s=String(t||"").trim();return/^1\d{10}$/.test(s)},sendCode:function(){var t=this;this.sendDisabled||(uni.showToast({title:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\uff08\u6f14\u793a\uff09",icon:"none"}),this.setData({countdown:60}),this.clearTimer(),this.timer=setInterval((function(){var s=Math.max(0,(t.countdown||0)-1);t.setData({countdown:s}),s<=0&&t.clearTimer()}),1e3))},loginWithPhone:function(){if(!this.loginDisabled){var t="mock_"+Date.now(),s={phone:String(this.phone),token:t,at:Date.now()};uni.setStorageSync(l,s),this.setData({auth:s,isAuthed:!0,showSheet:!1,code:""}),uni.showToast({title:"\u767b\u5f55\u6210\u529f",icon:"success"})}},logoutOnly:function(){uni.removeStorageSync(l),this.setData({auth:null,isAuthed:!1,showSheet:!1}),uni.showToast({title:"\u5df2\u9000\u51fa",icon:"success"})},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onNickInput:function(t){var s=t.detail&&t.detail.value||"";this.setData({draftNickName:s})},pickAvatar:function(){var t=this;uni.chooseImage({count:1,sizeType:["compressed"],success:function(s){var e=s.tempFilePaths&&s.tempFilePaths[0]||"";t.setData({draftAvatarUrl:e})}})},saveLocalProfile:function(){var t=String(this.draftNickName||"").trim();if(t){var s={nickName:t,avatarUrl:this.draftAvatarUrl||""};o.setUserProfile&&o.setUserProfile(s),this.setData({userProfile:s}),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"}),this.closeLoginSheet()}else uni.showToast({title:"\u8bf7\u5148\u586b\u5199\u6635\u79f0",icon:"none"})},openPeriodWheel:function(){for(var t=[],s=2;s<=20;s++)t.push(s);var e=Math.max(0,t.indexOf(Number(this.periodLength)));this.setData({showWheel:!0,wheelType:"period",wheelTitle:"\u7ecf\u671f\u957f\u5ea6",wheelOptions:t,wheelIndex:e,wheelDraftIndex:e})},openCycleWheel:function(){for(var t=[],s=16;s<=60;s++)t.push(s);var e=Math.max(0,t.indexOf(Number(this.cycleLength)));this.setData({showWheel:!0,wheelType:"cycle",wheelTitle:"\u5468\u671f\u957f\u5ea6",wheelOptions:t,wheelIndex:e,wheelDraftIndex:e})},closeWheel:function(){this.setData({showWheel:!1})},onWheelChange:function(t){var s=t&&t.detail&&t.detail.value?t.detail.value:[0],e=Number(s[0]||0);this.setData({wheelDraftIndex:e})},confirmWheel:function(){var t=Number(this.wheelDraftIndex||0),s=this.wheelOptions[t];"period"===this.wheelType?(_({periodLength:Number(s)}),this.setData({periodLength:Number(s)})):"cycle"===this.wheelType&&(_({cycleLength:Number(s)}),this.setData({cycleLength:Number(s)})),this.setData({showWheel:!1}),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"})},confirmClear:function(){var t=this;uni.showModal({title:"\u786e\u8ba4\u6e05\u7a7a\uff1f",content:"\u5c06\u5220\u9664\u672c\u673a\u6240\u6709\u7f13\u5b58\u6570\u636e\uff08\u5305\u62ec\u91cd\u8981\u65e5\u5b50\u3001\u7ecf\u671f\u8bb0\u5f55\u7b49\uff09\uff0c\u4e0d\u53ef\u6062\u590d\u3002",confirmText:"\u6e05\u7a7a",confirmColor:"#e5484d",success:function(s){if(s.confirm){try{uni.clearStorageSync()}catch(e){try{uni.removeStorageSync(l),uni.removeStorageSync("period_record_v1")}catch(a){}}t.setData({userProfile:null,draftAvatarUrl:"",draftNickName:"",auth:null,isAuthed:!1,phone:"",code:"",coupleStartDate:"",showSheet:!1,showWheel:!1,showDateWheel:!1}),uni.showToast({title:"\u5df2\u6e05\u7a7a",icon:"success"}),uni.switchTab({url:"/pages/home/home"})}}})},goAbout:function(){uni.navigateTo({url:"/pages/about/about"})},onShare:function(){}}};s.default=d},2332:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},i={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,s=getCurrentPages(),e=s[s.length-1];this.$pageVm=e.$vm||e,this.$pageVm.$on("hook:onResize",(function(s){t.$emit("resize",s)})),this.$pageVm.$on("hook:onPageScroll",(function(s){t.$emit("scroll",s)})),this._currentWebview=e.$getAppWebview(),this.enablePullDownRefresh&&this.setPullDownRefresh(this._currentWebview,!0),this.$watch("enablePullDownRefresh",(function(s){t.setPullDownRefresh(t._currentWebview,s)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta(e.$page.id)})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted:function(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,s){t.setStyle({pullToRefresh:{support:s,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(t){var s=this;this.$nextTick((function(){uni.setPageMeta({pageStyle:s.pageStyle,rootFontSize:s.rootFontSize,pageId:t})}))},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,s=String(this.scrollTop);if(-1!==s.indexOf("rpx")&&(s=uni.upx2px(s.replace("rpx",""))),s=parseFloat(s),!isNaN(s)){var e=function e(i){i.scrollTop===s&&(t.$pageVm.$off("hook:onPageScroll",e),t.$emit("scrolldone",a))};uni.pageScrollTo({scrollTop:s,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",e)}})}}}};s.default=i},2414:function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("7ca3"));function r(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function n(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?r(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}function c(){return uni.getStorageSync("period_record_v1")||{}}function o(t){uni.setStorageSync("period_record_v1",t)}var l=Array.from({length:24},(function(t,s){return String(s).padStart(2,"0")})),u=Array.from({length:60},(function(t,s){return String(s).padStart(2,"0")})),_=[{key:"cs_01",label:"\u65e0\u63aa\u65bd",icon:"/static/assets/icons/cs/cs_01.svg"},{key:"cs_02",label:"\u907f\u5b55\u5957",icon:"/static/assets/icons/cs/cs_02.svg"},{key:"cs_03",label:"\u4f53\u5916\u6392\u7cbe",icon:"/static/assets/icons/cs/cs_03.svg"},{key:"cs_04",label:"\u672a\u5c04\u7cbe",icon:"/static/assets/icons/cs/cs_04.svg"},{key:"cs_05",label:"\u7d27\u6025\u907f\u5b55\u836f",icon:"/static/assets/icons/cs/cs_05.svg"},{key:"cs_06",label:"\u77ed\u6548\u907f\u5b55\u836f",icon:"/static/assets/icons/cs/cs_06.svg"},{key:"cs_07",label:"\u957f\u6548\u907f\u5b55\u836f",icon:"/static/assets/icons/cs/cs_07.svg"},{key:"cs_09",label:"\u5176\u4ed6\u63aa\u65bd",icon:"/static/assets/icons/cs/cs_09.svg"}],d={data:function(){return{date:"",records:[],showPopup:!1,time:"12:00",hours:l,minutes:u,timeWheelValue:[12,0],methodOptions:_,methodKey:"cs_01",method:"\u65e0\u63aa\u65bd",startX_var:0,startY_var:0,activeIndex_var:-1,rpxPerPx_var:2}},onLoad:function(t){var s=t.date||"",e=uni.getSystemInfoSync(),a=750/e.windowWidth,i=c(),r=i.sexRecords&&i.sexRecords[s]?i.sexRecords[s]:[];this.setData({date:s,rpxPerPx_var:a,records:this.initSwipe(r)})},methods:{parseTimeToWheel:function(t){var s=(t||"00:00").trim(),e=s.split(":"),a=parseInt(e[0]||"0",10),i=parseInt(e[1]||"0",10);isNaN(a)&&(a=0),isNaN(i)&&(i=0),a=Math.min(23,Math.max(0,a)),i=Math.min(59,Math.max(0,i));var r=String(a).padStart(2,"0"),n=String(i).padStart(2,"0");return{wheelValue:[a,i],safeTime:"".concat(r,":").concat(n)}},onTimeWheelChange:function(t){var s=t.detail.value||[0,0],e=s[0]||0,a=s[1]||0,i=this.hours[e]||"00",r=this.minutes[a]||"00";this.setData({timeWheelValue:[e,a],time:"".concat(i,":").concat(r)})},onSelectMethod:function(t){t&&this.setData({methodKey:t.key,method:t.label})},onAddTap:function(){var t=this.parseTimeToWheel(this.time),s=t.wheelValue,e=t.safeTime,a=this.methodKey||"cs_01";this.setData({showPopup:!0,time:e,timeWheelValue:s,methodKey:a})},onCancel:function(){this.setData({showPopup:!1})},onConfirm:function(){var t=c();t.sexRecords||(t.sexRecords={}),t.sexRecords[this.date]||(t.sexRecords[this.date]=[]),t.sexRecords[this.date].unshift({time:this.time,method:this.method}),o(t),this.setData({records:this.initSwipe(t.sexRecords[this.date]),showPopup:!1,activeIndex_var:-1})},initSwipe:function(t){return(t||[]).map((function(t){return n(n({},t),{},{_x:0,_moving:!1})}))},onSwipeTap:function(t){var s,e=t.currentTarget.dataset.index,a=null===(s=this.records)||void 0===s?void 0:s[e];a&&0!==a._x&&this.closeAllSwipe&&this.closeAllSwipe()},onSwipeStart:function(t){var s=t.currentTarget.dataset.index,e=t.touches[0];this.setData({startX_var:e.clientX,startY_var:e.clientY,activeIndex_var:s});var a=this.records.slice();a[s]&&(a[s]._moving=!0),this.setData({records:a})},onSwipeMove:function(t){var s=this.activeIndex_var;if(!(s<0)){var e=t.touches[0],a=e.clientX-this.startX_var,i=e.clientY-this.startY_var;if(!(Math.abs(a)<Math.abs(i))){var r=this.records.slice(),n=r[s];if(n){var c=a*this.rpxPerPx_var,o=c;-160===n._x&&(o=-160+c),o<-160&&(o=-160),o>0&&(o=0),n._x=o,r[s]=n,this.setData({records:r})}}}},onSwipeEnd:function(){var t=this.activeIndex_var;if(!(t<0)){var s=this.records.slice(),e=s[t];if(e){var a=e._x<-80;e._x=a?-160:0,e._moving=!1,s[t]=e,this.setData({records:s,activeIndex_var:a?t:-1})}}},onDelete:function(t){var s=t.currentTarget.dataset.index,e=c(),a=e.sexRecords&&e.sexRecords[this.date]?e.sexRecords[this.date]:[];a.length&&(a.splice(s,1),e.sexRecords||(e.sexRecords={}),e.sexRecords[this.date]=a,o(e),this.setData({records:this.initSwipe(a),activeIndex_var:-1}))}}};s.default=d},"27cb":function(t,s,e){"use strict";e.r(s);var a=e("2414"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"280f":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={data:function(){return{}}}},"2e0e":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={data:function(){return{sections:[{title:"\u8bb0\u5f55\u91cd\u8981\u7684\u65e5\u5b50",desc:"\u5c06\u751f\u6d3b\u4e2d\u503c\u5f97\u8bb0\u4f4f\u7684\u65f6\u523b\u96c6\u4e2d\u8bb0\u5f55\uff0c\u4e0d\u8bba\u662f\u7eaa\u5ff5\u65e5\u3001\u76ee\u6807\u8282\u70b9\uff0c\u8fd8\u662f\u4e2a\u4eba\u91cc\u7a0b\u7891\uff0c\u90fd\u53ef\u4ee5\u6e05\u6670\u4fdd\u5b58\u3002",items:["\u652f\u6301\u6dfb\u52a0\u591a\u4e2a\u91cd\u8981\u65e5\u5b50","\u81ea\u52a8\u8ba1\u7b97\u5df2\u8fc7\u53bb\u7684\u5929\u6570","\u65e5\u671f\u6e05\u6670\u5c55\u793a\uff0c\u4e00\u773c\u53ef\u89c1"]},{title:"\u5468\u671f\u4e0e\u5065\u5eb7\u8bb0\u5f55",desc:"\u63d0\u4f9b\u57fa\u7840\u7684\u5468\u671f\u8bb0\u5f55\u4e0e\u7edf\u8ba1\u529f\u80fd\uff0c\u5e2e\u52a9\u7528\u6237\u66f4\u597d\u5730\u4e86\u89e3\u81ea\u8eab\u72b6\u6001\u53d8\u5316\uff0c\u901a\u8fc7\u957f\u671f\u8bb0\u5f55\u5f62\u6210\u53ef\u56de\u987e\u7684\u53c2\u8003\u3002",items:["\u5468\u671f\u8d77\u6b62\u65f6\u95f4\u8bb0\u5f55","\u5468\u671f\u957f\u5ea6\u4e0e\u7a33\u5b9a\u6027\u5206\u6790","\u6570\u636e\u4ec5\u4fdd\u5b58\u5728\u672c\u5730\uff0c\u6ce8\u91cd\u9690\u79c1"]},{title:"\u4f53\u91cd\u4e0e\u8eab\u4f53\u53d8\u5316",desc:"\u652f\u6301\u8bb0\u5f55\u4f53\u91cd\u6570\u636e\uff0c\u81ea\u52a8\u6309\u65f6\u95f4\u6574\u7406\u4e0e\u5c55\u793a\u53d8\u5316\u8d8b\u52bf\uff0c\u5e2e\u52a9\u7528\u6237\u66f4\u76f4\u89c2\u5730\u4e86\u89e3\u957f\u671f\u53d8\u5316\u3002",items:["\u652f\u6301\u7cbe\u786e\u5230\u5c0f\u6570\u7684\u4f53\u91cd\u8bb0\u5f55","\u6309\u65e5\u671f\u5c55\u793a\u5386\u53f2\u6570\u636e","\u53d8\u5316\u8d8b\u52bf\u4e00\u76ee\u4e86\u7136"]},{title:"\u6570\u636e\u5206\u6790\u4e0e\u603b\u7ed3",desc:"\u5bf9\u5df2\u8bb0\u5f55\u7684\u6570\u636e\u8fdb\u884c\u7b80\u5355\u6574\u7406\u4e0e\u5206\u6790\uff0c\u63d0\u4f9b\u6e05\u6670\u7684\u9636\u6bb5\u6027\u603b\u7ed3\uff0c\u5e2e\u52a9\u7528\u6237\u4ece\u8bb0\u5f55\u4e2d\u83b7\u5f97\u5b9e\u9645\u53c2\u8003\u4ef7\u503c\u3002",items:["\u5468\u671f\u4e0e\u8bb0\u5f55\u6c47\u603b\u5c55\u793a","\u81ea\u52a8\u751f\u6210\u9636\u6bb5\u6027\u6982\u89c8","\u4fe1\u606f\u6e05\u6670\uff0c\u4e0d\u505a\u590d\u6742\u89e3\u8bfb"]},{title:"\u7b80\u6d01\u3001\u4e13\u6ce8\u7684\u8bbe\u8ba1",desc:"\u6574\u4f53\u754c\u9762\u4ee5\u7b80\u6d01\u3001\u67d4\u548c\u4e3a\u8bbe\u8ba1\u539f\u5219\uff0c\u907f\u514d\u5197\u4f59\u5e72\u6270\uff0c\u8ba9\u8bb0\u5f55\u672c\u8eab\u6210\u4e3a\u4f7f\u7528\u7684\u6838\u5fc3\u3002",items:["\u65e0\u5e7f\u544a\u3001\u65e0\u793e\u4ea4","\u64cd\u4f5c\u76f4\u89c2\uff0c\u903b\u8f91\u6e05\u6670","\u9002\u5408\u957f\u671f\u3001\u4f4e\u9891\u4f46\u6301\u7eed\u4f7f\u7528"]},{title:"\u672c\u5730\u5b58\u50a8\u4e0e\u9690\u79c1\u4fdd\u62a4",desc:"\u6240\u6709\u6570\u636e\u9ed8\u8ba4\u4fdd\u5b58\u5728\u672c\u5730\u8bbe\u5907\u4e2d\uff0c\u4e0d\u4e3b\u52a8\u4e0a\u4f20\u3001\u4e0d\u505a\u4e91\u540c\u6b65\uff1b\u7528\u6237\u5bf9\u81ea\u5df1\u7684\u6570\u636e\u62e5\u6709\u5b8c\u5168\u63a7\u5236\u6743\u3002",items:["\u4e0d\u5f3a\u5236\u767b\u5f55","\u4e0d\u6536\u96c6\u65e0\u5173\u4fe1\u606f","\u6570\u636e\u4ec5\u7528\u4e8e\u529f\u80fd\u672c\u8eab"]}]}},methods:{}}},"2ebd":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=e("5aad"),i=e("f463");var r={data:function(){return{id:"",item:null,typeText:"",heroLabel:"",heroSub:"",heroNumber:"0",heroUnit:"days"}},computed:{cardStyle:function(){var t=this.item&&this.item.bgUrl?this.item.bgUrl:"";return t?{backgroundImage:"url('".concat(t,"')"),backgroundSize:"cover",backgroundPosition:"center"}:{backgroundImage:"linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.92))"}}},onLoad:function(t){uni.setNavigationBarTitle({title:"\u8be6\u60c5"});var s=t&&t.id?t.id:"";if(!s)return uni.showToast({title:"\u7f3a\u5c11\u53c2\u6570",icon:"none"}),void uni.switchTab({url:"/pages/home/home"});this.id=s,this.refresh()},onShow:function(){this.id&&this.refresh()},methods:{refresh:function(){var t=this,s=a.getList?a.getList():[],e=(s||[]).find((function(s){return String(s.id)===String(t.id)}));if(!e)return uni.showToast({title:"\u627e\u4e0d\u5230\u8be5\u8bb0\u5f55",icon:"none"}),void uni.switchTab({url:"/pages/home/home"});this.item=e,this.typeText=function(t){return"anniversary"===t?"\u7eaa\u5ff5\u65e5":"birthday"===t?"\u751f\u65e5":"\u5176\u4ed6"}(e.type);var r=function(t,s){var e=i.daysTo(t);if(0===e)return{heroLabel:"\u5c31\u662f\u4eca\u5929\uff01",heroSub:"\u522b\u5fd8\u4e86\u597d\u597d\u5e86\u795d\u4e00\u4e0b\uff5e",heroNumber:"0",heroUnit:"days"};if(e>0){var a=s?e+1:e;return{heroLabel:"\u8fd8\u6709",heroSub:"\u671f\u5f85\u4e00\u4e0b\u5427\uff5e",heroNumber:String(a),heroUnit:"days"}}return{heroLabel:"\u5df2\u7ecf",heroSub:"\u8fd9\u4e00\u5929\u5df2\u7ecf\u8fc7\u53bb",heroNumber:String(Math.abs(e)),heroUnit:"days"}}(e.date,!!e.includeStart);this.heroLabel=r.heroLabel,this.heroSub=r.heroSub,this.heroNumber=r.heroNumber,this.heroUnit=r.heroUnit},goEdit:function(){this.id&&uni.navigateTo({url:"/pages/editDetail/editDetail?id=".concat(this.id)})},remove:function(){var t=this;this.id&&uni.showModal({title:"\u5220\u9664",content:"\u786e\u5b9a\u5220\u9664\u8fd9\u4e2a\u91cd\u8981\u65e5\u5b50\u5417\uff1f",confirmText:"\u5220\u9664",confirmColor:"#ff4d6d",success:function(s){if(s.confirm){var e=a.getList?a.getList():[],i=(e||[]).filter((function(s){return String(s.id)!==String(t.id)}));a.setList&&a.setList(i),uni.showToast({title:"\u5df2\u5220\u9664",icon:"success"}),uni.switchTab({url:"/pages/home/home"})}}})}}};s.default=r},"2fc0":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=null,i=function(t,s,e){null!==a&&clearTimeout(a),a=setTimeout((function(){t[s]()}),e)};s.default=i},3362:function(t,s,e){"use strict";e.r(s);var a=e("ef9a"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"34cf":function(t,s,e){var a=e("ed45"),i=e("7172"),r=e("6382"),n=e("dd3e");t.exports=function(t,s){return a(t)||i(t,s)||r(t,s)||n()},t.exports.__esModule=!0,t.exports["default"]=t.exports},"34d0":function(t,s,e){"use strict";e.r(s);var a=e("560b"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},3724:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a={name:"YMDWheel",props:{show:{type:Boolean,default:!1},value:{type:String,default:""},title:{type:String,default:"\u9009\u62e9\u65e5\u671f"},subtitle:{type:String,default:""},cancelText:{type:String,default:"\u53d6\u6d88"},okText:{type:String,default:"\u5b8c\u6210"},rangeYears:{type:Number,default:50},indicatorHeightRpx:{type:Number,default:96}},data:function(){return{dateYears:[],dateMonths:[],dateDays:[],dateWheelIndex:[0,0,0],dateWheelDraftIndex:[0,0,0]}},watch:{show:function(t){t&&this.ensureDateWheelData(this.value)},value:function(t){this.show&&this.ensureDateWheelData(t)}},mounted:function(){this.show&&this.ensureDateWheelData(this.value)},methods:{noop:function(){},pad2:function(t){var s=String(t);return s.length>=2?s:"0"+s},daysInMonth:function(t,s){var e=Number(t),a=Number(s);return new Date(e,a,0).getDate()},buildYearRange:function(){for(var t=new Date,s=t.getFullYear(),e=s-Number(this.rangeYears||50),a=s+Number(this.rangeYears||50),i=[],r=e;r<=a;r++)i.push(r);return i},ensureDateWheelData:function(t){var s=new Date,e=s.getFullYear(),a=s.getMonth()+1,i=s.getDate();if(t&&/^\d{4}-\d{2}-\d{2}$/.test(t)){var r=t.split("-").map((function(t){return Number(t)}));e=r[0]||e,a=r[1]||a,i=r[2]||i}for(var n=this.buildYearRange(),c=[],o=1;o<=12;o++)c.push(o);for(var l=this.daysInMonth(e,a),u=[],_=1;_<=l;_++)u.push(_);var d=Math.max(0,n.indexOf(Number(e))),f=Math.max(0,c.indexOf(Number(a))),h=Math.max(0,Math.min(u.length-1,u.indexOf(Number(i))));this.dateYears=n,this.dateMonths=c,this.dateDays=u,this.dateWheelIndex=[d,f,h],this.dateWheelDraftIndex=[d,f,h]},onWheelChange:function(t){var s=t&&t.detail&&t.detail.value||[0,0,0],e=[Number(s[0]||0),Number(s[1]||0),Number(s[2]||0)],a=this.dateWheelDraftIndex||[0,0,0],i=e[0]!==a[0],r=e[1]!==a[1];if(this.dateWheelDraftIndex=e,i||r){for(var n=this.dateYears[e[0]],c=this.dateMonths[e[1]],o=this.daysInMonth(n,c),l=[],u=1;u<=o;u++)l.push(u);var _=Math.max(0,Math.min(l.length-1,e[2])),d=[e[0],e[1],_];this.dateDays=l,this.dateWheelIndex=d,this.dateWheelDraftIndex=d}else this.dateWheelIndex=e},onCancel:function(){this.$emit("cancel"),this.$emit("update:show",!1)},onConfirm:function(){var t=this.dateWheelDraftIndex||[0,0,0],s=this.dateYears[t[0]],e=this.dateMonths[t[1]],a=this.dateDays[t[2]],i="".concat(s,"-").concat(this.pad2(e),"-").concat(this.pad2(a));this.$emit("confirm",i),this.$emit("input",i),this.$emit("update:show",!1)}}};s.default=a},"3b2d":function(t,s){function e(s){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,e(s)}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},"3e98":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.parseEventDynamicCode=function(t,s){"function"===typeof this[s]&&this[s](t)}},"3fd4":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={data:function(){return{}}}},4082:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","add-btn"),attrs:{_i:1},on:{click:t.onAddTap}},[e("image",{staticClass:t._$s(2,"sc","icon"),attrs:{_i:2}}),e("text")]),t._$s(4,"i",t.records.length)?e("view",{staticClass:t._$s(4,"sc","list"),attrs:{_i:4}},t._l(t._$s(5,"f",{forItems:t.records}),(function(s,a,i,r){return e("view",{key:t._$s(5,"f",{forIndex:i,key:a}),staticClass:t._$s("5-"+r,"sc","swipe-item"),attrs:{"data-index":t._$s("5-"+r,"a-data-index",a),_i:"5-"+r},on:{touchstart:t.onSwipeStart,touchmove:t.onSwipeMove,touchend:t.onSwipeEnd,touchcancel:t.onSwipeEnd}},[e("view",{staticClass:t._$s("6-"+r,"sc","swipe-actions"),attrs:{"data-index":t._$s("6-"+r,"a-data-index",a),_i:"6-"+r},on:{click:t.onDelete}}),e("view",{staticClass:t._$s("7-"+r,"sc","swipe-content"),class:t._$s("7-"+r,"c",{"no-anim":s._moving}),style:t._$s("7-"+r,"s",{transform:"translateX("+s._x+"rpx)"}),attrs:{"data-index":t._$s("7-"+r,"a-data-index",a),_i:"7-"+r},on:{click:t.onSwipeTap}},[e("view",{staticClass:t._$s("8-"+r,"sc","card-row"),attrs:{_i:"8-"+r}},[e("view",{staticClass:t._$s("9-"+r,"sc","left"),attrs:{_i:"9-"+r}},[e("image",{staticClass:t._$s("10-"+r,"sc","heart"),attrs:{_i:"10-"+r}}),e("text",{staticClass:t._$s("11-"+r,"sc","count"),attrs:{_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(a+1)))]),e("text",{staticClass:t._$s("12-"+r,"sc","time"),attrs:{_i:"12-"+r}},[t._v(t._$s("12-"+r,"t0-0",t._s(s.time)))])]),e("text",{staticClass:t._$s("13-"+r,"sc","method"),attrs:{_i:"13-"+r}},[t._v(t._$s("13-"+r,"t0-0",t._s(s.method)))])])])])})),0):e("view",{staticClass:t._$s(14,"sc","list"),attrs:{_i:14}}),t._$s(15,"i",t.showPopup)?e("view",{staticClass:t._$s(15,"sc","mask"),attrs:{_i:15},on:{click:t.onCancel}}):t._e(),t._$s(16,"i",t.showPopup)?e("view",{staticClass:t._$s(16,"sc","popup"),attrs:{_i:16},on:{click:function(t){t.stopPropagation()}}},[e("view",{staticClass:t._$s(17,"sc","popup-title"),attrs:{_i:17}}),e("view",{staticClass:t._$s(18,"sc","card"),attrs:{_i:18}},[e("view",{staticClass:t._$s(19,"sc","section-head"),attrs:{_i:19}},[e("view",{staticClass:t._$s(20,"sc","section-left"),attrs:{_i:20}},[e("image",{staticClass:t._$s(21,"sc","section-icon"),attrs:{_i:21}}),e("text",{staticClass:t._$s(22,"sc","section-title"),attrs:{_i:22}})]),e("text",{staticClass:t._$s(23,"sc","section-value"),attrs:{_i:23}},[t._v(t._$s(23,"t0-0",t._s(t.time)))])]),e("view",{staticClass:t._$s(24,"sc","time-wheel"),attrs:{_i:24}},[e("picker-view",{staticClass:t._$s(25,"sc","time-picker"),attrs:{value:t._$s(25,"a-value",t.timeWheelValue),_i:25},on:{change:t.onTimeWheelChange}},[e("picker-view-column",t._l(t._$s(27,"f",{forItems:t.hours}),(function(s,a,i,r){return e("view",{key:t._$s(27,"f",{forIndex:i,key:"h"+a}),staticClass:t._$s("27-"+r,"sc","time-item"),attrs:{_i:"27-"+r}},[t._v(t._$s("27-"+r,"t0-0",t._s(s)))])})),0),e("picker-view-column",t._l(t._$s(29,"f",{forItems:t.minutes}),(function(s,a,i,r){return e("view",{key:t._$s(29,"f",{forIndex:i,key:"m"+a}),staticClass:t._$s("29-"+r,"sc","time-item"),attrs:{_i:"29-"+r}},[t._v(t._$s("29-"+r,"t0-0",t._s(s)))])})),0)]),e("view",{staticClass:t._$s(30,"sc","time-colon"),attrs:{_i:30}})])]),e("view",{staticClass:t._$s(31,"sc","card"),attrs:{_i:31}},[e("view",{staticClass:t._$s(32,"sc","section-head"),attrs:{_i:32}},[e("view",{staticClass:t._$s(33,"sc","section-left"),attrs:{_i:33}},[e("image",{staticClass:t._$s(34,"sc","section-icon"),attrs:{_i:34}}),e("text",{staticClass:t._$s(35,"sc","section-title"),attrs:{_i:35}})])]),e("view",{staticClass:t._$s(36,"sc","method-card"),attrs:{_i:36}},[e("view",{staticClass:t._$s(37,"sc","method-grid"),attrs:{_i:37}},t._l(t._$s(38,"f",{forItems:t.methodOptions}),(function(s,a,i,r){return e("view",{key:t._$s(38,"f",{forIndex:i,key:s.key}),staticClass:t._$s("38-"+r,"sc","method-item"),class:t._$s("38-"+r,"c",{active:t.methodKey===s.key}),attrs:{_i:"38-"+r},on:{click:function(e){return t.onSelectMethod(s)}}},[e("view",{staticClass:t._$s("39-"+r,"sc","method-icon-wrap"),attrs:{_i:"39-"+r}},[e("image",{staticClass:t._$s("40-"+r,"sc","method-icon"),attrs:{src:t._$s("40-"+r,"a-src",s.icon),_i:"40-"+r}}),t._$s("41-"+r,"i",t.methodKey===s.key)?e("view",{staticClass:t._$s("41-"+r,"sc","method-badge"),attrs:{_i:"41-"+r}}):t._e()]),e("text",{staticClass:t._$s("42-"+r,"sc","method-text"),attrs:{_i:"42-"+r}},[t._v(t._$s("42-"+r,"t0-0",t._s(s.label)))])])})),0)])]),e("view",{staticClass:t._$s(43,"sc","popup-actions"),attrs:{_i:43}},[e("view",{staticClass:t._$s(44,"sc","btn cancel"),attrs:{_i:44},on:{click:t.onCancel}}),e("view",{staticClass:t._$s(45,"sc","btn ok"),attrs:{_i:45},on:{click:t.onConfirm}})])]):t._e()])},i=[]},"40b8":function(t,s,e){"use strict";e.r(s);var a=e("4e5f"),i=e("fee0");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"425a":function(t,s,e){"use strict";e.r(s);var a=e("b7aa"),i=e("e4df");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,"4bb5aa5b",null,!1,a["a"],void 0);s["default"]=c.exports},4440:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={name:"PrivacyPopup",methods:{noop:function(){}}}},"47a9":function(t,s){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"4b9f":function(t,s,e){"use strict";e.r(s);var a=e("02f6");for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(i);var r=e("828b"),n=Object(r["a"])(a["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);s["default"]=n.exports},"4cb6":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","about-root"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","about-content"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","app-header"),attrs:{_i:2}},[e("image",{staticClass:t._$s(3,"sc","app-logo"),attrs:{_i:3}}),e("text",{staticClass:t._$s(4,"sc","app-version"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.version)))])]),e("view",{staticClass:t._$s(5,"sc","card"),attrs:{_i:5}},[e("view",{staticClass:t._$s(6,"sc","card-item"),attrs:{_i:6},on:{click:t.onIntro}},[e("view",{staticClass:t._$s(7,"sc","left"),attrs:{_i:7}},[e("image",{staticClass:t._$s(8,"sc","item-icon"),attrs:{_i:8}}),e("text",{staticClass:t._$s(9,"sc","item-text"),attrs:{_i:9}})]),e("text",{staticClass:t._$s(10,"sc","arrow"),attrs:{_i:10}})]),e("view",{staticClass:t._$s(11,"sc","divider"),attrs:{_i:11}}),e("view",{staticClass:t._$s(12,"sc","card-item"),attrs:{_i:12},on:{click:t.onFeedback}},[e("view",{staticClass:t._$s(13,"sc","left"),attrs:{_i:13}},[e("image",{staticClass:t._$s(14,"sc","item-icon"),attrs:{_i:14}}),e("text",{staticClass:t._$s(15,"sc","item-text"),attrs:{_i:15}})]),e("text",{staticClass:t._$s(16,"sc","arrow"),attrs:{_i:16}})]),e("view",{staticClass:t._$s(17,"sc","divider"),attrs:{_i:17}}),e("view",{staticClass:t._$s(18,"sc","card-item"),attrs:{_i:18},on:{click:t.onChangelog}},[e("view",{staticClass:t._$s(19,"sc","left"),attrs:{_i:19}},[e("image",{staticClass:t._$s(20,"sc","item-icon"),attrs:{_i:20}}),e("text",{staticClass:t._$s(21,"sc","item-text"),attrs:{_i:21}})]),e("text",{staticClass:t._$s(22,"sc","arrow"),attrs:{_i:22}})]),e("view",{staticClass:t._$s(23,"sc","divider"),attrs:{_i:23}}),e("view",{staticClass:t._$s(24,"sc","card-item"),attrs:{_i:24},on:{click:t.onTaplist}},[e("view",{staticClass:t._$s(25,"sc","left"),attrs:{_i:25}},[e("image",{staticClass:t._$s(26,"sc","item-icon"),attrs:{_i:26}}),e("text",{staticClass:t._$s(27,"sc","item-text"),attrs:{_i:27}})]),e("text",{staticClass:t._$s(28,"sc","arrow"),attrs:{_i:28}})])])]),e("view",{staticClass:t._$s(29,"sc","about-footer"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","footer-links"),attrs:{_i:30}},[e("text",{staticClass:t._$s(31,"sc","footer-link"),attrs:{_i:31},on:{click:t.onTapagreement}}),e("text",{staticClass:t._$s(32,"sc","footer-sep"),attrs:{_i:32}}),e("text",{staticClass:t._$s(33,"sc","footer-link"),attrs:{_i:33},on:{click:t.onTapPrivacy}})]),e("view",{staticClass:t._$s(34,"sc","footer-text"),attrs:{_i:34}},[e("text")]),e("view",{staticClass:t._$s(36,"sc","footer-text"),attrs:{_i:36}},[e("text")]),e("view",{staticClass:t._$s(38,"sc","footer-text"),attrs:{_i:38}},[e("text",[e("text")])]),e("view",{staticClass:t._$s(41,"sc","safe-spacer"),attrs:{_i:41}})])])},i=[]},"4d3c":function(t,s,e){"use strict";e.r(s);var a=e("9b4f"),i=e("bda1");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"4dff":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("7ca3")),r=a(e("91f6"));function n(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function c(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?n(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var o=e("5aad"),l={components:{YMDWheel:r.default},data:function(){return{id:"",list:[],typeOptions:[{value:"anniversary",text:"\u7eaa\u5ff5\u65e5"},{value:"countdown",text:"\u5012\u8ba1\u65f6"},{value:"birthday",text:"\u751f\u65e5"},{value:"other",text:"\u5176\u4ed6"}],typeIndex:0,form:{title:"",date:"",type:"anniversary",note:"",isTop:!1,includeStart:!1},showDateWheel:!1,dateWheelTemp:"",text:""}},onLoad:function(t){uni.setNavigationBarTitle({title:"\u7f16\u8f91\u91cd\u8981\u65e5\u5b50"});var s=t&&t.id?t.id:"";if(!s)return uni.showToast({title:"\u7f3a\u5c11\u53c2\u6570",icon:"none"}),void setTimeout((function(){return uni.navigateBack()}),600);var e=o.getList(),a=e.find((function(t){return t.id===s}));if(!a)return uni.showToast({title:"\u672a\u627e\u5230\u8be5\u8bb0\u5f55",icon:"none"}),void setTimeout((function(){return uni.navigateBack()}),600);var i=this.typeOptions.findIndex((function(t){return t.value===a.type})),r=i>=0?i:0;this.setData({id:s,list:e,typeIndex:r,form:{title:a.title||"",date:a.date||"",type:a.type||this.typeOptions[r].value,note:a.note||"",isTop:!!a.isTop,includeStart:!!a.includeStart},showDateWheel:!1,dateWheelTemp:a.date||""})},methods:{setData:function(t){var s=this;Object.keys(t).forEach((function(e){s[e]=t[e]}))},onTitle:function(t){this.setData({form:c(c({},this.form),{},{title:t.detail.value})})},onDate:function(t){this.setData({form:c(c({},this.form),{},{date:t.detail.value})})},openDateWheel:function(){var t=this.form&&this.form.date?this.form.date:this.dateWheelTemp||"";this.setData({showDateWheel:!0,dateWheelTemp:t})},onDateWheelCancel:function(){this.setData({showDateWheel:!1})},onDateWheelConfirm:function(t){this.setData({showDateWheel:!1,dateWheelTemp:t,form:c(c({},this.form),{},{date:t})})},onDateWheelUpdateShow:function(t){this.setData({showDateWheel:!!t})},onType:function(t){var s=Number(t.detail.value)||0,e=this.typeOptions[s].value;this.setData({typeIndex:s,form:c(c({},this.form),{},{type:e})})},onNote:function(t){this.setData({form:c(c({},this.form),{},{note:t.detail.value})})},onTop:function(t){this.setData({form:c(c({},this.form),{},{isTop:t.detail.value})})},onIncludeStart:function(t){this.setData({form:c(c({},this.form),{},{includeStart:t.detail.value})})},save:function(){var t=this,s=(this.form.title||"").trim();if(s)if(this.form.date){var e=o.getList(),a=e.findIndex((function(s){return s.id===t.id}));a<0?uni.showToast({title:"\u672a\u627e\u5230\u8be5\u8bb0\u5f55",icon:"none"}):(e[a]=c(c({},e[a]),{},{title:this.form.title,date:this.form.date,type:this.form.type,note:this.form.note,isTop:!!this.form.isTop,includeStart:!!this.form.includeStart}),o.setList(e),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"}),setTimeout((function(){uni.navigateBack()}),300))}else uni.showToast({title:"\u8bf7\u9009\u62e9\u65e5\u671f",icon:"none"});else uni.showToast({title:"\u8bf7\u8f93\u5165\u6807\u9898",icon:"none"})}}};s.default=l},"4e5f":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this.$createElement,s=this._self._c||t;return s("view",[s("text")])},i=[]},"4f4b":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this.$createElement,s=this._self._c||t;return s("view",[this._t("default",null,{_i:1})],2)},i=[]},"539e":function(t,s,e){"use strict";e.r(s);var a=e("3fd4"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"54cd":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("7ca3")),r=a(e("3b2d")),n=a(e("34cf"));function c(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?c(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var l={cycleLength:28,periodLength:5,lutealDays:14};function u(t){return(t<10?"0":"")+t}function _(t){return"".concat(t.getFullYear(),"-").concat(u(t.getMonth()+1),"-").concat(u(t.getDate()))}function d(t){var s=t.split("-").map(Number),e=(0,n.default)(s,3),a=e[0],i=e[1],r=e[2];return new Date(a,i-1,r)}function f(t,s){var e=new Date(t.getTime());return e.setDate(e.getDate()+s),e}function h(){var t=uni.getStorageSync("period_record_v1");return t&&"object"===(0,r.default)(t)?t:{periodStarts:[],periodRecords:[],sexDates:[],sexRecords:{},settings:o({},l),weightRecords:{}}}function v(t){uni.setStorageSync("period_record_v1",t)}function p(t){if(t.periodStarts=t.periodStarts||[],t.periodRecords=t.periodRecords||[],t.weightRecords=t.weightRecords||{},t.sexDates=t.sexDates||[],t.sexRecords=t.sexRecords||{},0===t.periodRecords.length&&t.periodStarts.length>0){var s=t.periodStarts.slice().sort((function(t,s){return d(t)-d(s)}));t.periodRecords=s.map((function(t){return{start:t,end:t}}))}t.periodRecords=(t.periodRecords||[]).filter((function(t){return t&&t.start})).map((function(t){return{start:t.start,end:t.end?t.end:t.start}}))}function w(t,s){for(var e=d(s),a=t.periodRecords||[],i=0;i<a.length;i++){var r=a[i],n=d(r.start),c=d(r.end);if(e>=n&&e<=c)return{record:r,index:i}}return null}var g={data:function(){return{weekNames:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],year:0,month:0,cells:[],selectedDate:"",periodSwitchOn:!1,touchStartX:0,touchStartY:0,showWeightPopup:!1,weightUnit:"kg",weightInput:"",weightDisplay:"0",hasWeight:!1,selectedWeightText:"",isFutureSelected:!1,hasSex:!1,selectedSexText:"",hasPain:!1,selectedPainText:"",isMonthAnimating:!1,monthAnimDir:"next",calOffsetPct:0,nextCells:[],nextYear:0,nextMonth:0,animTimer:null,pendingTarget:null,calNoAnim:!1}},onLoad:function(){var t=new Date;this.setData({year:t.getFullYear(),month:t.getMonth()+1,selectedDate:_(t)}),this.refreshAll()},onShow:function(){this.refreshAll()},onUnload:function(){this.animTimer&&(clearTimeout(this.animTimer),this.animTimer=null)},computed:{calTrackStyle:function(){var t=this.isMonthAnimating?"transform 260ms cubic-bezier(0.22, 0.61, 0.36, 1)":"none";return{transform:"translateX(".concat(this.calOffsetPct,"%)"),transition:t}}},methods:{noop:function(){},buildCalendarCellsFor:function(t,s){var e=h();p(e);var a=e.periodRecords&&e.periodRecords.length>0,i=a?this.computeMaps(e):{periodDays:new Set,predPeriodDays:new Set,ovulationDays:new Set,ovulationDay:new Set};return this.buildCalendarCells(e,i,t,s)},startMonthAnim:function(t,s,e){var a=this;if(this.isMonthAnimating)this.setData({pendingTarget:{direction:t,targetYear:s,targetMonth:e}});else{var i=this.buildCalendarCellsFor(s,e);this.setData({isMonthAnimating:!0,monthAnimDir:t,nextYear:s,nextMonth:e,nextCells:i,pendingTarget:null}),this.animTimer&&clearTimeout(this.animTimer),this.animTimer=setTimeout((function(){a.onMonthAnimEnd(!0)}),320),"next"===t?(this.setData({calOffsetPct:0}),this.$nextTick((function(){a.setData({calOffsetPct:-50})}))):(this.setData({calNoAnim:!0,calOffsetPct:-50}),this.$nextTick((function(){setTimeout((function(){a.setData({calNoAnim:!1}),a.setData({calOffsetPct:0})}),16)})))}},onMonthAnimEnd:function(t){var s=this;if(this.isMonthAnimating){this.animTimer&&(clearTimeout(this.animTimer),this.animTimer=null);var e=this.nextYear,a=this.nextMonth;this.setData({year:e,month:a,isMonthAnimating:!1,calOffsetPct:0,monthAnimDir:"next",nextCells:[]}),this.refreshAll();var i=this.pendingTarget;i&&i.targetYear&&i.targetMonth&&(this.setData({pendingTarget:null}),this.$nextTick((function(){s.startMonthAnim(i.direction,i.targetYear,i.targetMonth)})))}},refreshAll:function(){var t=h();p(t);var s=this.selectedDate,e=_(new Date),a=s>e,i=t.periodRecords&&t.periodRecords.length>0,r=i?this.computeMaps(t):{periodDays:new Set,predPeriodDays:new Set,ovulationDays:new Set,ovulationDay:new Set},n=r.periodDays.has(s),c=this.buildCalendarCells(t,r),o=t.weightRecords&&t.weightRecords[s],l=!!(o&&"number"===typeof o.kg&&o.kg>0),u=l?o.kg.toFixed(2)+"\u516c\u65a4":"",d=t.sexRecords&&t.sexRecords[s]?t.sexRecords[s]:[],f=d.length||((t.sexDates||[]).includes(s)?1:0),w=f>0,g=w?"".concat(f,"\u6b21"):"";t.painRecords=t.painRecords||{};var $=t.painRecords[s]||[],m=$.length,C=m>0,y=C?"".concat(m,"\u6b21"):"";this.setData({cells:c,periodSwitchOn:n,hasWeight:l,selectedWeightText:u,hasSex:w,selectedSexText:g,hasPain:C,selectedPainText:y,isFutureSelected:a}),v(t)},buildCalendarCells:function(t,s,e,a){var i=e||this.year,r=a||this.month,n=this.selectedDate,c=s||{periodDays:new Set,predPeriodDays:new Set,ovulationDays:new Set,ovulationDay:new Set},o=new Set(t.sexDates||[]),l=t.sexRecords||{};function u(t){var s=l[t];return Array.isArray(s)&&s.length>0||o.has(t)}for(var d=new Date(i,r-1,1),h=d.getDay(),v=f(d,-h),p=_(new Date),w=[],g=0;g<42;g++){var $=f(v,g),m=_($),C=$.getMonth()===r-1,y="";C||(y+=" other"),c.periodDays.has(m)?y+=" period":c.predPeriodDays.has(m)?y+=" pred":c.ovulationDays.has(m)&&(y+=" ovulation"),m===n&&(y+=" selected"),m===p&&(y+=" today"),w.push({dateStr:m,day:$.getDate(),cls:y.trim(),isToday:m===p,hasHeart:u(m),isOvulationDay:c.ovulationDay.has(m)})}return w},computeMaps:function(t){var s=t.settings||l,e=s.cycleLength||l.cycleLength,a=s.periodLength||l.periodLength,i=s.lutealDays||l.lutealDays;p(t);var r=new Set,n=new Set,c=new Set,o=new Set,u=(t.periodRecords||[]).slice().sort((function(t,s){return d(t.start)-d(s.start)}));u.forEach((function(t){var s=d(t.start),e=d(t.end);if(!(e<s)){for(var i=Math.floor((e-s)/864e5),c=0;c<=i;c++)r.add(_(f(s,c)));var o=f(s,a-1),l=e;if(l<o)for(var u=f(l,1),h=Math.floor((o-u)/864e5),v=0;v<=h;v++)n.add(_(f(u,v)))}}));var h=function(t){var s=(t.periodRecords||[]).slice();return 0===s.length?null:(s.sort((function(t,s){return d(t.start)-d(s.start)})),s[s.length-1].start)}(t);if(h)for(var v=d(h),w=1;w<=6;w++){for(var g=f(v,e*w),$=0;$<a;$++){var m=_(f(g,$));r.has(m)||n.add(m)}var C=f(g,-i);o.add(_(C));for(var y=-2;y<=2;y++)c.add(_(f(C,y)))}return{periodDays:r,predPeriodDays:n,ovulationDays:c,ovulationDay:o}},buildMonth:function(t,s){this.setData({year:t,month:s}),this.refreshAll()},goPrevMonth:function(){var t=this.year,s=this.month-1;s<1&&(s=12,t--),this.startMonthAnim("prev",t,s)},goNextMonth:function(){var t=this.year,s=this.month+1;s>12&&(s=1,t++),this.startMonthAnim("next",t,s)},goToday:function(){var t=new Date;this.setData({year:t.getFullYear(),month:t.getMonth()+1,selectedDate:_(t)}),this.refreshAll()},onTapDate:function(t){var s=t.currentTarget.dataset.date;s&&(this.setData({selectedDate:s}),this.refreshAll())},onTogglePeriod:function(t){var s=t.detail.value,e=h();p(e);var a=this.selectedDate,i=e.settings||l,r=i.periodLength||l.periodLength;if(s){var n=w(e,a);if(n)return void this.refreshAll();var c=function(t,s,e){for(var a=d(s),i=t.periodRecords||[],r=0;r<i.length;r++){var n=i[r],c=d(n.start),o=f(c,e-1),l=d(n.end);if(a>l&&a>=c&&a<=o)return{record:n,index:r}}return null}(e,a,r);if(c)return c.record.end=a,v(e),void this.refreshAll();var o=function(t,s){for(var e=t.periodRecords||[],a=null,i=0;i<e.length;i++){var r=e[i],n=_(f(d(r.end),1));n===s&&(!a||d(r.end)>d(a.record.end))&&(a={record:r,index:i})}return a}(e,a);if(o)return o.record.end=a,v(e),void this.refreshAll();e.periodRecords=e.periodRecords||[],e.periodRecords.push({start:a,end:a}),v(e),this.refreshAll()}else{var u=w(e,a);if(u){var g=u.record,$=d(g.start),m=d(g.end),C=d(a);if(g.start===g.end)e.periodRecords.splice(u.index,1);else if(C.getTime()===$.getTime())g.start=_(f($,1));else if(C.getTime()===m.getTime())g.end=_(f(m,-1));else{var y={start:g.start,end:_(f(C,-1))},b={start:_(f(C,1)),end:g.end};e.periodRecords.splice(u.index,1,y,b)}v(e)}this.refreshAll()}},onTouchStart:function(t){t.touches&&t.touches.length&&this.setData({touchStartX:t.touches[0].clientX,touchStartY:t.touches[0].clientY})},onTouchEnd:function(t){if(t.changedTouches&&t.changedTouches.length){var s=t.changedTouches[0].clientX,e=t.changedTouches[0].clientY,a=s-this.touchStartX,i=e-this.touchStartY;Math.abs(a)<60||Math.abs(a)<1.2*Math.abs(i)||(a<0?this.goNextMonth():this.goPrevMonth())}},goPeriodAnalysis:function(){uni.navigateTo({url:"/pages/subperiod/analysis/analysis"})},onGoAddPain:function(){var t=this.selectedDate;uni.navigateTo({url:"/pages/subperiod/addpain/addpain?date=".concat(t)})},onAddWeight:function(){uni.hideTabBar({animation:!0});var t=h();p(t);var s=this.selectedDate,e=t.weightRecords&&t.weightRecords[s],a=e&&"number"===typeof e.kg?e.kg:0,i="";a>0&&(i=a.toFixed(2)),this.setData({showWeightPopup:!0,weightInput:i,weightDisplay:i||"0"})},onWeightCancel:function(){this.setData({showWeightPopup:!1}),uni.showTabBar({animation:!0})},onWeightKey:function(t){var s=t.currentTarget.dataset.k,e=this.weightInput||"";if("."===s){if(e.includes("."))return;""===e&&(e="0"),e+="."}else"0"===e?e=s:e+=s;var a=e.match(/^(\d{0,3})(?:\.(\d{0,2}))?/);if(a){var i=a[1]||"",r=e.includes(".")?".":"",n=(e.split(".")[1]||"").slice(0,2);e=i+(r?r+n:"")}this.setData({weightInput:e,weightDisplay:""===e?"0":e})},onWeightDel:function(){var t=this.weightInput||"";t?(t=t.slice(0,-1),this.setData({weightInput:t,weightDisplay:""===t?"0":t})):this.setData({weightDisplay:"0"})},onWeightConfirm:function(){var t=(this.weightInput||"").trim();""===t&&(t=(this.weightDisplay||"").trim()),""===t&&(t="0");var s=parseFloat(t);if(isNaN(s))uni.showToast({title:"\u8bf7\u8f93\u5165\u6709\u6548\u4f53\u91cd",icon:"none"});else{var e=h();p(e);var a=this.selectedDate;if(e.weightRecords=e.weightRecords||{},0===s)return e.weightRecords[a]?(delete e.weightRecords[a],v(e),uni.showToast({title:"\u5df2\u5220\u9664\u4f53\u91cd\u8bb0\u5f55",icon:"none"})):uni.showToast({title:"\u5f53\u5929\u672a\u8bb0\u5f55\u4f53\u91cd",icon:"none"}),this.setData({showWeightPopup:!1}),uni.showTabBar({animation:!0}),void this.refreshAll();if(s<0)uni.showToast({title:"\u8bf7\u8f93\u5165\u6709\u6548\u4f53\u91cd",icon:"none"});else{var i=s;e.weightRecords[a]={kg:Number(i.toFixed(2))},v(e),this.setData({showWeightPopup:!1}),uni.showTabBar({animation:!0}),uni.showToast({title:"\u5df2\u8bb0\u5f55\u4f53\u91cd",icon:"none"}),this.refreshAll()}}},onGoAddLove:function(){var t=this.selectedDate;uni.navigateTo({url:"/pages/subperiod/addlove/addlove?date=".concat(t)})}}};s.default=g},"560b":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a={data:function(){return{version:"0.1.2"}},onLoad:function(){},methods:{onIntro:function(){uni.navigateTo({url:"/pages/subabout/intro/intro"})},onFeedback:function(){},onChangelog:function(){uni.navigateTo({url:"/pages/subabout/changelog/changelog"})},onTaplist:function(){uni.navigateTo({url:"/pages/subabout/info-list/info-list"})},onTapagreement:function(){uni.navigateTo({url:"/pages/subabout/agreement/agreement"})},onTapPrivacy:function(){uni.navigateTo({url:"/pages/subabout/privacy/privacy"})}}};s.default=a},5739:function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("3b2d")),r=a(e("34cf"));function n(t){return(t<10?"0":"")+t}function c(t){return"".concat(t.getFullYear(),"-").concat(n(t.getMonth()+1),"-").concat(n(t.getDate()))}function o(t){var s=t.split("-").map(Number),e=(0,r.default)(s,3),a=e[0],i=e[1],n=e[2];return new Date(a,i-1,n)}function l(){var t=uni.getStorageSync("period_record_v1");return t&&"object"===(0,i.default)(t)?t:{weightRecords:{},profile:{}}}function u(t){uni.setStorageSync("period_record_v1",t)}function _(t){return Math.round(100*t)/100}function d(t){return t.length?t.reduce((function(t,s){return t+s}),0)/t.length:0}var f={data:function(){return{rangeKey:"30",todayStr:c(new Date),todayKg:null,heightCm:null,stats:{count:0,delta:0,latestText:"--",latestDateText:"--",firstText:"--",avgText:"--",stdText:"--",minText:"--",maxText:"--",deltaText:"--"},pointsAll:[],points:[],chartTrend:{},chartWeek:{},chartDist:{},weekAgg:{categories:[],values:[]},distSeries:[],optsTrend:{padding:[12,10,8,6],legend:{show:!0,position:"top"},xAxis:{disableGrid:!0,labelCount:5,scrollShow:!1},yAxis:{gridType:"dash",dashLength:4},extra:{mix:{line:{type:"curve",width:2}}}},optsWeek:{padding:[12,10,8,6],legend:{show:!1},xAxis:{disableGrid:!0,labelCount:6},yAxis:{gridType:"dash",dashLength:4},extra:{column:{width:14}}},optsDist:{padding:[12,10,8,6],legend:{show:!1},extra:{ring:{ringWidth:16,centerColor:"#ffffff"}}},showWeightPopup:!1,weightInput:"",weightDisplay:"0",showHeightPopup:!1,heightInput:""}},computed:{rangeLabel:function(){return"7"===this.rangeKey?"7\u5929":"30"===this.rangeKey?"30\u5929":"90"===this.rangeKey?"90\u5929":"\u5168\u90e8"},hasToday:function(){return"number"===typeof this.todayKg&&this.todayKg>0},todayKgText:function(){return this.hasToday?this.todayKg.toFixed(2):"--"},todayKgDetail:function(){return this.hasToday?"".concat(this.todayKg.toFixed(2)," kg"):"--"},heightText:function(){return this.heightCm?"".concat(this.heightCm," cm"):"\u672a\u8bbe\u7f6e"},bmiValue:function(){if(!this.hasToday)return null;if(!this.heightCm||this.heightCm<=0)return null;var t=this.heightCm/100;return _(this.todayKg/(t*t))},bmiText:function(){return this.hasToday?this.heightCm?null==this.bmiValue?"--":this.bmiValue.toFixed(1):"\u672a\u8bbe\u7f6e\u8eab\u9ad8":"--"},bmiTagText:function(){var t=this.bmiValue;return null==t?"":t<18.5?"\u504f\u7626":t<24?"\u6b63\u5e38":t<28?"\u8d85\u91cd":"\u80a5\u80d6"}},onShow:function(){this.reload()},methods:{noop:function(){},setRange:function(t){this.rangeKey=t,this.recompute()},reload:function(){var t=l();t.weightRecords=t.weightRecords||{},t.profile=t.profile||{};var s=Number(t.profile.heightCm||0);this.heightCm=s>0?s:null;var e=this.todayStr,a=t.weightRecords[e],i=a&&"number"===typeof a.kg?a.kg:0;this.todayKg=i>0?i:null;var r=Object.keys(t.weightRecords).map((function(s){var e=t.weightRecords[s],a=e&&"number"===typeof e.kg?e.kg:null;return null==a||a<=0?null:{dateStr:s,kg:Number(a)}})).filter(Boolean).sort((function(t,s){return o(t.dateStr)-o(s.dateStr)}));this.pointsAll=r,this.recompute()},recompute:function(){var t=this.pointsAll.slice();if(!t.length)return this.points=[],void this.fillEmpty();var s=t;if("all"!==this.rangeKey){var e=Number(this.rangeKey),a=o(t[t.length-1].dateStr),i=new Date(a.getTime());i.setDate(i.getDate()-(e-1)),s=t.filter((function(t){return o(t.dateStr)>=i}))}this.points=s,this.buildStats(),this.buildTrendChart(),this.buildWeekAgg(),this.buildDist()},fillEmpty:function(){this.stats={count:0,delta:0,latestText:"--",latestDateText:"--",firstText:"--",avgText:"--",stdText:"--",minText:"--",maxText:"--",deltaText:"--"},this.chartTrend={},this.chartWeek={},this.chartDist={},this.weekAgg={categories:[],values:[]},this.distSeries=[]},buildStats:function(){var t=this.points,s=t.length,e=t[0],a=t[t.length-1],i=t.map((function(t){return t.kg})),r=d(i),n=function(t){if(t.length<=1)return 0;var s=d(t),e=d(t.map((function(t){return(t-s)*(t-s)})));return Math.sqrt(e)}(i),c=Math.min.apply(null,i),o=Math.max.apply(null,i),l=_(a.kg-e.kg);this.stats={count:s,delta:l,latestText:"".concat(a.kg.toFixed(2)," kg"),latestDateText:a.dateStr,firstText:"".concat(e.kg.toFixed(2)," kg"),avgText:"".concat(r.toFixed(2)," kg"),stdText:"".concat(n.toFixed(2)," kg"),minText:"".concat(c.toFixed(2)," kg"),maxText:"".concat(o.toFixed(2)," kg"),deltaText:"".concat(l>0?"+":"").concat(l.toFixed(2)," kg")}},buildTrendChart:function(){var t=this.points,s=t.map((function(t){return t.dateStr.slice(5)})),e=t.map((function(t){return _(t.kg)})),a=function(t){for(var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,e=[],a=0;a<t.length;a++){var i=Math.max(0,a-s+1),r=t.slice(i,a+1);e.push(_(d(r)))}return e}(e,7);this.chartTrend={categories:s,series:[{name:"\u4f53\u91cd",type:"line",data:e},{name:"7\u65e5\u5747\u7ebf",type:"line",data:a}]}},buildWeekAgg:function(){var t=this.points,s={};t.forEach((function(t){var e=function(t){var s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),e=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+4-e);var a=new Date(Date.UTC(s.getUTCFullYear(),0,1)),i=Math.ceil(((s-a)/864e5+1)/7),r=s.getUTCFullYear();return"".concat(r,"-W").concat(n(i))}(o(t.dateStr));s[e]=s[e]||[],s[e].push(t.kg)}));var e=Object.keys(s).sort(),a=e.map((function(t){return t.replace("-W","W")})),i=e.map((function(t){return _(d(s[t]))}));this.weekAgg={categories:a,values:i},this.chartWeek={categories:a,series:[{name:"\u5468\u5747(kg)",data:i}]}},buildDist:function(){var t=this.points,s=t.map((function(t){return t.kg})).sort((function(t,s){return t-s}));if(!s.length)return this.distSeries=[],void(this.chartDist={});for(var e=s[0],a=s[s.length-1],i=Math.max(.01,a-e),r=i/5,n=[],c=0;c<5;c++){var o=e+r*c,l=4===c?a:e+r*(c+1);n.push({a:o,b:l,c:0})}s.forEach((function(t){for(var s=0;s<n.length;s++){var e=n[s],a=s===n.length-1;if(t>=e.a&&t<e.b||a&&t<=e.b){e.c++;break}}}));var u=n.filter((function(t){return t.c>0})).map((function(t){return{name:"".concat(t.a.toFixed(1),"~").concat(t.b.toFixed(1),"kg"),value:t.c}}));this.distSeries=u,this.chartDist={series:u}},openWeightForToday:function(){var t=l();t.weightRecords=t.weightRecords||{};var s=t.weightRecords[this.todayStr],e=s&&"number"===typeof s.kg?s.kg:0,a="";e>0&&(a=e.toFixed(2)),this.showWeightPopup=!0,this.weightInput=a,this.weightDisplay=a||"0"},onWeightCancel:function(){this.showWeightPopup=!1},onWeightKey:function(t){var s=t.currentTarget.dataset.k,e=this.weightInput||"";if("."===s){if(e.includes("."))return;""===e&&(e="0"),e+="."}else"0"===e?e=s:e+=s;var a=e.match(/^(\d{0,3})(?:\.(\d{0,2}))?/);if(a){var i=a[1]||"",r=e.includes(".")?".":"",n=(e.split(".")[1]||"").slice(0,2);e=i+(r?r+n:"")}this.weightInput=e,this.weightDisplay=""===e?"0":e},onWeightDel:function(){var t=this.weightInput||"";t?(t=t.slice(0,-1),this.weightInput=t,this.weightDisplay=""===t?"0":t):this.weightDisplay="0"},onWeightConfirm:function(){var t=(this.weightInput||"").trim();""===t&&(t=(this.weightDisplay||"").trim()),""===t&&(t="0");var s=parseFloat(t);if(isNaN(s)||s<0)uni.showToast({title:"\u8bf7\u8f93\u5165\u6709\u6548\u4f53\u91cd",icon:"none"});else{var e=l();if(e.weightRecords=e.weightRecords||{},e.profile=e.profile||{},0===s)return e.weightRecords[this.todayStr]?(delete e.weightRecords[this.todayStr],u(e),uni.showToast({title:"\u5df2\u5220\u9664\u4eca\u5929\u4f53\u91cd",icon:"none"})):uni.showToast({title:"\u4eca\u5929\u672a\u8bb0\u5f55\u4f53\u91cd",icon:"none"}),this.showWeightPopup=!1,void this.reload();e.weightRecords[this.todayStr]={kg:Number(s.toFixed(2))},u(e),this.showWeightPopup=!1,uni.showToast({title:"\u5df2\u8bb0\u5f55\u4f53\u91cd",icon:"none"}),this.reload()}},openHeightPopup:function(){this.heightInput=this.heightCm?String(this.heightCm):"",this.showHeightPopup=!0},onHeightCancel:function(){this.showHeightPopup=!1},onHeightConfirm:function(){var t=Number(String(this.heightInput||"").trim());if(!t||t<80||t>250)uni.showToast({title:"\u8bf7\u8f93\u5165\u5408\u7406\u8eab\u9ad8\uff0880~250\uff09",icon:"none"});else{var s=l();s.profile=s.profile||{},s.profile.heightCm=Math.round(t),u(s),this.showHeightPopup=!1,uni.showToast({title:"\u5df2\u4fdd\u5b58\u8eab\u9ad8",icon:"none"}),this.reload()}}}};s.default=f},"5aad":function(t,s,e){(function(s){var e="IMPORTANT_DAYS_LIST";t.exports={KEY_COUPLE_START:"COUPLE_START_DATE",KEY_LIST:e,KEY_USER_PROFILE:"USER_PROFILE",getUserProfile:function(){return uni.getStorageSync("USER_PROFILE")||null},setUserProfile:function(t){uni.setStorageSync("USER_PROFILE",t||null)},clearUserProfile:function(){uni.removeStorageSync("USER_PROFILE")},getCoupleStartDate:function(){return uni.getStorageSync("COUPLE_START_DATE")||""},setCoupleStartDate:function(t){uni.setStorageSync("COUPLE_START_DATE",t||"")},getList:function(){return uni.getStorageSync(e)||[]},setList:function(t){uni.setStorageSync(e,Array.isArray(t)?t:[])},clearAllLocalData:function(){try{uni.removeStorageSync("USER_PROFILE")}catch(t){s("log","CatchClause",t," at utils/storage.js:36"),s("log","CatchClause",t," at utils/storage.js:37")}try{uni.removeStorageSync("COUPLE_START_DATE")}catch(t){s("log","CatchClause",t," at utils/storage.js:42"),s("log","CatchClause",t," at utils/storage.js:43")}try{uni.removeStorageSync(e)}catch(t){s("log","CatchClause",t," at utils/storage.js:48"),s("log","CatchClause",t," at utils/storage.js:49")}try{uni.removeStorageSync("period_record_v1")}catch(t){s("log","CatchClause",t," at utils/storage.js:56"),s("log","CatchClause",t," at utils/storage.js:57")}["userProfile"].forEach((function(e){try{uni.removeStorageSync(e)}catch(t){s("log","CatchClause",t," at utils/storage.js:66"),s("log","CatchClause",t," at utils/storage.js:67")}}))}}}).call(this,e("f3b9")["default"])},"5d2b":function(t,s,e){"use strict";e.r(s);var a=e("0a49"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"60b0":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={data:function(){return{}},onLoad:function(t){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{}}},"611c":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("7ca3")),r=e("fdbc"),n=e("c6cd"),c=e("d3de"),o=e("8dcb"),l=e("3e98"),u=e("fd31"),_=e("8b5e"),d=e("aa81"),f=e("673a");function h(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function v(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?h(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var p={install:function(t,s){t.mixin(v(v({},r.pageLifetimes),{},{methods:{clone:n.clone,handleDataset:c.handleDataset,escape2Html:o.escape2Html,html2Escape:o.html2Escape,parseEventDynamicCode:l.parseEventDynamicCode,getTabBar:u.getTabBar,getRelationNodes:_.getRelationNodes,zpSelectComponent:d.selectComponent,zpSelectAllComponents:d.selectAllComponents,setData:f.setData}}))}};s.default=p},6382:function(t,s,e){var a=e("6454");t.exports=function(t,s){if(t){if("string"===typeof t)return a(t,s);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,s):void 0}},t.exports.__esModule=!0,t.exports["default"]=t.exports},6454:function(t,s){t.exports=function(t,s){(null==s||s>t.length)&&(s=t.length);for(var e=0,a=new Array(s);e<s;e++)a[e]=t[e];return a},t.exports.__esModule=!0,t.exports["default"]=t.exports},"655b":function(t,s,e){"use strict";e.r(s);var a=e("8a3b"),i=e("085c");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"673a":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.setData=function(t){var s=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object.keys(t).forEach((function(e){if((0,i.default)(s,e,t[e]),r.test(e)&&e.endsWith("Clone")){var a=e.replace(/Clone$/,"");s.$options&&s.$options.propsData[a]&&s.$emit("update:".concat(a),t[e])}})),this.$forceUpdate(),"function"==typeof e&&this.$nextTick(e)};var i=a(e("7cf9"));a(e("2fc0"));var r=/^([^\x00-\xff]|[a-zA-Z_$])([^\x00-\xff]|[a-zA-Z0-9_$])*$/},"67ad":function(t,s){t.exports=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports["default"]=t.exports},7019:function(t,s,e){"use strict";e.r(s);var a=e("f281"),i=e("3362");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"70eb":function(t,s,e){"use strict";e.r(s);var a=e("54cd"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},7127:function(t,s,e){"use strict";e.r(s);var a=e("4082"),i=e("27cb");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},7172:function(t,s){t.exports=function(t,s){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var a,i,r,n,c=[],o=!0,l=!1;try{if(r=(e=e.call(t)).next,0===s){if(Object(e)!==e)return;o=!1}else for(;!(o=(a=r.call(e)).done)&&(c.push(a.value),c.length!==s);o=!0);}catch(t){l=!0,i=t}finally{try{if(!o&&null!=e["return"]&&(n=e["return"](),Object(n)!==n))return}finally{if(l)throw i}}return c}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"743f":function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("af34")),r=a(e("7ca3")),n=a(e("3b2d")),c=a(e("34cf"));function o(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function l(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?o(Object(e),!0).forEach((function(s){(0,r.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var u={cycleLength:28,periodLength:5,lutealDays:14};function _(t){return(t<10?"0":"")+t}function d(t){return"".concat(t.getFullYear(),"-").concat(_(t.getMonth()+1),"-").concat(_(t.getDate()))}function f(t){if(!t)return null;var s=t.split("-").map(Number),e=(0,c.default)(s,3),a=e[0],i=e[1],r=e[2];return new Date(a,i-1,r)}function h(t,s){var e=f(t),a=f(s);return e&&a?Math.round((a-e)/864e5):0}function v(t,s,e){return Math.max(s,Math.min(e,t))}function p(t){return"number"!==typeof t||Number.isNaN(t)?"":t.toFixed(2)}function w(t,s){var e=Array.isArray(t)?t:[];return e.length<=s?e.slice():e.slice(e.length-s)}function g(t){var s=f(t);return s?"".concat(s.getMonth()+1,"\u6708").concat(s.getDate(),"\u65e5"):""}function $(){return d(new Date)}function m(t,s){var e=f(t);return e?(e.setDate(e.getDate()+s),d(e)):""}function C(t,s){return t&&s?"".concat(t," ~ ").concat(s):""}function y(t,s){var e=t.start,a=t.end;if(!a||a===e){var i=s&&s.periodLength?s.periodLength:u.periodLength;a=m(e,Math.max(0,i-1))}return{start:e,end:a}}function b(t,s,e){var a=e&&e.cycleLength?e.cycleLength:u.cycleLength,i=e&&e.lutealDays?e.lutealDays:u.lutealDays,r=s>0?s:a,n=m(t,r),c=m(n,-i),o=m(c,-5),l=m(c,1);return{nextStart:n,ovulationDay:c,fertileStart:o,fertileEnd:l,fertileRangeText:C(o,l)}}function x(t,s,e,a,i,r,n){var c=t.sexRecords||{},o=Array.isArray(t.sexDates)?t.sexDates:[],l=/(\u65e0|\u4e0d\u907f\u5b55|\u672a\u907f\u5b55|\u4e0d\u4f7f\u7528|\u6ca1\u7528)/;function u(t,s,e){return t&&s&&e&&t>=s&&t<=e}function _(t){return a&&i&&u(t,a,i)?"period":r&&n&&u(t,r,n)?"ovulation":"other"}var d={period:{total:0,unprotected:0},ovulation:{total:0,unprotected:0},other:{total:0,unprotected:0}};return Object.keys(c).forEach((function(t){if(u(t,s,e)){var a=Array.isArray(c[t])?c[t]:[];if(a.length){var i=_(t);d[i].total+=a.length,a.forEach((function(t){var s=t&&t.method?String(t.method).trim():"";s&&!l.test(s)||(d[i].unprotected+=1)}))}}})),o.forEach((function(t){if(u(t,s,e)){var a=Array.isArray(c[t])?c[t]:[];if(!a.length){var i=_(t);d[i].total+=1,d[i].unprotected+=1}}})),d}var D={data:function(){return{hasData:!1,latestStart:"",latestEnd:"",latestPeriodLen:0,latestCycleLen:0,stabilityText:"",confidenceText:"",nextStart:"",ovulationDay:"",fertileRangeText:"",cycleChange:null,painSummaryText:"",painLevelText:"",painPeakText:"",sexSummaryText:"",sexFertileText:"",sexUnprotectedText:"",sexPrevSummaryText:"",sexPrevFertileText:"",sexPrevUnprotectedText:"",sexCycleTotal:0,sexPregRateText:"0.0%",sexPhaseBars:[],weight7SubText:"\u8fd17\u5929\u4f53\u91cd\uff1a\u6682\u65e0\u8bb0\u5f55",latest7WeightText:"--.--",weightHintText:"\u4f53\u91cd\u8bb0\u5f55\u4e0d\u8db3\uff08\u5efa\u8bae\u5728\u7ecf\u671f\u524d\u540e\u591a\u8bb0\u5f55\u51e0\u5929\uff09",canvasW:1,canvasH:1,canvasCssW:0,canvasCssH:0,dpr:1}},onLoad:function(){this.refresh()},onShow:function(){this.refresh()},methods:{onGoWeight:function(){uni.navigateTo({fail:function(){return uni.showToast({title:'\u201c\u4f53\u91cd\u5206\u6790"\u9875\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7b49\u7b49\u5f85\u4e0b\u4e00\u6b21\u66f4\u65b0',icon:"none"})}})},onGoLove:function(){uni.navigateTo({url:"/pages/subperiod/love/love"})},refresh:function(){var t=this,s=function(t){if(t.settings=t.settings||l({},u),t.periodRecords=Array.isArray(t.periodRecords)?t.periodRecords:[],t.periodStarts=Array.isArray(t.periodStarts)?t.periodStarts:[],t.painRecords=t.painRecords&&"object"===(0,n.default)(t.painRecords)&&!Array.isArray(t.painRecords)?t.painRecords:{},t.sexRecords=t.sexRecords&&"object"===(0,n.default)(t.sexRecords)&&!Array.isArray(t.sexRecords)?t.sexRecords:{},t.sexDates=Array.isArray(t.sexDates)?t.sexDates:[],t.weightRecords=t.weightRecords||[],!Array.isArray(t.weightRecords)&&"object"===(0,n.default)(t.weightRecords)){var s=t.weightRecords;t.weightRecords=Object.keys(s).sort().map((function(t){var e=s[t]||{},a="number"===typeof e.weight?e.weight:"number"===typeof e.kg?e.kg:NaN;return{date:t,weight:a}})).filter((function(t){return t.date}))}if(Array.isArray(t.weightRecords)&&(t.weightRecords=t.weightRecords.map((function(t){if(!t)return null;var s=t.date||t.day||t.dateStr,e="number"===typeof t.weight?t.weight:"number"===typeof t.kg?t.kg:NaN;return{date:s,weight:e}})).filter((function(t){return t&&t.date})),t.weightRecords.sort((function(t,s){return(t.date||"").localeCompare(s.date||"")}))),0===t.periodRecords.length&&t.periodStarts.length>0){var e=(0,i.default)(t.periodStarts).sort();t.periodRecords=e.map((function(t){return{start:t,end:t}}))}return t.periodRecords.sort((function(t,s){return(t.start||"").localeCompare(s.start||"")})),t}(function(){var t=uni.getStorageSync("period_record_v1");return t&&"object"===(0,n.default)(t)?t:{}}()),e=s.settings||u,a=s.periodRecords||[],r=this.buildWeight7Series(s.weightRecords);if(this.setData({weight7SubText:r.subText,latest7WeightText:r.latestText,weightHintText:r.hintText}),this.$nextTick((function(){return t.measureCanvasAndDraw(r)})),a.length){var c=w(a,1)[0],o=y(c,e),_=o.start,p=o.end,C=h(_,m(p,1)),D=w(a,2),T=0;D.length>=2&&(T=h(D[0].start,D[1].start));var S=function(t){var s=w(t,4);if(s.length<4)return{stdev:null,text:"\u6570\u636e\u4e0d\u8db3\uff08\u7ecf\u671f\u8bb0\u5f55\u5c11\u4e8e4\u6b21\uff09"};for(var e=[],a=1;a<s.length;a++)e.push(h(s[a-1].start,s[a].start));var i=e.reduce((function(t,s){return t+s}),0)/e.length,r=e.reduce((function(t,s){return t+(s-i)*(s-i)}),0)/e.length,n=Math.sqrt(r),c="\u6ce2\u52a8\u8f83\u5927";return n<=3?c="\u8f83\u7a33\u5b9a":n<=6&&(c="\u7565\u6709\u6ce2\u52a8"),{stdev:n,text:c}}(a),k=S.text,O=a.length>=6?"\u9ad8\uff08\u8bb0\u5f55\u8f83\u591a\uff09":a.length>=4?"\u4e2d\uff08\u8bb0\u5f55\u4e00\u822c\uff09":"\u4f4e\uff08\u8bb0\u5f55\u504f\u5c11\uff09",P=b(_,T,e),M=$(),W=P.nextStart?m(P.nextStart,-1):M,j=function(t,s,e,a){var i=t.sexRecords||{},r=Array.isArray(t.sexDates)?t.sexDates:[];function n(t,s,e){return t&&s&&e&&t>=s&&t<=e}var c=/(\u65e0|\u4e0d\u907f\u5b55|\u672a\u907f\u5b55|\u4e0d\u4f7f\u7528|\u6ca1\u7528)/,o=0,l=0;Object.keys(i).forEach((function(t){if(n(t,s,e)){var a=Array.isArray(i[t])?i[t]:[];o+=a.length,a.forEach((function(t){var s=t&&t.method?String(t.method).trim():"";s&&(l+=1),s&&!c.test(s)||1}))}})),r.forEach((function(t){if(n(t,s,e)){var a=Array.isArray(i[t])?i[t]:[];a.length||(o+=1)}}));var u=0;if(a){var _=m(a,-5),d=m(a,1);Object.keys(i).forEach((function(t){if(n(t,_,d)){var s=Array.isArray(i[t])?i[t]:[];u+=s.length}})),r.forEach((function(t){if(n(t,_,d)){var s=Array.isArray(i[t])?i[t]:[];s.length||(u+=1)}}))}var f=Math.max(0,o-l);return{summary:"\u672c\u5468\u671f\u8bb0\u5f55\u7231\u7231 ".concat(o," \u6b21"),fertile:a?"\u5176\u4e2d\u6392\u5375\u671f\u5185 ".concat(u," \u6b21\uff08\u6309\u63a8\u7b97\uff09"):"\u6392\u5375\u671f\u6570\u636e\u4e0d\u8db3\uff0c\u65e0\u6cd5\u7edf\u8ba1",unprotected:0===o?"\u6682\u65e0\u907f\u5b55\u65b9\u5f0f\u8bb0\u5f55":0===f?"\u907f\u5b55\u65b9\u5f0f\u8bb0\u5f55\u8f83\u5b8c\u6574":"\u6709 ".concat(f,"/").concat(o," \u6b21\u672a\u8bb0\u5f55\u907f\u5b55\u65b9\u5f0f\uff08\u6216\u6807\u8bb0\u4e3a\u672a\u907f\u5b55\uff09")}}(s,_,W,P.ovulationDay),A={summary:"\u4e0a\u4e00\u5468\u671f\u6570\u636e\u4e0d\u8db3",fertile:"",unprotected:""},I=x(s,_,W,_,p,P.fertileStart,P.fertileEnd),R={period:{total:0,unprotected:0},ovulation:{total:0,unprotected:0},other:{total:0,unprotected:0}},L=(a||[]).map((function(t){return t.start})).filter(Boolean).sort();if(L.length>=2){var N=a[a.length-2],E=y(N,e),F=E.start,U=E.end,Y=m(_,-1),B=h(F,_),H=b(F,B,e);R=x(s,F,Y,F,U,H.fertileStart,H.fertileEnd)}var V=[{label:"\u6708\u7ecf\u671f",cur:I.period.total,prev:R.period.total},{label:"\u6392\u5375\u671f",cur:I.ovulation.total,prev:R.ovulation.total},{label:"\u5176\u4ed6\u65f6\u95f4",cur:I.other.total,prev:R.other.total}],K=Math.max.apply(Math,[0].concat((0,i.default)(V.map((function(t){return t.cur}))),(0,i.default)(V.map((function(t){return t.prev}))))),z=K>0?K:1,G=V.map((function(t){var s=Math.round(t.cur/z*100),e=Math.round(t.prev/z*100),a=t.cur>0?Math.max(10,s):0,i=t.prev>0?Math.max(10,e):0;return l(l({},t),{},{curPct:a,prevPct:i})})),X=V.reduce((function(t,s){return t+(s.cur||0)}),0),q=function(t){if(!t)return 0;var s=t.period||{total:0,unprotected:0},e=t.ovulation||{total:0,unprotected:0},a=t.other||{total:0,unprotected:0},i=(s.total||0)+(e.total||0)+(a.total||0);if(!i)return 0;var r=0;return r+=8*(e.unprotected||0),r+=2*(e.total||0),r+=1*(a.unprotected||0),v(r,0,45)}(I),J="".concat(q.toFixed(1),"%"),Q=function(t,s){var e=s&&s.cycleLength?s.cycleLength:u.cycleLength,a=(t||[]).map((function(t){return t.start})).filter(Boolean).sort();if(a.length<1)return null;var i=$(),r=a[a.length-1],n=h(r,i)+1,c="",o="",l=0,_=0;if(a.length>=2){c=a[a.length-2];var p=a[a.length-1];l=h(c,p);var w=f(p);w.setDate(w.getDate()-1),o=d(w)}if(a.length>=3){var m=a[a.length-3],C=a[a.length-2];_=h(m,C)}var y=l>=21&&l<=35?"\u6b63\u5e38":"\u504f\u79bb",b="\u2014";if(l&&_){var x=l-_;b=0===x?"\u6301\u5e73":x>0?"\u591a ".concat(x," \u5929"):"\u5c11 ".concat(Math.abs(x)," \u5929")}var D=[],T=n-e;D.push({dateLabel:g(r),status:T<=0?"\u51c6\u65f6":"\u63a8\u8fdf".concat(T,"\u5929"),lenText:"\u4eca\u5929\u4e3a\u5f53\u524d\u5468\u671f".concat(n,"\u5929"),len:n,isCurrent:!0});for(var S=0,k=a.length-1;k>=1&&S<2;k--){var O=a[k-1],P=a[k],M=h(O,P);if(!(M<=0)){var W=M-e,j="\u51c6\u65f6";W>0?j="\u63a8\u8fdf".concat(W,"\u5929"):W<0&&(j="\u63d0\u524d".concat(Math.abs(W),"\u5929")),D.push({dateLabel:g(O),status:j,lenText:"".concat(M,"\u5929"),len:M,isCurrent:!1}),S++}}var A=Math.max(1,e+22);D.forEach((function(t){var s=t.len/A*100,e=Math.round(s);t.barPct=v(e,18,100),t.barStyle="width: ".concat(t.barPct,"%;")}));var I=c&&o?"\u6700\u8fd1 1 \u4e2a\u5468\u671f\uff08".concat(c," - ").concat(o,"\uff09"):"\u6700\u8fd1 1 \u4e2a\u5468\u671f\uff08\u6570\u636e\u4e0d\u8db3\uff09";return{rangeText:I,lastLenText:l?"".concat(l,"\u5929"):"\u2014",normalTag:y,deltaText:b,items:D}}(a,e),Z=function(t,s,e){var a=t&&"object"===(0,n.default)(t)?t:{},i=["\u8f7b\u5fae","\u4e00\u822c","\u4e25\u91cd","\u975e\u5e38\u4e25\u91cd"],r={};i.forEach((function(t,s){return r[t]=s}));var c=[];Object.keys(a).forEach((function(t){if(function(t,s,e){return!!(t&&s&&e)&&(t>=s&&t<=e)}(t,s,e)){var i=Array.isArray(a[t])?a[t]:[];i.forEach((function(s){return c.push(l(l({},s),{},{_date:t}))}))}}));var o=c.length;if(!o)return{painSummaryText:"\u672c\u5468\u671f\u672a\u8bb0\u5f55\u75db\u7ecf",painLevelText:"",painPeakText:""};var u={},_="",d=-1;c.forEach((function(t){var s=t&&t.level?t.level:"\u672a\u9009\u62e9\u7a0b\u5ea6";u[s]=(u[s]||0)+1;var e=s in r?r[s]:-1;e>d&&(d=e,_=s)}));var f="",h=0;Object.keys(u).forEach((function(t){u[t]>h&&(h=u[t],f=t)}));var v=i.filter((function(t){return u[t]})).map((function(t){return"".concat(t).concat(u[t],"\u6b21")}));return u["\u672a\u9009\u62e9\u7a0b\u5ea6"]&&v.push("\u672a\u9009\u62e9".concat(u["\u672a\u9009\u62e9\u7a0b\u5ea6"],"\u6b21")),{painSummaryText:"\u672c\u5468\u671f\u8bb0\u5f55\u75db\u7ecf ".concat(o," \u6b21\uff08").concat(s," ~ ").concat(e,"\uff09"),painLevelText:v.length?"\u7a0b\u5ea6\u5206\u5e03\uff1a".concat(v.join("\uff0c")):"",painPeakText:_?"\u6700\u4e25\u91cd\u7a0b\u5ea6\uff1a".concat(_,"\uff1b\u6700\u5e38\u89c1\uff1a").concat(f):""}}(s.painRecords,_,W),tt=Z.painSummaryText,st=Z.painLevelText,et=Z.painPeakText;this.setData({hasData:!0,latestStart:_,latestEnd:p,latestPeriodLen:C,latestCycleLen:T,stabilityText:k,confidenceText:O,nextStart:P.nextStart,ovulationDay:P.ovulationDay,fertileRangeText:P.fertileRangeText,cycleChange:Q,painSummaryText:tt,painLevelText:st,painPeakText:et,sexSummaryText:j.summary,sexFertileText:j.fertile,sexUnprotectedText:j.unprotected,sexPrevSummaryText:A.summary,sexPrevFertileText:A.fertile,sexPrevUnprotectedText:A.unprotected,sexCycleTotal:X,sexPregRateText:J,sexPhaseBars:G})}else this.setData({hasData:!1,latestStart:"",latestEnd:"",latestPeriodLen:0,latestCycleLen:0,stabilityText:"",confidenceText:"",nextStart:"",ovulationDay:"",fertileRangeText:"",cycleChange:null,painSummaryText:"",painLevelText:"",painPeakText:"",sexSummaryText:"",sexFertileText:"",sexUnprotectedText:"",sexPrevSummaryText:"",sexPrevFertileText:"",sexPrevUnprotectedText:"",sexCycleTotal:0,sexPregRateText:"0.0%",sexPhaseBars:[]})},buildWeight7Series:function(t){for(var s=new Date,e=[],a=[],r=6;r>=0;r--){var n=new Date(s);n.setDate(n.getDate()-r);var c=d(n);e.push(c),a.push("".concat(n.getMonth()+1,"/").concat(n.getDate()))}var o={};(t||[]).forEach((function(t){t&&t.date&&("number"!==typeof t.weight||Number.isNaN(t.weight)||(o[t.date]=t.weight))}));var l=e.map((function(t){return null!=o[t]?o[t]:null})),u=l.filter((function(t){return"number"===typeof t})),_=null,f=e[6];if(null!=o[f])_=o[f];else for(var h=6;h>=0;h--){var v=e[h];if(null!=o[v]){_=o[v];break}}var w="\u8fd17\u5929\u4f53\u91cd\uff1a\u6682\u65e0\u8bb0\u5f55",g="--.--",$="\u4f53\u91cd\u8bb0\u5f55\u4e0d\u8db3\uff08\u5efa\u8bae\u5728\u7ecf\u671f\u524d\u540e\u591a\u8bb0\u5f55\u51e0\u5929\uff09";if(u.length){var m=Math.min.apply(Math,(0,i.default)(u)),C=Math.max.apply(Math,(0,i.default)(u)),y=C-m;w="\u5df2\u8bb0\u5f55 ".concat(u.length,"/7 \u5929 \xb7 \u6700\u8fd1 ").concat(p(_),"kg \xb7 \u5468\u671f\u5185\u6700\u5927\u6ce2\u52a8 ").concat(p(y),"kg"),g=p(_),$=u.length>=3?"":"\u4f53\u91cd\u8bb0\u5f55\u4e0d\u8db3\uff08\u5efa\u8bae\u5728\u7ecf\u671f\u524d\u540e\u591a\u8bb0\u5f55\u51e0\u5929\uff09"}return{labels:a,values:l,subText:w,latestText:g,hintText:$}},measureCanvasAndDraw:function(t){var s=this;uni.createSelectorQuery().in(this).select("#weight7Canvas").boundingClientRect((function(e){if(e&&e.width&&e.height){var a=Math.max(1,Math.round(e.width)),i=Math.max(1,Math.round(e.height));s.setData({canvasW:a,canvasH:i,canvasCssW:e.width,canvasCssH:e.height,dpr:1},(function(){return s.drawWeight7Canvas(t)}))}})).exec()},drawWeight7Canvas:function(t){var s=uni.createCanvasContext("weight7Canvas",this),e=this.canvasW||300,a=this.canvasH||160;s.clearRect(0,0,e,a);var r=e-18-18,n=a-10-34;s.setStrokeStyle("#f2f2f2"),s.setLineWidth(1);for(var c=0;c<=3;c++){var o=10+Math.round(n*c/3);s.beginPath(),s.moveTo(18,o),s.lineTo(e-18,o),s.stroke()}for(var l=[],u=0;u<7;u++)l.push(18+Math.round(r*u/6));var _=t.values||[],d=t.labels||[];s.setFillStyle("#999"),s.setFontSize(9);for(var f=0;f<d.length;f++){var h=d[f]||"",v=l[f],p=5.2*h.length,w=v-p/2;w=Math.max(2,Math.min(e-p-2,w)),s.fillText(h,w,a-8)}var g=_.filter((function(t){return"number"===typeof t}));if(g.length){var $=Math.min.apply(Math,(0,i.default)(g)),m=Math.max.apply(Math,(0,i.default)(g));m-$<.6&&(m=$+.6);var C=function(t){var s=(t-$)/(m-$),e=10+n*(1-s);return Math.max(10,Math.min(10+n,e))};s.setStrokeStyle("#ff6b9a"),s.setLineWidth(3);var y=!1;_.forEach((function(t,e){if("number"!==typeof t)return y&&s.stroke(),void(y=!1);var a=l[e],i=C(t);y?s.lineTo(a,i):(s.beginPath(),s.moveTo(a,i),y=!0)})),y&&s.stroke();s.setFillStyle("#ff6b9a");s.setFontSize(10),s.setFillStyle("#444"),_.forEach((function(t,i){if("number"===typeof t){var r=l[i],n=C(t);s.setFillStyle("#ff6b9a"),s.beginPath(),s.arc(r,n,4,0,2*Math.PI),s.fill(),s.setFillStyle("#444");var c="".concat(t.toFixed(2),"kg"),o=5.5*c.length,u=r-o/2;u=Math.max(2,Math.min(e-o-2,u));var _=a-18,d=Math.min(_,n+16);s.fillText(c,u,d)}})),s.draw()}else s.draw()}}};s.default=D},"77a3":function(t,s,e){"use strict";e.r(s);var a=e("b5ef"),i=e("c0f4");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},7854:function(t,s,e){"use strict";e.r(s);var a=e("4f4b"),i=e("f48d");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"7aa9":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","container page-bottom-space"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","card"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","label row-left-with-icon"),attrs:{_i:2}},[e("image",{staticClass:t._$s(3,"sc","label-icon"),attrs:{_i:3}}),e("text")]),e("view",{staticClass:t._$s(5,"sc","field field--single"),attrs:{_i:5}},[e("input",{staticClass:t._$s(6,"sc","field__input"),attrs:{value:t._$s(6,"a-value",t.form.title),_i:6},on:{input:t.onTitle}})]),e("view",{staticClass:t._$s(7,"sc","label row-left-with-icon"),attrs:{_i:7}},[e("image",{staticClass:t._$s(8,"sc","label-icon"),attrs:{_i:8}}),e("text")]),e("view",{attrs:{_i:10},on:{click:t.openDateWheel}},[e("view",{staticClass:t._$s(11,"sc","field field--single"),attrs:{_i:11}},[e("view",{class:t._$s(12,"c","field__value "+(t.form.date?"":"field__placeholder")),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.form.date||"\u8bf7\u9009\u62e9\u65e5\u671f")))])])]),e("view",{staticClass:t._$s(13,"sc","label row-left-with-icon"),attrs:{_i:13}},[e("image",{staticClass:t._$s(14,"sc","label-icon"),attrs:{_i:14}}),e("text")]),e("picker",{attrs:{range:t._$s(16,"a-range",t.typeOptions),value:t._$s(16,"a-value",t.typeIndex),_i:16},on:{change:t.onType}},[e("view",{staticClass:t._$s(17,"sc","field field--single"),attrs:{_i:17}},[e("view",{staticClass:t._$s(18,"sc","field__value"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.typeOptions[t.typeIndex].text)))])])]),e("view",{staticClass:t._$s(19,"sc","label row-left-with-icon"),attrs:{_i:19}},[e("image",{staticClass:t._$s(20,"sc","label-icon"),attrs:{_i:20}}),e("text")]),e("view",{staticClass:t._$s(22,"sc","field field--multi"),attrs:{_i:22}},[e("textarea",{staticClass:t._$s(23,"sc","field__textarea"),attrs:{value:t._$s(23,"a-value",t.form.note),_i:23},on:{input:t.onNote}})]),e("view",{staticClass:t._$s(24,"sc","row"),attrs:{_i:24}},[e("view",{staticClass:t._$s(25,"sc","row-left row-left-with-icon"),attrs:{_i:25}},[e("image",{staticClass:t._$s(26,"sc","top-icon"),attrs:{_i:26}}),e("view",{staticClass:t._$s(27,"sc","muted"),attrs:{_i:27}})]),e("switch",{attrs:{checked:t._$s(28,"a-checked",t.form.isTop),_i:28},on:{change:t.onTop}})]),e("view",{staticClass:t._$s(29,"sc","row"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","row-left row-left-with-icon"),attrs:{_i:30}},[e("image",{staticClass:t._$s(31,"sc","include-icon"),attrs:{_i:31}}),e("view",{staticClass:t._$s(32,"sc","muted"),attrs:{_i:32}})]),e("switch",{attrs:{checked:t._$s(33,"a-checked",t.form.includeStart),_i:33},on:{change:t.onIncludeStart}})]),e("view",[e("button",{staticClass:t._$s(35,"sc","btn"),attrs:{_i:35},on:{click:t.save}})])]),e("YMDWheel",{attrs:{show:t.showDateWheel,value:t.dateWheelTemp,title:"\u9009\u62e9\u65e5\u671f",subtitle:"",_i:36},on:{cancel:t.onDateWheelCancel,confirm:t.onDateWheelConfirm,"update:show":t.onDateWheelUpdateShow}})],1)},i=[]},"7ca3":function(t,s,e){var a=e("d551");t.exports=function(t,s,e){return s=a(s),s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"7cf9":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=function(t,s,e){return Object(t)!==t||(Array.isArray(s)||(s=s.toString().match(/[^.[\]]+/g)||[]),s.slice(0,-1).reduce((function(t,e,a){return Object(t[e])===t[e]?t[e]:t[e]=Math.abs(s[a+1])>>0===+s[a+1]?[]:{}}),t)[s[s.length-1]]=e),t};s.default=a},"7fba":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","container"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","card"),attrs:{_i:2}},[e("view",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),e("view",{staticClass:t._$s(4,"sc","desc"),attrs:{_i:4}}),e("view",{staticClass:t._$s(5,"sc","section"),attrs:{_i:5}},[e("view",{staticClass:t._$s(6,"sc","section-title"),attrs:{_i:6}}),e("scroll-view",{staticClass:t._$s(7,"sc","table-scroll"),attrs:{_i:7}},[e("view",{staticClass:t._$s(8,"sc","table"),attrs:{_i:8}},[e("view",{staticClass:t._$s(9,"sc","tr th"),attrs:{_i:9}},[e("view",{staticClass:t._$s(10,"sc","td col1"),attrs:{_i:10}}),e("view",{staticClass:t._$s(11,"sc","td col2"),attrs:{_i:11}}),e("view",{staticClass:t._$s(12,"sc","td col3"),attrs:{_i:12}}),e("view",{staticClass:t._$s(13,"sc","td col4"),attrs:{_i:13}})]),e("view",{staticClass:t._$s(14,"sc","tr"),attrs:{_i:14}},[e("view",{staticClass:t._$s(15,"sc","td col1"),attrs:{_i:15}}),e("view",{staticClass:t._$s(16,"sc","td col2"),attrs:{_i:16}}),e("view",{staticClass:t._$s(17,"sc","td col3"),attrs:{_i:17}}),e("view",{staticClass:t._$s(18,"sc","td col4"),attrs:{_i:18}})]),e("view",{staticClass:t._$s(19,"sc","tr"),attrs:{_i:19}},[e("view",{staticClass:t._$s(20,"sc","td col1"),attrs:{_i:20}}),e("view",{staticClass:t._$s(21,"sc","td col2"),attrs:{_i:21}}),e("view",{staticClass:t._$s(22,"sc","td col3"),attrs:{_i:22}}),e("view",{staticClass:t._$s(23,"sc","td col4"),attrs:{_i:23}})]),e("view",{staticClass:t._$s(24,"sc","tr"),attrs:{_i:24}},[e("view",{staticClass:t._$s(25,"sc","td col1"),attrs:{_i:25}}),e("view",{staticClass:t._$s(26,"sc","td col2"),attrs:{_i:26}}),e("view",{staticClass:t._$s(27,"sc","td col3"),attrs:{_i:27}}),e("view",{staticClass:t._$s(28,"sc","td col4"),attrs:{_i:28}})]),e("view",{staticClass:t._$s(29,"sc","tr"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","td col1"),attrs:{_i:30}}),e("view",{staticClass:t._$s(31,"sc","td col2"),attrs:{_i:31}}),e("view",{staticClass:t._$s(32,"sc","td col3"),attrs:{_i:32}}),e("view",{staticClass:t._$s(33,"sc","td col4"),attrs:{_i:33}})])])]),e("view",{staticClass:t._$s(34,"sc","hint"),attrs:{_i:34}})]),e("view",{staticClass:t._$s(35,"sc","section"),attrs:{_i:35}},[e("view",{staticClass:t._$s(36,"sc","section-title"),attrs:{_i:36}}),e("scroll-view",{staticClass:t._$s(37,"sc","table-scroll"),attrs:{_i:37}},[e("view",{staticClass:t._$s(38,"sc","table"),attrs:{_i:38}},[e("view",{staticClass:t._$s(39,"sc","tr th"),attrs:{_i:39}},[e("view",{staticClass:t._$s(40,"sc","td col1"),attrs:{_i:40}}),e("view",{staticClass:t._$s(41,"sc","td col2"),attrs:{_i:41}}),e("view",{staticClass:t._$s(42,"sc","td col3"),attrs:{_i:42}}),e("view",{staticClass:t._$s(43,"sc","td col4"),attrs:{_i:43}})]),e("view",{staticClass:t._$s(44,"sc","tr"),attrs:{_i:44}},[e("view",{staticClass:t._$s(45,"sc","td col1"),attrs:{_i:45}}),e("view",{staticClass:t._$s(46,"sc","td col2"),attrs:{_i:46}}),e("view",{staticClass:t._$s(47,"sc","td col3"),attrs:{_i:47}}),e("view",{staticClass:t._$s(48,"sc","td col4"),attrs:{_i:48}})]),e("view",{staticClass:t._$s(49,"sc","tr"),attrs:{_i:49}},[e("view",{staticClass:t._$s(50,"sc","td col1"),attrs:{_i:50}}),e("view",{staticClass:t._$s(51,"sc","td col2"),attrs:{_i:51}}),e("view",{staticClass:t._$s(52,"sc","td col3"),attrs:{_i:52}}),e("view",{staticClass:t._$s(53,"sc","td col4"),attrs:{_i:53}})])])]),e("view",{staticClass:t._$s(54,"sc","hint"),attrs:{_i:54}})]),e("view",{staticClass:t._$s(55,"sc","section"),attrs:{_i:55}},[e("view",{staticClass:t._$s(56,"sc","section-title"),attrs:{_i:56}}),e("view",{staticClass:t._$s(57,"sc","desc2"),attrs:{_i:57}}),e("scroll-view",{staticClass:t._$s(58,"sc","table-scroll"),attrs:{_i:58}},[e("view",{staticClass:t._$s(59,"sc","table"),attrs:{_i:59}},[e("view",{staticClass:t._$s(60,"sc","tr th"),attrs:{_i:60}},[e("view",{staticClass:t._$s(61,"sc","td col1"),attrs:{_i:61}}),e("view",{staticClass:t._$s(62,"sc","td col2"),attrs:{_i:62}}),e("view",{staticClass:t._$s(63,"sc","td col3"),attrs:{_i:63}}),e("view",{staticClass:t._$s(64,"sc","td col4"),attrs:{_i:64}})]),e("view",{staticClass:t._$s(65,"sc","tr"),attrs:{_i:65}},[e("view",{staticClass:t._$s(66,"sc","td col1"),attrs:{_i:66}}),e("view",{staticClass:t._$s(67,"sc","td col2"),attrs:{_i:67}}),e("view",{staticClass:t._$s(68,"sc","td col3"),attrs:{_i:68}}),e("view",{staticClass:t._$s(69,"sc","td col4"),attrs:{_i:69}})]),e("view",{staticClass:t._$s(70,"sc","tr"),attrs:{_i:70}},[e("view",{staticClass:t._$s(71,"sc","td col1"),attrs:{_i:71}}),e("view",{staticClass:t._$s(72,"sc","td col2"),attrs:{_i:72}}),e("view",{staticClass:t._$s(73,"sc","td col3"),attrs:{_i:73}}),e("view",{staticClass:t._$s(74,"sc","td col4"),attrs:{_i:74}})]),e("view",{staticClass:t._$s(75,"sc","tr"),attrs:{_i:75}},[e("view",{staticClass:t._$s(76,"sc","td col1"),attrs:{_i:76}}),e("view",{staticClass:t._$s(77,"sc","td col2"),attrs:{_i:77}}),e("view",{staticClass:t._$s(78,"sc","td col3"),attrs:{_i:78}}),e("view",{staticClass:t._$s(79,"sc","td col4"),attrs:{_i:79}})])])]),e("view",{staticClass:t._$s(80,"sc","hint"),attrs:{_i:80}})]),e("view",{staticClass:t._$s(81,"sc","section"),attrs:{_i:81}},[e("view",{staticClass:t._$s(82,"sc","section-title"),attrs:{_i:82}}),e("view",{staticClass:t._$s(83,"sc","desc2"),attrs:{_i:83}})]),e("view",{staticClass:t._$s(84,"sc","footer"),attrs:{_i:84}},[e("view"),e("view")])])])])},i=[]},"828b":function(t,s,e){"use strict";function a(t,s,e,a,i,r,n,c,o,l){var u,_="function"===typeof t?t.options:t;if(o){_.components||(_.components={});var d=Object.prototype.hasOwnProperty;for(var f in o)d.call(o,f)&&!d.call(_.components,f)&&(_.components[f]=o[f])}if(l&&("function"===typeof l.beforeCreate&&(l.beforeCreate=[l.beforeCreate]),(l.beforeCreate||(l.beforeCreate=[])).unshift((function(){this[l.__module]=this})),(_.mixins||(_.mixins=[])).push(l)),s&&(_.render=s,_.staticRenderFns=e,_._compiled=!0),a&&(_.functional=!0),r&&(_._scopeId="data-v-"+r),n?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},_._ssrRegister=u):i&&(u=c?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(_.functional){_._injectStyles=u;var h=_.render;_.render=function(t,s){return u.call(s),h(t,s)}}else{var v=_.beforeCreate;_.beforeCreate=v?[].concat(v,u):[u]}return{exports:t,options:_}}e.d(s,"a",(function(){return a}))},"8a3b":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page-wrap"),attrs:{_i:0}},[e("scroll-view",{staticClass:t._$s(1,"sc","page"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","hero-card"),attrs:{_i:2}},[e("view",{staticClass:t._$s(3,"sc","hero-row"),attrs:{_i:3}},[e("view",{staticClass:t._$s(4,"sc","hero-left"),attrs:{_i:4}},[e("text",{staticClass:t._$s(5,"sc","hero-k"),attrs:{_i:5}}),e("text",{staticClass:t._$s(6,"sc","hero-v"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.todayKgText)))]),e("text",{staticClass:t._$s(7,"sc","hero-unit"),attrs:{_i:7}}),e("view",{staticClass:t._$s(8,"sc","hero-sub"),attrs:{_i:8}},[e("text",{staticClass:t._$s(9,"sc","sub-item"),attrs:{_i:9}},[t._v(t._$s(9,"t0-0",t._s(t.todayKgDetail)))]),e("text",{staticClass:t._$s(10,"sc","sub-dot"),attrs:{_i:10}}),e("text",{staticClass:t._$s(11,"sc","sub-item"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.bmiText)))])]),e("view",{staticClass:t._$s(12,"sc","hero-sub2"),attrs:{_i:12}},[e("text",{staticClass:t._$s(13,"sc","sub2-item"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.heightText)))]),e("text",{staticClass:t._$s(14,"sc","sub-dot"),attrs:{_i:14}}),e("text",{staticClass:t._$s(15,"sc","sub2-item"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.todayStr)))])])]),e("view",{staticClass:t._$s(16,"sc","hero-right"),attrs:{_i:16}},[e("view",{staticClass:t._$s(17,"sc","hero-btn primary"),attrs:{_i:17},on:{click:t.openWeightForToday}},[e("text",{staticClass:t._$s(18,"sc","hero-btn-t"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.hasToday?"\u4fee\u6539":"\u8bb0\u5f55")))])]),e("view",{staticClass:t._$s(19,"sc","hero-btn ghost"),attrs:{_i:19},on:{click:t.openHeightPopup}},[e("text",{staticClass:t._$s(20,"sc","hero-btn-t"),attrs:{_i:20}})])])]),t._$s(21,"i",!t.hasToday)?e("view",{staticClass:t._$s(21,"sc","hero-tip"),attrs:{_i:21}}):t._e(),t._$s(22,"i",t.bmiTagText)?e("view",{staticClass:t._$s(22,"sc","hero-bmi-tag"),attrs:{_i:22}},[e("text",{staticClass:t._$s(23,"sc","bmi-tag"),attrs:{_i:23}},[t._v(t._$s(23,"t0-0",t._s(t.bmiTagText)))])]):t._e()]),t._$s(24,"i",t.pointsAll.length)?e("view",{staticClass:t._$s(24,"sc","range-bar"),attrs:{_i:24}},[e("view",{staticClass:t._$s(25,"sc","pill"),class:t._$s(25,"c",{on:"7"===t.rangeKey}),attrs:{_i:25},on:{click:function(s){return t.setRange("7")}}}),e("view",{staticClass:t._$s(26,"sc","pill"),class:t._$s(26,"c",{on:"30"===t.rangeKey}),attrs:{_i:26},on:{click:function(s){return t.setRange("30")}}}),e("view",{staticClass:t._$s(27,"sc","pill"),class:t._$s(27,"c",{on:"90"===t.rangeKey}),attrs:{_i:27},on:{click:function(s){return t.setRange("90")}}}),e("view",{staticClass:t._$s(28,"sc","pill"),class:t._$s(28,"c",{on:"all"===t.rangeKey}),attrs:{_i:28},on:{click:function(s){return t.setRange("all")}}})]):t._e(),t._$s(29,"i",t.stats.count)?e("view",{staticClass:t._$s(29,"sc","card"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","card-title"),attrs:{_i:30}}),e("view",{staticClass:t._$s(31,"sc","metrics"),attrs:{_i:31}},[e("view",{staticClass:t._$s(32,"sc","metric"),attrs:{_i:32}},[e("text",{staticClass:t._$s(33,"sc","m-k"),attrs:{_i:33}}),e("text",{staticClass:t._$s(34,"sc","m-v"),attrs:{_i:34}},[t._v(t._$s(34,"t0-0",t._s(t.stats.latestText)))]),e("text",{staticClass:t._$s(35,"sc","m-s"),attrs:{_i:35}},[t._v(t._$s(35,"t0-0",t._s(t.stats.latestDateText)))])]),e("view",{staticClass:t._$s(36,"sc","metric"),attrs:{_i:36}},[e("text",{staticClass:t._$s(37,"sc","m-k"),attrs:{_i:37}},[t._v(t._$s(37,"t0-0",t._s(t.rangeLabel)))]),e("text",{staticClass:t._$s(38,"sc","m-v"),class:t._$s(38,"c",{up:t.stats.delta>0,down:t.stats.delta<0}),attrs:{_i:38}},[t._v(t._$s(38,"t0-0",t._s(t.stats.deltaText)))]),e("text",{staticClass:t._$s(39,"sc","m-s"),attrs:{_i:39}},[t._v(t._$s(39,"t0-0",t._s(t.stats.firstText)))])]),e("view",{staticClass:t._$s(40,"sc","metric"),attrs:{_i:40}},[e("text",{staticClass:t._$s(41,"sc","m-k"),attrs:{_i:41}}),e("text",{staticClass:t._$s(42,"sc","m-v"),attrs:{_i:42}},[t._v(t._$s(42,"t0-0",t._s(t.stats.avgText)))]),e("text",{staticClass:t._$s(43,"sc","m-s"),attrs:{_i:43}},[t._v(t._$s(43,"t0-0",t._s(t.stats.stdText)))])]),e("view",{staticClass:t._$s(44,"sc","metric"),attrs:{_i:44}},[e("text",{staticClass:t._$s(45,"sc","m-k"),attrs:{_i:45}}),e("text",{staticClass:t._$s(46,"sc","m-v"),attrs:{_i:46}},[t._v(t._$s(46,"t0-0",t._s(t.stats.minText))+t._$s(46,"t0-1",t._s(t.stats.maxText)))]),e("text",{staticClass:t._$s(47,"sc","m-s"),attrs:{_i:47}},[t._v(t._$s(47,"t0-0",t._s(t.stats.count)))])])])]):t._e(),t._$s(48,"i",!t.stats.count)?e("view",{staticClass:t._$s(48,"sc","card"),attrs:{_i:48}},[e("view",{staticClass:t._$s(49,"sc","card-title"),attrs:{_i:49}}),e("view",{staticClass:t._$s(50,"sc","empty"),attrs:{_i:50}},[e("text",{staticClass:t._$s(51,"sc","empty-t"),attrs:{_i:51}})])]):t._e(),t._$s(52,"i",t.stats.count)?e("view",{staticClass:t._$s(52,"sc","card"),attrs:{_i:52}},[e("view",{staticClass:t._$s(53,"sc","card-title"),attrs:{_i:53}}),e("view",{staticClass:t._$s(54,"sc","sub"),attrs:{_i:54}}),e("view",{staticClass:t._$s(55,"sc","chart-box"),attrs:{_i:55}},[e("qiun-data-charts",{attrs:{type:"mix",opts:t.optsTrend,chartData:t.chartTrend,canvas2d:!0,canvasId:"trendChart",inScrollView:!0,_i:56}})],1)]):t._e(),t._$s(57,"i",t.weekAgg.categories.length)?e("view",{staticClass:t._$s(57,"sc","card"),attrs:{_i:57}},[e("view",{staticClass:t._$s(58,"sc","card-title"),attrs:{_i:58}}),e("view",{staticClass:t._$s(59,"sc","sub"),attrs:{_i:59}}),e("view",{staticClass:t._$s(60,"sc","chart-box"),attrs:{_i:60}},[e("qiun-data-charts",{attrs:{type:"column",opts:t.optsWeek,chartData:t.chartWeek,canvas2d:!0,canvasId:"weekChart",inScrollView:!0,_i:61}})],1)]):t._e(),t._$s(62,"i",t.distSeries.length)?e("view",{staticClass:t._$s(62,"sc","card"),attrs:{_i:62}},[e("view",{staticClass:t._$s(63,"sc","card-title"),attrs:{_i:63}}),e("view",{staticClass:t._$s(64,"sc","sub"),attrs:{_i:64}}),e("view",{staticClass:t._$s(65,"sc","chart-box"),attrs:{_i:65}},[e("qiun-data-charts",{attrs:{type:"ring",opts:t.optsDist,chartData:t.chartDist,canvas2d:!0,canvasId:"distChart",inScrollView:!0,_i:66}})],1),e("view",{staticClass:t._$s(67,"sc","dist-legend"),attrs:{_i:67}},t._l(t._$s(68,"f",{forItems:t.distSeries}),(function(s,a,i,r){return e("view",{key:t._$s(68,"f",{forIndex:i,key:a}),staticClass:t._$s("68-"+r,"sc","dist-item"),attrs:{_i:"68-"+r}},[e("text",{staticClass:t._$s("69-"+r,"sc","dist-name"),attrs:{_i:"69-"+r}},[t._v(t._$s("69-"+r,"t0-0",t._s(s.name)))]),e("text",{staticClass:t._$s("70-"+r,"sc","dist-val"),attrs:{_i:"70-"+r}},[t._v(t._$s("70-"+r,"t0-0",t._s(s.value)))])])})),0)]):t._e(),e("view",{staticClass:t._$s(71,"sc","bottom-spacer"),attrs:{_i:71}})]),t._$s(72,"i",t.showWeightPopup)?e("view",{attrs:{_i:72}},[e("view",{staticClass:t._$s(73,"sc","sheet-mask"),attrs:{_i:73},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)},click:t.onWeightCancel}}),e("view",{staticClass:t._$s(74,"sc","sheet"),attrs:{_i:74},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)},click:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)}}},[e("view",{staticClass:t._$s(75,"sc","sheet-header"),attrs:{_i:75}},[e("text",{staticClass:t._$s(76,"sc","sheet-btn"),attrs:{_i:76},on:{click:t.onWeightCancel}}),e("text",{staticClass:t._$s(77,"sc","sheet-title"),attrs:{_i:77}}),e("text",{staticClass:t._$s(78,"sc","sheet-btn sheet-btn-primary"),attrs:{_i:78},on:{click:t.onWeightConfirm}})]),e("view",{staticClass:t._$s(79,"sc","sheet-value"),attrs:{_i:79}},[e("text",{staticClass:t._$s(80,"sc","value-num"),attrs:{_i:80}},[t._v(t._$s(80,"t0-0",t._s(t.weightDisplay)))]),e("text",{staticClass:t._$s(81,"sc","value-unit"),attrs:{_i:81}})]),e("view",{staticClass:t._$s(82,"sc","sheet-keypad"),attrs:{_i:82}},[e("view",{staticClass:t._$s(83,"sc","key-row"),attrs:{_i:83}},[e("view",{staticClass:t._$s(84,"sc","key"),attrs:{_i:84},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(85,"sc","key"),attrs:{_i:85},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(86,"sc","key"),attrs:{_i:86},on:{click:t.onWeightKey}})]),e("view",{staticClass:t._$s(87,"sc","key-row"),attrs:{_i:87}},[e("view",{staticClass:t._$s(88,"sc","key"),attrs:{_i:88},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(89,"sc","key"),attrs:{_i:89},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(90,"sc","key"),attrs:{_i:90},on:{click:t.onWeightKey}})]),e("view",{staticClass:t._$s(91,"sc","key-row"),attrs:{_i:91}},[e("view",{staticClass:t._$s(92,"sc","key"),attrs:{_i:92},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(93,"sc","key"),attrs:{_i:93},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(94,"sc","key"),attrs:{_i:94},on:{click:t.onWeightKey}})]),e("view",{staticClass:t._$s(95,"sc","key-row"),attrs:{_i:95}},[e("view",{staticClass:t._$s(96,"sc","key"),attrs:{_i:96},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(97,"sc","key"),attrs:{_i:97},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(98,"sc","key key-del"),attrs:{_i:98},on:{click:t.onWeightDel}},[e("text",{staticClass:t._$s(99,"sc","del-t"),attrs:{_i:99}})])]),e("view",{staticClass:t._$s(100,"sc","sheet-hint"),attrs:{_i:100}})])])]):t._e(),t._$s(101,"i",t.showHeightPopup)?e("view",{attrs:{_i:101}},[e("view",{staticClass:t._$s(102,"sc","sheet-mask"),attrs:{_i:102},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)},click:t.onHeightCancel}}),e("view",{staticClass:t._$s(103,"sc","sheet"),attrs:{_i:103},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)},click:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)}}},[e("view",{staticClass:t._$s(104,"sc","sheet-header"),attrs:{_i:104}},[e("text",{staticClass:t._$s(105,"sc","sheet-btn"),attrs:{_i:105},on:{click:t.onHeightCancel}}),e("text",{staticClass:t._$s(106,"sc","sheet-title"),attrs:{_i:106}}),e("text",{staticClass:t._$s(107,"sc","sheet-btn sheet-btn-primary"),attrs:{_i:107},on:{click:t.onHeightConfirm}})]),e("view",{staticClass:t._$s(108,"sc","height-box"),attrs:{_i:108}},[e("view",{staticClass:t._$s(109,"sc","height-row"),attrs:{_i:109}},[e("text",{staticClass:t._$s(110,"sc","height-k"),attrs:{_i:110}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.heightInput,expression:"heightInput"}],staticClass:t._$s(111,"sc","height-input"),attrs:{_i:111},domProps:{value:t._$s(111,"v-model",t.heightInput)},on:{input:function(s){s.target.composing||(t.heightInput=s.target.value)}}}),e("text",{staticClass:t._$s(112,"sc","height-u"),attrs:{_i:112}})]),e("view",{staticClass:t._$s(113,"sc","height-hint"),attrs:{_i:113}})])])]):t._e()])},i=[]},"8b5e":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.getRelationNodes=function(t){if(!this.$unicom)throw"this.getRelationNodes()\u9700\u4e0ep-f-unicom\u914d\u5408\u4f7f\u7528\uff01";return this.$unicom("@"+t)}},"8ba4":function(t,s,e){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var s=this.constructor;return this.then((function(e){return s.resolve(t()).then((function(){return e}))}),(function(e){return s.resolve(t()).then((function(){throw e}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var a=uni.requireGlobal();ArrayBuffer=a.ArrayBuffer,Int8Array=a.Int8Array,Uint8Array=a.Uint8Array,Uint8ClampedArray=a.Uint8ClampedArray,Int16Array=a.Int16Array,Uint16Array=a.Uint16Array,Int32Array=a.Int32Array,Uint32Array=a.Uint32Array,Float32Array=a.Float32Array,Float64Array=a.Float64Array,BigInt64Array=a.BigInt64Array,BigUint64Array=a.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/home/home",(function(){return Vue.extend(e("0f4e").default)})),__definePage("pages/add/add",(function(){return Vue.extend(e("078d").default)})),__definePage("pages/period/period",(function(){return Vue.extend(e("a8a8").default)})),__definePage("pages/me/me",(function(){return Vue.extend(e("12c1").default)})),__definePage("pages/detail/detail",(function(){return Vue.extend(e("77a3").default)})),__definePage("pages/about/about",(function(){return Vue.extend(e("c01b").default)})),__definePage("pages/editDetail/editDetail",(function(){return Vue.extend(e("a146").default)})),__definePage("pages/subabout/privacy/privacy",(function(){return Vue.extend(e("990d").default)})),__definePage("pages/subabout/agreement/agreement",(function(){return Vue.extend(e("4d3c").default)})),__definePage("pages/subabout/intro/intro",(function(){return Vue.extend(e("ab70").default)})),__definePage("pages/subabout/feedback/feedback",(function(){return Vue.extend(e("40b8").default)})),__definePage("pages/subabout/changelog/changelog",(function(){return Vue.extend(e("7019").default)})),__definePage("pages/subperiod/analysis/analysis",(function(){return Vue.extend(e("16a7").default)})),__definePage("pages/subperiod/addlove/addlove",(function(){return Vue.extend(e("7127").default)})),__definePage("pages/subperiod/addpain/addpain",(function(){return Vue.extend(e("f3c4").default)})),__definePage("pages/subabout/info-list/info-list",(function(){return Vue.extend(e("db1b").default)})),__definePage("pages/subperiod/love/love",(function(){return Vue.extend(e("8fc3").default)})),__definePage("pages/subperiod/weight/weight",(function(){return Vue.extend(e("655b").default)})),__definePage("pages/profile/profile",(function(){return Vue.extend(e("9bf8").default)}))},"8dcb":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.escape2Html=function(t){if(!t)return t;var s={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return t.replace(/&(lt|gt|nbsp|amp|quot);/gi,(function(t,e){return s[e]}))},s.html2Escape=function(t){return t?t.replace(/[<>&"]/g,(function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[t]})):t}},"8fc3":function(t,s,e){"use strict";e.r(s);var a=e("1917"),i=e("5d2b");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},9008:function(t,s){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},"902c":function(t,s,e){"use strict";e.r(s);var a=e("bfe4"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"91f6":function(t,s,e){"use strict";e.r(s);var a=e("995a"),i=e("cc60");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"951c":function(t,s){t.exports=Vue},9781:function(t,s,e){"use strict";e.d(s,"b",(function(){return i})),e.d(s,"c",(function(){return r})),e.d(s,"a",(function(){return a}));var a={privacyPopup:e("425a").default},i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","custom-nav"),style:t._$s(1,"s","height:"+t.navTotalHeight+"px;"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","custom-nav__inner"),style:t._$s(2,"s","padding-top:"+t.statusBarHeight+"px;height:"+t.navBarHeight+"px;"),attrs:{_i:2}},[e("text",{staticClass:t._$s(3,"sc","custom-nav__title"),attrs:{_i:3}})])]),e("view",{style:t._$s(4,"s","height:"+t.navTotalHeight+"px;"),attrs:{_i:4}}),e("view",{staticClass:t._$s(5,"sc","container page-bottom-space"),attrs:{_i:5}},[e("view",{staticClass:t._$s(6,"sc","card"),attrs:{_i:6},on:{click:t.goDate}},[e("view",{staticClass:t._$s(7,"sc","big-card"),attrs:{_i:7}},[e("view",{staticClass:t._$s(8,"sc","big-card-left"),attrs:{_i:8}},[e("text",{staticClass:t._$s(9,"sc","big-title"),attrs:{_i:9}}),e("view",{staticClass:t._$s(10,"sc","big-sub"),attrs:{_i:10}},[e("text"),e("text",[t._v(t._$s(12,"t0-0",t._s(t.coupleStartDate?t.coupleStartDate:"\u672a\u8bbe\u7f6e")))])])]),e("view",{staticClass:t._$s(13,"sc","big-card-right"),attrs:{_i:13}},[e("text",{staticClass:t._$s(14,"sc","big-num"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.daysTogether)))]),e("text",{staticClass:t._$s(15,"sc","big-unit"),attrs:{_i:15}})])])]),e("view",{staticClass:t._$s(16,"sc","list-header"),attrs:{_i:16}},[e("view",{staticClass:t._$s(17,"sc","list-title"),attrs:{_i:17}},[e("image",{staticClass:t._$s(18,"sc","title-icon"),attrs:{_i:18}}),e("text")])]),t._$s(20,"i",!t.list||0===t.list.length)?e("view",{staticClass:t._$s(20,"sc","empty-card"),attrs:{_i:20},on:{click:t.goAdd}},[e("text",{staticClass:t._$s(21,"sc","empty-card-text"),attrs:{_i:21}})]):e("view",{staticClass:t._$s(22,"sc","list"),attrs:{_i:22}},t._l(t._$s(23,"f",{forItems:t.list}),(function(s,a,i,r){return e("view",{key:t._$s(23,"f",{forIndex:i,key:s.id}),staticClass:t._$s("23-"+r,"sc","item"),class:t._$s("23-"+r,"c",{dragging:t.isDragging&&t.dragIndex===a}),style:t._$s("23-"+r,"s",t.isDragging&&t.dragIndex===a?"transform: translateY("+t.dragOffsetY+"px);":""),attrs:{"data-index":t._$s("23-"+r,"a-data-index",a),"data-id":t._$s("23-"+r,"a-data-id",s.id),_i:"23-"+r},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.onDragMove(s)},touchend:function(s){return s.stopPropagation(),t.onDragEnd(s)},touchcancel:function(s){return s.stopPropagation(),t.onDragEnd(s)}}},[e("view",{staticClass:t._$s("24-"+r,"sc","item-main"),attrs:{"data-index":t._$s("24-"+r,"a-data-index",a),"data-id":t._$s("24-"+r,"a-data-id",s.id),_i:"24-"+r},on:{click:t.onTapItem,longpress:t.onDragStart}},[e("view",{staticClass:t._$s("25-"+r,"sc","item-left"),attrs:{_i:"25-"+r}},[e("text",{staticClass:t._$s("26-"+r,"sc","item-title"),attrs:{_i:"26-"+r}},[t._v(t._$s("26-"+r,"t0-0",t._s(s.title)))])]),e("view",{staticClass:t._$s("27-"+r,"sc","item-right"),attrs:{_i:"27-"+r}},[t._$s("28-"+r,"i",s.badgeFull)?e("view",{staticClass:t._$s("28-"+r,"sc","badge"),attrs:{_i:"28-"+r}},[e("text",{staticClass:t._$s("29-"+r,"sc","badge-text"),attrs:{_i:"29-"+r}},[t._v(t._$s("29-"+r,"t0-0",t._s(s.badgeFull)))])]):e("view",{staticClass:t._$s("30-"+r,"sc","count"),attrs:{_i:"30-"+r}},[e("text",{staticClass:t._$s("31-"+r,"sc","count-num"),attrs:{_i:"31-"+r}},[t._v(t._$s("31-"+r,"t0-0",t._s(s.daysAbs)))]),e("text",{staticClass:t._$s("32-"+r,"sc","count-unit"),attrs:{_i:"32-"+r}},[t._v(t._$s("32-"+r,"t0-0",t._s(1===s.daysAbs?"day":"days")))]),e("text",{staticClass:t._$s("33-"+r,"sc","count-sign"),attrs:{_i:"33-"+r}},[t._v(t._$s("33-"+r,"t0-0",t._s(s.daysSign)))])])])])])})),0)]),t._$s(34,"i",t.showPrivacy)?e("privacy-popup",{attrs:{_i:34},on:{agree:t.onAgreePrivacy,reject:t.onRejectPrivacy,open:t.onOpenDoc}}):t._e()],1)},r=[]},9860:function(t,s,e){"use strict";e.r(s);var a=e("bf02"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},"990d":function(t,s,e){"use strict";e.r(s);var a=e("a14f"),i=e("539e");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},"995a":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t._$s(0,"i",t.show)?e("view",{staticClass:t._$s(0,"sc","dw-mask"),attrs:{_i:0},on:{click:t.onCancel}},[e("view",{staticClass:t._$s(1,"sc","dw-sheet"),attrs:{_i:1},on:{click:function(s){return s.stopPropagation(),t.noop(s)}}},[e("view",{staticClass:t._$s(2,"sc","dw-top"),attrs:{_i:2}},[e("text",{staticClass:t._$s(3,"sc","dw-btn"),attrs:{_i:3},on:{click:t.onCancel}},[t._v(t._$s(3,"t0-0",t._s(t.cancelText)))]),e("view",{staticClass:t._$s(4,"sc","dw-mid"),attrs:{_i:4}},[t._$s(5,"i",t.subtitle)?e("view",{staticClass:t._$s(5,"sc","dw-subtitle"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.subtitle)))]):t._e(),e("view",{staticClass:t._$s(6,"sc","dw-title"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.title)))])]),e("text",{staticClass:t._$s(7,"sc","dw-btn dw-ok"),attrs:{_i:7},on:{click:t.onConfirm}},[t._v(t._$s(7,"t0-0",t._s(t.okText)))])]),e("view",{staticClass:t._$s(8,"sc","dw-body"),attrs:{_i:8}},[e("picker-view",{staticClass:t._$s(9,"sc","dw-picker"),attrs:{value:t._$s(9,"a-value",t.dateWheelIndex),"indicator-style":t._$s(9,"a-indicator-style","height: "+t.indicatorHeightRpx+"rpx;"),_i:9},on:{change:t.onWheelChange}},[e("picker-view-column",t._l(t._$s(11,"f",{forItems:t.dateYears}),(function(s,a,i,r){return e("view",{key:t._$s(11,"f",{forIndex:i,key:"y-"+s}),class:t._$s("11-"+r,"c",["dw-item",a===t.dateWheelDraftIndex[0]?"dw-item-active":""]),attrs:{_i:"11-"+r}},[t._v(t._$s("11-"+r,"t0-0",t._s(s)))])})),0),e("picker-view-column",t._l(t._$s(13,"f",{forItems:t.dateMonths}),(function(s,a,i,r){return e("view",{key:t._$s(13,"f",{forIndex:i,key:"m-"+s}),class:t._$s("13-"+r,"c",["dw-item",a===t.dateWheelDraftIndex[1]?"dw-item-active":""]),attrs:{_i:"13-"+r}},[t._v(t._$s("13-"+r,"t0-0",t._s(s)))])})),0),e("picker-view-column",t._l(t._$s(15,"f",{forItems:t.dateDays}),(function(s,a,i,r){return e("view",{key:t._$s(15,"f",{forIndex:i,key:"d-"+s}),class:t._$s("15-"+r,"c",["dw-item",a===t.dateWheelDraftIndex[2]?"dw-item-active":""]),attrs:{_i:"15-"+r}},[t._v(t._$s("15-"+r,"t0-0",t._s(s)))])})),0)]),e("view",{staticClass:t._$s(16,"sc","dw-indicator"),attrs:{_i:16}})])])]):t._e()},i=[]},"99b9":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page-wrap"),attrs:{_i:0}},[e("scroll-view",{staticClass:t._$s(1,"sc","page"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","cal-header"),attrs:{_i:2}},[e("view",{staticClass:t._$s(3,"sc","nav-btn"),attrs:{_i:3},on:{click:t.goPrevMonth}}),e("view",{staticClass:t._$s(4,"sc","header-center"),attrs:{_i:4}},[e("text",{staticClass:t._$s(5,"sc","ym-text"),attrs:{_i:5}},[t._v(t._$s(5,"t0-0",t._s(t.year))+t._$s(5,"t0-1",t._s(t.month)))]),e("view",{staticClass:t._$s(6,"sc","today-btn"),attrs:{_i:6},on:{click:t.goToday}})]),e("view",{staticClass:t._$s(7,"sc","nav-btn"),attrs:{_i:7},on:{click:t.goNextMonth}})]),e("view",{staticClass:t._$s(8,"sc","week-row"),attrs:{_i:8}},t._l(t._$s(9,"f",{forItems:t.weekNames}),(function(s,a,i,r){return e("view",{key:t._$s(9,"f",{forIndex:i,key:a}),staticClass:t._$s("9-"+r,"sc","week-item"),attrs:{_i:"9-"+r}},[t._v(t._$s("9-"+r,"t0-0",t._s(s)))])})),0),e("view",{staticClass:t._$s(10,"sc","cal-swipe"),attrs:{_i:10},on:{touchstart:t.onTouchStart,touchend:t.onTouchEnd}},[e("view",{staticClass:t._$s(11,"sc","cal-track"),class:t._$s(11,"c",{"is-anim":t.isMonthAnimating,"no-anim":t.calNoAnim}),style:t._$s(11,"s",t.calTrackStyle),attrs:{_i:11},on:{transitionend:t.onMonthAnimEnd}},[e("view",{staticClass:t._$s(12,"sc","cal-pane"),attrs:{_i:12}},[e("view",{staticClass:t._$s(13,"sc","grid"),attrs:{_i:13}},t._l(t._$s(14,"f",{forItems:"prev"===t.monthAnimDir?t.nextCells:t.cells}),(function(s,a,i,r){return e("view",{key:t._$s(14,"f",{forIndex:i,key:a}),class:t._$s("14-"+r,"c","cell "+s.cls),attrs:{"data-date":t._$s("14-"+r,"a-data-date",s.dateStr),_i:"14-"+r},on:{click:t.onTapDate}},[e("view",{staticClass:t._$s("15-"+r,"sc","top-mark"),attrs:{_i:"15-"+r}},[t._$s("16-"+r,"i",s.hasHeart)?e("text",{staticClass:t._$s("16-"+r,"sc","heart"),attrs:{_i:"16-"+r}}):t._e(),t._$s("17-"+r,"i",s.isOvulationDay)?e("view",{staticClass:t._$s("17-"+r,"sc","ovu-dot"),attrs:{_i:"17-"+r}}):t._e()]),e("text",{staticClass:t._$s("18-"+r,"sc","num"),attrs:{_i:"18-"+r}},[t._v(t._$s("18-"+r,"t0-0",t._s(s.day)))]),t._$s("19-"+r,"i",s.isToday)?e("text",{staticClass:t._$s("19-"+r,"sc","today-tag"),attrs:{_i:"19-"+r}}):t._e()])})),0)]),e("view",{staticClass:t._$s(20,"sc","cal-pane"),attrs:{_i:20}},[e("view",{staticClass:t._$s(21,"sc","grid"),attrs:{_i:21}},t._l(t._$s(22,"f",{forItems:"prev"===t.monthAnimDir?t.cells:t.nextCells}),(function(s,a,i,r){return e("view",{key:t._$s(22,"f",{forIndex:i,key:"n"+a}),class:t._$s("22-"+r,"c","cell "+s.cls),attrs:{"data-date":t._$s("22-"+r,"a-data-date",s.dateStr),_i:"22-"+r},on:{click:t.onTapDate}},[e("view",{staticClass:t._$s("23-"+r,"sc","top-mark"),attrs:{_i:"23-"+r}},[t._$s("24-"+r,"i",s.hasHeart)?e("text",{staticClass:t._$s("24-"+r,"sc","heart"),attrs:{_i:"24-"+r}}):t._e(),t._$s("25-"+r,"i",s.isOvulationDay)?e("view",{staticClass:t._$s("25-"+r,"sc","ovu-dot"),attrs:{_i:"25-"+r}}):t._e()]),e("text",{staticClass:t._$s("26-"+r,"sc","num"),attrs:{_i:"26-"+r}},[t._v(t._$s("26-"+r,"t0-0",t._s(s.day)))]),t._$s("27-"+r,"i",s.isToday)?e("text",{staticClass:t._$s("27-"+r,"sc","today-tag"),attrs:{_i:"27-"+r}}):t._e()])})),0)])])]),e("view",{staticClass:t._$s(28,"sc","legend"),attrs:{_i:28}},[e("view",{staticClass:t._$s(29,"sc","leg-item"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","box b-period"),attrs:{_i:30}}),e("text")]),e("view",{staticClass:t._$s(32,"sc","leg-item"),attrs:{_i:32}},[e("view",{staticClass:t._$s(33,"sc","box b-pred"),attrs:{_i:33}}),e("text")]),e("view",{staticClass:t._$s(35,"sc","leg-item"),attrs:{_i:35}},[e("view",{staticClass:t._$s(36,"sc","box b-ovu"),attrs:{_i:36}}),e("text")]),e("view",{staticClass:t._$s(38,"sc","leg-item"),attrs:{_i:38}},[e("view",{staticClass:t._$s(39,"sc","dot"),attrs:{_i:39}}),e("text")])]),e("view",{staticClass:t._$s(41,"sc","mini-card tappable"),attrs:{_i:41},on:{click:t.goPeriodAnalysis}},[e("view",{staticClass:t._$s(42,"sc","mini-left"),attrs:{_i:42}},[e("image",{staticClass:t._$s(43,"sc","mini-icon"),attrs:{_i:43}}),e("text",{staticClass:t._$s(44,"sc","mini-title"),attrs:{_i:44}})]),e("image",{staticClass:t._$s(45,"sc","mini-go"),attrs:{_i:45}})]),t._$s(46,"i",!t.isFutureSelected)?e("view",{staticClass:t._$s(46,"sc","panel"),attrs:{_i:46}},[e("view",{staticClass:t._$s(47,"sc","row"),attrs:{_i:47}},[e("view",{staticClass:t._$s(48,"sc","row-left row-left-with-icon"),attrs:{_i:48}},[e("image",{staticClass:t._$s(49,"sc","row-icon"),attrs:{_i:49}}),e("text",{staticClass:t._$s(50,"sc","row-title"),attrs:{_i:50}})]),e("switch",{attrs:{checked:t._$s(51,"a-checked",t.periodSwitchOn),_i:51},on:{change:t.onTogglePeriod}})]),e("view",{staticClass:t._$s(52,"sc","row tappable"),attrs:{_i:52},on:{click:t.onGoAddPain}},[e("view",{staticClass:t._$s(53,"sc","row-left row-left-with-icon"),attrs:{_i:53}},[e("image",{staticClass:t._$s(54,"sc","row-icon"),attrs:{_i:54}}),e("text",{staticClass:t._$s(55,"sc","row-title"),attrs:{_i:55}})]),e("view",{staticClass:t._$s(56,"sc","row-right"),attrs:{_i:56}},[t._$s(57,"i",t.selectedPainText)?e("text",{staticClass:t._$s(57,"sc","row-value"),attrs:{_i:57}},[t._v(t._$s(57,"t0-0",t._s(t.selectedPainText)))]):t._e(),e("image",{staticClass:t._$s(58,"sc","plus-icon"),attrs:{src:t._$s(58,"a-src","/static/assets/icons/"+(t.hasPain?"f_xg.svg":"f_jh.svg")),_i:58}})])]),e("view",{staticClass:t._$s(59,"sc","row tappable"),attrs:{_i:59},on:{click:t.onAddWeight}},[e("view",{staticClass:t._$s(60,"sc","row-left row-left-with-icon"),attrs:{_i:60}},[e("image",{staticClass:t._$s(61,"sc","row-icon"),attrs:{_i:61}}),e("text",{staticClass:t._$s(62,"sc","row-title"),attrs:{_i:62}})]),e("view",{staticClass:t._$s(63,"sc","row-right"),attrs:{_i:63}},[t._$s(64,"i",t.hasWeight)?e("text",{staticClass:t._$s(64,"sc","row-value"),attrs:{_i:64}},[t._v(t._$s(64,"t0-0",t._s(t.selectedWeightText)))]):t._e(),t._$s(65,"i",!t.hasWeight)?e("image",{staticClass:t._$s(65,"sc","plus-icon"),attrs:{_i:65}}):e("image",{staticClass:t._$s(66,"sc","plus-icon"),attrs:{_i:66}})])]),e("view",{staticClass:t._$s(67,"sc","row tappable"),attrs:{_i:67},on:{click:t.onGoAddLove}},[e("view",{staticClass:t._$s(68,"sc","row-left row-left-with-icon"),attrs:{_i:68}},[e("image",{staticClass:t._$s(69,"sc","row-icon"),attrs:{_i:69}}),e("text",{staticClass:t._$s(70,"sc","row-title"),attrs:{_i:70}})]),e("view",{staticClass:t._$s(71,"sc","row-right"),attrs:{_i:71}},[t._$s(72,"i",t.selectedSexText)?e("text",{staticClass:t._$s(72,"sc","row-value"),attrs:{_i:72}},[t._v(t._$s(72,"t0-0",t._s(t.selectedSexText)))]):t._e(),e("image",{staticClass:t._$s(73,"sc","plus-icon"),attrs:{src:t._$s(73,"a-src","/static/assets/icons/"+(t.hasSex?"f_xg.svg":"f_jh.svg")),_i:73}})])])]):t._e(),e("view",{staticClass:t._$s(74,"sc","bottom-spacer"),attrs:{_i:74}})]),t._$s(75,"i",t.showWeightPopup)?e("view",{attrs:{_i:75}},[e("view",{staticClass:t._$s(76,"sc","sheet-mask"),attrs:{_i:76},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)},click:t.onWeightCancel}}),e("view",{staticClass:t._$s(77,"sc","sheet"),attrs:{_i:77},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)},click:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)}}},[e("view",{staticClass:t._$s(78,"sc","sheet-header"),attrs:{_i:78}},[e("text",{staticClass:t._$s(79,"sc","sheet-btn"),attrs:{_i:79},on:{click:t.onWeightCancel}}),e("text",{staticClass:t._$s(80,"sc","sheet-title"),attrs:{_i:80}}),e("text",{staticClass:t._$s(81,"sc","sheet-btn sheet-btn-primary"),attrs:{_i:81},on:{click:t.onWeightConfirm}})]),e("view",{staticClass:t._$s(82,"sc","sheet-value"),attrs:{_i:82}},[e("text",{staticClass:t._$s(83,"sc","value-num"),attrs:{_i:83}},[t._v(t._$s(83,"t0-0",t._s(t.weightDisplay)))]),e("text",{staticClass:t._$s(84,"sc","value-unit"),attrs:{_i:84}},[t._v(t._$s(84,"t0-0",t._s("kg"===t.weightUnit?"\u516c\u65a4":"\u65a4")))])]),e("view",{staticClass:t._$s(85,"sc","sheet-keypad"),attrs:{_i:85}},[e("view",{staticClass:t._$s(86,"sc","key-row"),attrs:{_i:86}},[e("view",{staticClass:t._$s(87,"sc","key"),attrs:{_i:87},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(88,"sc","key"),attrs:{_i:88},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(89,"sc","key"),attrs:{_i:89},on:{click:t.onWeightKey}})]),e("view",{staticClass:t._$s(90,"sc","key-row"),attrs:{_i:90}},[e("view",{staticClass:t._$s(91,"sc","key"),attrs:{_i:91},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(92,"sc","key"),attrs:{_i:92},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(93,"sc","key"),attrs:{_i:93},on:{click:t.onWeightKey}})]),e("view",{staticClass:t._$s(94,"sc","key-row"),attrs:{_i:94}},[e("view",{staticClass:t._$s(95,"sc","key"),attrs:{_i:95},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(96,"sc","key"),attrs:{_i:96},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(97,"sc","key"),attrs:{_i:97},on:{click:t.onWeightKey}})]),e("view",{staticClass:t._$s(98,"sc","key-row"),attrs:{_i:98}},[e("view",{staticClass:t._$s(99,"sc","key"),attrs:{_i:99},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(100,"sc","key"),attrs:{_i:100},on:{click:t.onWeightKey}}),e("view",{staticClass:t._$s(101,"sc","key key-del"),attrs:{_i:101},on:{click:t.onWeightDel}},[e("image",{staticClass:t._$s(102,"sc","key-del-icon"),attrs:{_i:102}})])])])])]):t._e()])},i=[]},"9b4f":function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","container"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","card"),attrs:{_i:2}},[e("view",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),e("view",{staticClass:t._$s(4,"sc","paragraph"),attrs:{_i:4}}),e("view",{staticClass:t._$s(5,"sc","section"),attrs:{_i:5}},[e("view",{staticClass:t._$s(6,"sc","section-title"),attrs:{_i:6}}),e("view",{staticClass:t._$s(7,"sc","item"),attrs:{_i:7}}),e("view",{staticClass:t._$s(8,"sc","item"),attrs:{_i:8}}),e("view",{staticClass:t._$s(9,"sc","item"),attrs:{_i:9}})]),e("view",{staticClass:t._$s(10,"sc","section"),attrs:{_i:10}},[e("view",{staticClass:t._$s(11,"sc","section-title"),attrs:{_i:11}}),e("view",{staticClass:t._$s(12,"sc","paragraph"),attrs:{_i:12}})]),e("view",{staticClass:t._$s(13,"sc","section"),attrs:{_i:13}},[e("view",{staticClass:t._$s(14,"sc","section-title"),attrs:{_i:14}}),e("view",{staticClass:t._$s(15,"sc","item"),attrs:{_i:15}}),e("view",{staticClass:t._$s(16,"sc","item"),attrs:{_i:16}})]),e("view",{staticClass:t._$s(17,"sc","section"),attrs:{_i:17}},[e("view",{staticClass:t._$s(18,"sc","section-title"),attrs:{_i:18}}),e("view",{staticClass:t._$s(19,"sc","item"),attrs:{_i:19}}),e("view",{staticClass:t._$s(20,"sc","item"),attrs:{_i:20}}),e("view",{staticClass:t._$s(21,"sc","item"),attrs:{_i:21}}),e("view",{staticClass:t._$s(22,"sc","item"),attrs:{_i:22}}),e("view",{staticClass:t._$s(23,"sc","item"),attrs:{_i:23}})]),e("view",{staticClass:t._$s(24,"sc","section"),attrs:{_i:24}},[e("view",{staticClass:t._$s(25,"sc","section-title"),attrs:{_i:25}}),e("view",{staticClass:t._$s(26,"sc","paragraph"),attrs:{_i:26}})]),e("view",{staticClass:t._$s(27,"sc","section"),attrs:{_i:27}},[e("view",{staticClass:t._$s(28,"sc","section-title"),attrs:{_i:28}}),e("view",{staticClass:t._$s(29,"sc","item"),attrs:{_i:29}}),e("view",{staticClass:t._$s(30,"sc","item"),attrs:{_i:30}}),e("view",{staticClass:t._$s(31,"sc","item"),attrs:{_i:31}})]),e("view",{staticClass:t._$s(32,"sc","section"),attrs:{_i:32}},[e("view",{staticClass:t._$s(33,"sc","section-title"),attrs:{_i:33}}),e("view",{staticClass:t._$s(34,"sc","item"),attrs:{_i:34}}),e("view",{staticClass:t._$s(35,"sc","item"),attrs:{_i:35}}),e("view",{staticClass:t._$s(36,"sc","item"),attrs:{_i:36}})]),e("view",{staticClass:t._$s(37,"sc","section"),attrs:{_i:37}},[e("view",{staticClass:t._$s(38,"sc","section-title"),attrs:{_i:38}}),e("view",{staticClass:t._$s(39,"sc","item"),attrs:{_i:39}}),e("view",{staticClass:t._$s(40,"sc","item"),attrs:{_i:40}})]),e("view",{staticClass:t._$s(41,"sc","section"),attrs:{_i:41}},[e("view",{staticClass:t._$s(42,"sc","section-title"),attrs:{_i:42}}),e("view",{staticClass:t._$s(43,"sc","paragraph"),attrs:{_i:43}})]),e("view",{staticClass:t._$s(44,"sc","section"),attrs:{_i:44}},[e("view",{staticClass:t._$s(45,"sc","section-title"),attrs:{_i:45}}),e("view",{staticClass:t._$s(46,"sc","paragraph"),attrs:{_i:46}}),e("view",{staticClass:t._$s(47,"sc","contact"),attrs:{_i:47}})]),e("view",{staticClass:t._$s(48,"sc","footer"),attrs:{_i:48}},[e("view"),e("view")])])])])},i=[]},"9bf8":function(t,s,e){"use strict";e.r(s);var a=e("13de"),i=e("a860");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},a146:function(t,s,e){"use strict";e.r(s);var a=e("7aa9"),i=e("ff25");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},a14f:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","container"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","card"),attrs:{_i:2}},[e("view",{staticClass:t._$s(3,"sc","title"),attrs:{_i:3}}),e("view",{staticClass:t._$s(4,"sc","paragraph"),attrs:{_i:4}}),e("view",{staticClass:t._$s(5,"sc","paragraph"),attrs:{_i:5}}),e("view",{staticClass:t._$s(6,"sc","section"),attrs:{_i:6}},[e("view",{staticClass:t._$s(7,"sc","section-title"),attrs:{_i:7}}),e("view",{staticClass:t._$s(8,"sc","item-title"),attrs:{_i:8}}),e("view",{staticClass:t._$s(9,"sc","item"),attrs:{_i:9}}),e("view",{staticClass:t._$s(10,"sc","item"),attrs:{_i:10}}),e("view",{staticClass:t._$s(11,"sc","item"),attrs:{_i:11}}),e("view",{staticClass:t._$s(12,"sc","item"),attrs:{_i:12}}),e("view",{staticClass:t._$s(13,"sc","item-title"),attrs:{_i:13}}),e("view",{staticClass:t._$s(14,"sc","item"),attrs:{_i:14}}),e("view",{staticClass:t._$s(15,"sc","item"),attrs:{_i:15}}),e("view",{staticClass:t._$s(16,"sc","item-title"),attrs:{_i:16}}),e("view",{staticClass:t._$s(17,"sc","item"),attrs:{_i:17}}),e("view",{staticClass:t._$s(18,"sc","item"),attrs:{_i:18}})]),e("view",{staticClass:t._$s(19,"sc","section"),attrs:{_i:19}},[e("view",{staticClass:t._$s(20,"sc","section-title"),attrs:{_i:20}}),e("view",{staticClass:t._$s(21,"sc","paragraph"),attrs:{_i:21}}),e("view",{staticClass:t._$s(22,"sc","item"),attrs:{_i:22}}),e("view",{staticClass:t._$s(23,"sc","item"),attrs:{_i:23}}),e("view",{staticClass:t._$s(24,"sc","item"),attrs:{_i:24}}),e("view",{staticClass:t._$s(25,"sc","paragraph"),attrs:{_i:25}})]),e("view",{staticClass:t._$s(26,"sc","section"),attrs:{_i:26}},[e("view",{staticClass:t._$s(27,"sc","section-title"),attrs:{_i:27}}),e("view",{staticClass:t._$s(28,"sc","item-title"),attrs:{_i:28}}),e("view",{staticClass:t._$s(29,"sc","paragraph"),attrs:{_i:29}}),e("view",{staticClass:t._$s(30,"sc","item-title"),attrs:{_i:30}}),e("view",{staticClass:t._$s(31,"sc","item"),attrs:{_i:31}}),e("view",{staticClass:t._$s(32,"sc","item"),attrs:{_i:32}}),e("view",{staticClass:t._$s(33,"sc","item-title"),attrs:{_i:33}}),e("view",{staticClass:t._$s(34,"sc","item"),attrs:{_i:34}}),e("view",{staticClass:t._$s(35,"sc","item"),attrs:{_i:35}})]),e("view",{staticClass:t._$s(36,"sc","section"),attrs:{_i:36}},[e("view",{staticClass:t._$s(37,"sc","section-title"),attrs:{_i:37}}),e("view",{staticClass:t._$s(38,"sc","item-title"),attrs:{_i:38}}),e("view",{staticClass:t._$s(39,"sc","paragraph"),attrs:{_i:39}}),e("view",{staticClass:t._$s(40,"sc","item"),attrs:{_i:40}}),e("view",{staticClass:t._$s(41,"sc","item"),attrs:{_i:41}}),e("view",{staticClass:t._$s(42,"sc","item"),attrs:{_i:42}}),e("view",{staticClass:t._$s(43,"sc","item-title"),attrs:{_i:43}}),e("view",{staticClass:t._$s(44,"sc","paragraph"),attrs:{_i:44}})]),e("view",{staticClass:t._$s(45,"sc","section"),attrs:{_i:45}},[e("view",{staticClass:t._$s(46,"sc","section-title"),attrs:{_i:46}}),e("view",{staticClass:t._$s(47,"sc","paragraph"),attrs:{_i:47}}),e("view",{staticClass:t._$s(48,"sc","paragraph"),attrs:{_i:48}}),e("view",{staticClass:t._$s(49,"sc","paragraph"),attrs:{_i:49}})]),e("view",{staticClass:t._$s(50,"sc","section"),attrs:{_i:50}},[e("view",{staticClass:t._$s(51,"sc","section-title"),attrs:{_i:51}}),e("view",{staticClass:t._$s(52,"sc","paragraph"),attrs:{_i:52}}),e("view",{staticClass:t._$s(53,"sc","item"),attrs:{_i:53}}),e("view",{staticClass:t._$s(54,"sc","item"),attrs:{_i:54}}),e("view",{staticClass:t._$s(55,"sc","item"),attrs:{_i:55}}),e("view",{staticClass:t._$s(56,"sc","item"),attrs:{_i:56}})]),e("view",{staticClass:t._$s(57,"sc","section"),attrs:{_i:57}},[e("view",{staticClass:t._$s(58,"sc","section-title"),attrs:{_i:58}}),e("view",{staticClass:t._$s(59,"sc","paragraph"),attrs:{_i:59}})]),e("view",{staticClass:t._$s(60,"sc","section"),attrs:{_i:60}},[e("view",{staticClass:t._$s(61,"sc","section-title"),attrs:{_i:61}}),e("view",{staticClass:t._$s(62,"sc","paragraph"),attrs:{_i:62}})]),e("view",{staticClass:t._$s(63,"sc","section"),attrs:{_i:63}},[e("view",{staticClass:t._$s(64,"sc","section-title"),attrs:{_i:64}}),e("view",{staticClass:t._$s(65,"sc","paragraph"),attrs:{_i:65}}),e("view",{staticClass:t._$s(66,"sc","contact"),attrs:{_i:66}}),e("view",{staticClass:t._$s(67,"sc","contact"),attrs:{_i:67}})]),e("view",{staticClass:t._$s(68,"sc","footer"),attrs:{_i:68}},[e("view"),e("view")])])])])},i=[]},a708:function(t,s,e){var a=e("6454");t.exports=function(t){if(Array.isArray(t))return a(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},a860:function(t,s,e){"use strict";e.r(s);var a=e("1be9"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},a8a8:function(t,s,e){"use strict";e.r(s);var a=e("99b9"),i=e("70eb");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},aa3e:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","card user-card"),attrs:{_i:1}},[e("image",{staticClass:t._$s(2,"sc","avatar"),attrs:{src:t._$s(2,"a-src",t.displayAvatar),_i:2}}),e("view",{staticClass:t._$s(3,"sc","user-info"),attrs:{_i:3}},[e("view",{staticClass:t._$s(4,"sc","nickname"),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.displayName)))]),e("view",{staticClass:t._$s(5,"sc","desc"),attrs:{_i:5}},[t._$s(6,"i",t.isAuthed)?e("text",{attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.maskedPhone)))]):e("text")])]),e("button",{staticClass:t._$s(8,"sc","primary-pill"),attrs:{_i:8},on:{click:t.openLoginSheet}},[t._v(t._$s(8,"t0-0",t._s(t.isAuthed?"\u8d26\u53f7":"\u767b\u5f55")))])]),e("view",{staticClass:t._$s(9,"sc","card list-card"),attrs:{_i:9}},[e("view",{staticClass:t._$s(10,"sc","row"),attrs:{_i:10}},[e("view",{staticClass:t._$s(11,"sc","row-left"),attrs:{_i:11}},[e("view",{staticClass:t._$s(12,"sc","row-title"),attrs:{_i:12}}),e("view",{staticClass:t._$s(13,"sc","row-sub"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.coupleStartDate?t.coupleStartDate:"\u672a\u8bbe\u7f6e")))])]),e("button",{staticClass:t._$s(14,"sc","row-action"),attrs:{_i:14},on:{click:t.openCoupleDateWheel}})]),e("view",{staticClass:t._$s(15,"sc","divider"),attrs:{_i:15}}),e("view",{staticClass:t._$s(16,"sc","row"),attrs:{_i:16}},[e("view",{staticClass:t._$s(17,"sc","row-left"),attrs:{_i:17}},[e("view",{staticClass:t._$s(18,"sc","row-title"),attrs:{_i:18}},[t._v(t._$s(18,"t0-0",t._s(t.periodLength)))]),e("view",{staticClass:t._$s(19,"sc","row-sub"),attrs:{_i:19}})]),e("button",{staticClass:t._$s(20,"sc","row-action"),attrs:{_i:20},on:{click:t.openPeriodWheel}})]),e("view",{staticClass:t._$s(21,"sc","divider"),attrs:{_i:21}}),e("view",{staticClass:t._$s(22,"sc","row"),attrs:{_i:22}},[e("view",{staticClass:t._$s(23,"sc","row-left"),attrs:{_i:23}},[e("view",{staticClass:t._$s(24,"sc","row-title"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.cycleLength)))]),e("view",{staticClass:t._$s(25,"sc","row-sub"),attrs:{_i:25}})]),e("button",{staticClass:t._$s(26,"sc","row-action"),attrs:{_i:26},on:{click:t.openCycleWheel}})])]),e("view",{staticClass:t._$s(27,"sc","card list-card"),attrs:{_i:27}},[e("view",{staticClass:t._$s(28,"sc","row"),attrs:{_i:28},on:{click:t.confirmClear}},[e("view",{staticClass:t._$s(29,"sc","row-left"),attrs:{_i:29}},[e("view",{staticClass:t._$s(30,"sc","row-title danger-title"),attrs:{_i:30}}),e("view",{staticClass:t._$s(31,"sc","row-sub"),attrs:{_i:31}})]),e("button",{staticClass:t._$s(32,"sc","row-action danger-btn"),attrs:{_i:32}})]),e("view",{staticClass:t._$s(33,"sc","divider"),attrs:{_i:33}}),e("view",{staticClass:t._$s(34,"sc","row"),attrs:{_i:34},on:{click:t.onShare}},[e("view",{staticClass:t._$s(35,"sc","row-left"),attrs:{_i:35}},[e("view",{staticClass:t._$s(36,"sc","row-title"),attrs:{_i:36}}),e("view",{staticClass:t._$s(37,"sc","row-sub"),attrs:{_i:37}})]),e("button",{staticClass:t._$s(38,"sc","row-action"),attrs:{_i:38}})]),e("view",{staticClass:t._$s(39,"sc","divider"),attrs:{_i:39}}),e("view",{staticClass:t._$s(40,"sc","row"),attrs:{_i:40},on:{click:t.goAbout}},[e("view",{staticClass:t._$s(41,"sc","row-left"),attrs:{_i:41}},[e("view",{staticClass:t._$s(42,"sc","row-title"),attrs:{_i:42}}),e("view",{staticClass:t._$s(43,"sc","row-sub"),attrs:{_i:43}})]),e("button",{staticClass:t._$s(44,"sc","row-action"),attrs:{_i:44}})])]),t._$s(45,"i",t.showSheet)?e("view",{staticClass:t._$s(45,"sc","mask"),attrs:{_i:45},on:{click:t.closeLoginSheet}},[e("view",{staticClass:t._$s(46,"sc","sheet"),attrs:{_i:46},on:{click:function(s){return s.stopPropagation(),t.noop(s)}}},[e("view",{staticClass:t._$s(47,"sc","sheet-header"),attrs:{_i:47}},[e("view",{staticClass:t._$s(48,"sc","sheet-handle"),attrs:{_i:48}}),e("view",{staticClass:t._$s(49,"sc","sheet-title"),attrs:{_i:49}},[t._v(t._$s(49,"t0-0",t._s(t.isAuthed?"\u8d26\u53f7\u7ba1\u7406":"\u624b\u673a\u53f7\u767b\u5f55")))])]),e("view",{staticClass:t._$s(50,"sc","sheet-body"),attrs:{_i:50}},[t._$s(51,"i",t.isAuthed)?e("view",{staticClass:t._$s(51,"sc","authed-box"),attrs:{_i:51}},[e("view",{staticClass:t._$s(52,"sc","authed-line"),attrs:{_i:52}},[t._v(t._$s(52,"t0-0",t._s(t.maskedPhone)))]),e("view",{staticClass:t._$s(53,"sc","field"),attrs:{_i:53}},[e("view",{staticClass:t._$s(54,"sc","field-label"),attrs:{_i:54}}),e("input",{staticClass:t._$s(55,"sc","field-input"),attrs:{value:t._$s(55,"a-value",t.draftNickName),_i:55},on:{input:t.onNickInput}})]),e("view",{staticClass:t._$s(56,"sc","field"),attrs:{_i:56}},[e("view",{staticClass:t._$s(57,"sc","field-label"),attrs:{_i:57}}),e("view",{staticClass:t._$s(58,"sc","avatar-pick"),attrs:{_i:58}},[e("image",{staticClass:t._$s(59,"sc","avatar-only"),attrs:{src:t._$s(59,"a-src",t.draftAvatarUrl||t.defaultAvatar),_i:59}}),e("button",{staticClass:t._$s(60,"sc","small-btn"),attrs:{_i:60},on:{click:t.pickAvatar}})])]),e("button",{staticClass:t._$s(61,"sc","action primary"),attrs:{_i:61},on:{click:t.saveLocalProfile}}),e("button",{staticClass:t._$s(62,"sc","action danger"),attrs:{_i:62},on:{click:t.logoutOnly}})]):e("view",{attrs:{_i:63}},[e("view",{staticClass:t._$s(64,"sc","field"),attrs:{_i:64}},[e("view",{staticClass:t._$s(65,"sc","field-label"),attrs:{_i:65}}),e("input",{staticClass:t._$s(66,"sc","field-input"),attrs:{value:t._$s(66,"a-value",t.phone),_i:66},on:{input:t.onPhoneInput}})]),e("view",{staticClass:t._$s(67,"sc","field code-field"),attrs:{_i:67}},[e("view",{staticClass:t._$s(68,"sc","field-label"),attrs:{_i:68}}),e("view",{staticClass:t._$s(69,"sc","code-row"),attrs:{_i:69}},[e("input",{staticClass:t._$s(70,"sc","field-input code-input"),attrs:{value:t._$s(70,"a-value",t.code),_i:70},on:{input:t.onCodeInput}}),e("button",{staticClass:t._$s(71,"sc","send-btn"),attrs:{disabled:t._$s(71,"a-disabled",t.sendDisabled),_i:71},on:{click:t.sendCode}},[t._v(t._$s(71,"t0-0",t._s(t.sendBtnText)))])])]),e("button",{staticClass:t._$s(72,"sc","action primary"),attrs:{disabled:t._$s(72,"a-disabled",t.loginDisabled),_i:72},on:{click:t.loginWithPhone}}),e("view",{staticClass:t._$s(73,"sc","tip"),attrs:{_i:73}})])])])]):t._e(),t._$s(74,"i",t.showWheel)?e("view",{staticClass:t._$s(74,"sc","w-mask"),attrs:{_i:74},on:{click:t.closeWheel}},[e("view",{staticClass:t._$s(75,"sc","w-sheet"),attrs:{_i:75},on:{click:function(s){return s.stopPropagation(),t.noop(s)}}},[e("view",{staticClass:t._$s(76,"sc","w-top"),attrs:{_i:76}},[e("text",{staticClass:t._$s(77,"sc","w-btn"),attrs:{_i:77},on:{click:t.closeWheel}}),e("text",{staticClass:t._$s(78,"sc","w-title"),attrs:{_i:78}},[t._v(t._$s(78,"t0-0",t._s(t.wheelTitle)))]),e("text",{staticClass:t._$s(79,"sc","w-btn w-ok"),attrs:{_i:79},on:{click:t.confirmWheel}})]),e("view",{staticClass:t._$s(80,"sc","w-body"),attrs:{_i:80}},[e("picker-view",{staticClass:t._$s(81,"sc","w-picker"),attrs:{value:t._$s(81,"a-value",[t.wheelIndex]),_i:81},on:{change:t.onWheelChange}},[e("picker-view-column",t._l(t._$s(83,"f",{forItems:t.wheelOptions}),(function(s,a,i,r){return e("view",{key:t._$s(83,"f",{forIndex:i,key:"w-"+a}),class:t._$s("83-"+r,"c",["w-item",a===t.wheelDraftIndex?"w-item-active":""]),attrs:{_i:"83-"+r}},[t._v(t._$s("83-"+r,"t0-0",t._s(s)))])})),0)]),e("view",{staticClass:t._$s(84,"sc","w-indicator"),attrs:{_i:84}})])])]):t._e(),e("YMDWheel",{attrs:{show:t.showDateWheel,value:t.coupleStartDate,title:"\u6211\u4eec\u5728\u4e00\u8d77\u7684\u65e5\u671f",_i:85},on:{cancel:t.closeCoupleDateWheel,confirm:t.onCoupleDateConfirm}})],1)},i=[]},aa81:function(t,s,e){"use strict";(function(t){var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.selectAllComponents=function(t){return _.call(this,t)},s.selectComponent=function(t){return u.call(this,t)};var i=a(e("af34")),r=a(e("67ad")),n=a(e("0bdb"));a(e("3b2d"));var c=function(t,s){var e,a,i,r=t._vnode;if(r=null!==(e=null===(a=r)||void 0===a||null===(i=a.context)||void 0===i?void 0:i.$vnode)&&void 0!==e?e:"",!r||!r.data)return!1;var n=r.data.attrs||{},c=r.data.staticClass||"",o=n.id||"";return"#"===s[0]?s.substr(1)===o:(c=c.trim().split(" "),s=s.substr(1).split("."),s.reduce((function(t,s){return t&&c.includes(s)}),!0))},o=function(t){return t=t.replace(/>>>/g,">"),t=t.split(">").map((function(t){return t.trim().split(" ").join("').descendant('")})).join("').child('"),function(s,e,a){return new s(e,a).descendant(t)}},l=function(){function t(s){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r.default)(this,t),this.nodes=[s],this.all=e}return(0,n.default)(t,[{key:"child",value:function(t){var s=[];if(this.all)this.nodes.forEach((function(e){var a;(a=s).push.apply(a,(0,i.default)(e.$children.filter((function(s){return c(s,t)}))))}));else if(this.nodes.length>0){var e=this.nodes[0].$children.find((function(s){return c(s,t)}));s=e?[e]:[]}return this.nodes=s,this}},{key:"descendant",value:function(t){var s=this,e=[];return this.nodes.forEach((function(a){(function(){var t=!1;return function s(e,a){if(!t&&"function"===typeof a)for(var i=e.$children,r=0;!t&&r<i.length;r++){var n=i[r];t=!0===a(n),s(n,a)}}})()(a,(function(a){if(c(a,t))return e.push(a),!s.all}))})),this.nodes=e,this}}]),t}();function u(t){var s=t.split(",").map((function(t){return t.trim()}));if(!s[0])return null;var e=o(s[0]);return e(l,this,!1,t).nodes[0]}function _(t){var s=this,e=t.split(",").map((function(t){return t.trim()})),a=[];return e.forEach((function(t){var e=o(t);a=a.concat(e(l,s,!0,t).nodes)})),a}}).call(this,e("f3b9")["default"])},ab70:function(t,s,e){"use strict";e.r(s);var a=e("d7dc"),i=e("fe0d");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},af34:function(t,s,e){var a=e("a708"),i=e("b893"),r=e("6382"),n=e("9008");t.exports=function(t){return a(t)||i(t)||r(t)||n()},t.exports.__esModule=!0,t.exports["default"]=t.exports},b5ef:function(t,s,e){"use strict";e.d(s,"b",(function(){return i})),e.d(s,"c",(function(){return r})),e.d(s,"a",(function(){return a}));var a={pageMeta:e("7854").default},i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",[e("view",{staticClass:t._$s(1,"sc","container detail-page"),attrs:{_i:1}},[e("page-meta",{attrs:{"navigation-bar-title-text":"\u8be6\u60c5","navigation-bar-text-style":"black","navigation-bar-background-color":"#fff0f5",_i:2}}),e("view",{staticClass:t._$s(3,"sc","center-wrapper"),attrs:{_i:3}},[e("view",{staticClass:t._$s(4,"sc","card big-card detail-big-card"),style:t._$s(4,"s",t.cardStyle),attrs:{_i:4}},[e("view",{staticClass:t._$s(5,"sc","card-bg-mask"),attrs:{_i:5}}),e("view",{staticClass:t._$s(6,"sc","card-content"),attrs:{_i:6}},[e("view",{staticClass:t._$s(7,"sc","top-info"),attrs:{_i:7}},[e("text",{staticClass:t._$s(8,"sc","title"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.item?t.item.title:"")))]),e("view",{staticClass:t._$s(9,"sc","meta"),attrs:{_i:9}},[e("view",{staticClass:t._$s(10,"sc","meta-row"),attrs:{_i:10}},[e("text",{staticClass:t._$s(11,"sc","meta-label"),attrs:{_i:11}}),e("text",{staticClass:t._$s(12,"sc","meta-value"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.item?t.item.date:"")))])]),e("view",{staticClass:t._$s(13,"sc","meta-row"),attrs:{_i:13}},[e("text",{staticClass:t._$s(14,"sc","meta-label"),attrs:{_i:14}}),e("text",{staticClass:t._$s(15,"sc","meta-value"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.typeText)))])])])]),e("view",{staticClass:t._$s(16,"sc","divider"),attrs:{_i:16}}),e("view",{staticClass:t._$s(17,"sc","hero"),attrs:{_i:17}},[e("view",{staticClass:t._$s(18,"sc","hero-left"),attrs:{_i:18}},[e("text",{staticClass:t._$s(19,"sc","hero-label"),attrs:{_i:19}},[t._v(t._$s(19,"t0-0",t._s(t.heroLabel)))]),e("text",{staticClass:t._$s(20,"sc","hero-sub"),attrs:{_i:20}},[t._v(t._$s(20,"t0-0",t._s(t.heroSub)))])]),e("view",{staticClass:t._$s(21,"sc","hero-right"),attrs:{_i:21}},[e("view",{staticClass:t._$s(22,"sc","hero-inline"),attrs:{_i:22}},[e("text",{staticClass:t._$s(23,"sc","hero-number"),attrs:{_i:23}},[t._v(t._$s(23,"t0-0",t._s(t.heroNumber)))]),e("text",{staticClass:t._$s(24,"sc","hero-unit"),attrs:{_i:24}},[t._v(t._$s(24,"t0-0",t._s(t.heroUnit)))])])])]),e("view",{staticClass:t._$s(25,"sc","divider"),attrs:{_i:25}}),e("view",{staticClass:t._$s(26,"sc","actions in-card-actions"),attrs:{_i:26}},[e("button",{staticClass:t._$s(27,"sc","btn btn-secondary action-btn"),attrs:{_i:27},on:{click:t.goEdit}}),e("button",{staticClass:t._$s(28,"sc","btn btn-danger action-btn"),attrs:{_i:28},on:{click:t.remove}})])])])])],1)])},r=[]},b7aa:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","privacy-mask"),attrs:{_i:0},on:{touchmove:function(s){return s.stopPropagation(),s.preventDefault(),t.noop(s)}}},[e("view",{staticClass:t._$s(1,"sc","privacy-card"),attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","privacy-title"),attrs:{_i:2}}),e("scroll-view",{staticClass:t._$s(3,"sc","privacy-content"),attrs:{_i:3}},[e("text",{staticClass:t._$s(4,"sc","p"),attrs:{_i:4}}),e("text",{staticClass:t._$s(5,"sc","link"),attrs:{_i:5},on:{click:function(s){return t.$emit("open","privacy")}}}),e("text",{staticClass:t._$s(6,"sc","p"),attrs:{_i:6}}),e("text",{staticClass:t._$s(7,"sc","link"),attrs:{_i:7},on:{click:function(s){return t.$emit("open","agreement")}}}),e("text",{staticClass:t._$s(8,"sc","p"),attrs:{_i:8}}),e("view",{staticClass:t._$s(9,"sc","gap"),attrs:{_i:9}}),e("text",{staticClass:t._$s(10,"sc","p"),attrs:{_i:10}}),e("view",{staticClass:t._$s(11,"sc","gap"),attrs:{_i:11}}),e("text",{staticClass:t._$s(12,"sc","p"),attrs:{_i:12}}),e("view",{staticClass:t._$s(13,"sc","gap"),attrs:{_i:13}}),e("text",{staticClass:t._$s(14,"sc","p"),attrs:{_i:14}})]),e("view",{staticClass:t._$s(15,"sc","btn-row"),attrs:{_i:15}},[e("view",{staticClass:t._$s(16,"sc","btn ghost"),attrs:{_i:16},on:{click:function(s){return t.$emit("reject")}}}),e("view",{staticClass:t._$s(17,"sc","btn primary"),attrs:{_i:17},on:{click:function(s){return t.$emit("agree")}}})])])])},i=[]},b893:function(t,s){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},b938:function(t,s,e){"use strict";e.r(s);var a=e("743f"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},bda1:function(t,s,e){"use strict";e.r(s);var a=e("e0d5"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},bf02:function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("7ca3")),r=a(e("91f6"));function n(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function c(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?n(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var o=e("5aad"),l="phone_auth_v1",u={cycleLength:28,periodLength:5,lutealDays:14};function _(t){var s=uni.getStorageSync("period_record_v1")||{},e=s&&s.settings?s.settings:{};s.settings=c(c(c({},u),e),t),uni.setStorageSync("period_record_v1",s)}var d={components:{YMDWheel:r.default},data:function(){return{defaultAvatar:"/assets/icons/default_avatar.png",coupleStartDate:"",userProfile:null,draftAvatarUrl:"",draftNickName:"",showSheet:!1,phone:"",code:"",countdown:0,timer:null,auth:null,isAuthed:!1,periodLength:u.periodLength,cycleLength:u.cycleLength,showWheel:!1,wheelType:"",wheelTitle:"",wheelOptions:[],wheelIndex:0,wheelDraftIndex:0,showDateWheel:!1}},computed:{displayName:function(){var t=this.userProfile;return t&&t.nickName?t.nickName:this.isAuthed?"\u5df2\u767b\u5f55\u7528\u6237":"\u672a\u767b\u5f55"},displayAvatar:function(){var t=this.userProfile;return t&&t.avatarUrl?t.avatarUrl:this.defaultAvatar},maskedPhone:function(){return function(t){var s=String(t||"");return s.length<7?s:s.slice(0,3)+"****"+s.slice(-4)}(this.auth&&this.auth.phone)},sendDisabled:function(){return this.countdown>0||!this.isValidPhone(this.phone)},sendBtnText:function(){return this.countdown>0?"".concat(this.countdown,"s"):"\u53d1\u9001"},loginDisabled:function(){return!this.isValidPhone(this.phone)||String(this.code||"").length<4}},onShow:function(){var t=o.getUserProfile?o.getUserProfile():null;this.setData({userProfile:t||null,draftAvatarUrl:t&&t.avatarUrl||"",draftNickName:t&&t.nickName||""});var s=o.getCoupleStartDate?o.getCoupleStartDate():"";this.setData({coupleStartDate:s||""});var e=uni.getStorageSync(l)||null,a=!!(e&&e.phone&&e.token);this.setData({auth:e,isAuthed:a});var i=function(){var t=uni.getStorageSync("period_record_v1"),s=t&&t.settings?t.settings:{};return{cycleLength:Number(s.cycleLength||u.cycleLength),periodLength:Number(s.periodLength||u.periodLength)}}();this.setData({periodLength:i.periodLength,cycleLength:i.cycleLength})},onHide:function(){this.clearTimer()},methods:{openCoupleDateWheel:function(){this.setData({showDateWheel:!0})},closeCoupleDateWheel:function(){this.setData({showDateWheel:!1})},onCoupleDateConfirm:function(t){o.setCoupleStartDate&&o.setCoupleStartDate(t),this.setData({coupleStartDate:t,showDateWheel:!1}),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"})},openLoginSheet:function(){var t=this.userProfile||{};this.setData({showSheet:!0,draftAvatarUrl:t.avatarUrl||"",draftNickName:t.nickName||""})},closeLoginSheet:function(){this.setData({showSheet:!1})},noop:function(){},onPhoneInput:function(t){var s=t.detail&&t.detail.value||"";this.setData({phone:s.replace(/\s/g,"")})},onCodeInput:function(t){var s=t.detail&&t.detail.value||"";this.setData({code:s.replace(/\s/g,"")})},isValidPhone:function(t){var s=String(t||"").trim();return/^1\d{10}$/.test(s)},sendCode:function(){var t=this;this.sendDisabled||(uni.showToast({title:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\uff08\u6f14\u793a\uff09",icon:"none"}),this.setData({countdown:60}),this.clearTimer(),this.timer=setInterval((function(){var s=Math.max(0,(t.countdown||0)-1);t.setData({countdown:s}),s<=0&&t.clearTimer()}),1e3))},loginWithPhone:function(){if(!this.loginDisabled){var t="mock_"+Date.now(),s={phone:String(this.phone),token:t,at:Date.now()};uni.setStorageSync(l,s),this.setData({auth:s,isAuthed:!0,showSheet:!1,code:""}),uni.showToast({title:"\u767b\u5f55\u6210\u529f",icon:"success"})}},logoutOnly:function(){uni.removeStorageSync(l),this.setData({auth:null,isAuthed:!1,showSheet:!1}),uni.showToast({title:"\u5df2\u9000\u51fa",icon:"success"})},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onNickInput:function(t){var s=t.detail&&t.detail.value||"";this.setData({draftNickName:s})},pickAvatar:function(){var t=this;uni.chooseImage({count:1,sizeType:["compressed"],success:function(s){var e=s.tempFilePaths&&s.tempFilePaths[0]||"";t.setData({draftAvatarUrl:e})}})},saveLocalProfile:function(){var t=String(this.draftNickName||"").trim();if(t){var s={nickName:t,avatarUrl:this.draftAvatarUrl||""};o.setUserProfile&&o.setUserProfile(s),this.setData({userProfile:s}),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"}),this.closeLoginSheet()}else uni.showToast({title:"\u8bf7\u5148\u586b\u5199\u6635\u79f0",icon:"none"})},openPeriodWheel:function(){for(var t=[],s=2;s<=20;s++)t.push(s);var e=Math.max(0,t.indexOf(Number(this.periodLength)));this.setData({showWheel:!0,wheelType:"period",wheelTitle:"\u7ecf\u671f\u957f\u5ea6",wheelOptions:t,wheelIndex:e,wheelDraftIndex:e})},openCycleWheel:function(){for(var t=[],s=16;s<=60;s++)t.push(s);var e=Math.max(0,t.indexOf(Number(this.cycleLength)));this.setData({showWheel:!0,wheelType:"cycle",wheelTitle:"\u5468\u671f\u957f\u5ea6",wheelOptions:t,wheelIndex:e,wheelDraftIndex:e})},closeWheel:function(){this.setData({showWheel:!1})},onWheelChange:function(t){var s=t&&t.detail&&t.detail.value?t.detail.value:[0],e=Number(s[0]||0);this.setData({wheelDraftIndex:e})},confirmWheel:function(){var t=Number(this.wheelDraftIndex||0),s=this.wheelOptions[t];"period"===this.wheelType?(_({periodLength:Number(s)}),this.setData({periodLength:Number(s)})):"cycle"===this.wheelType&&(_({cycleLength:Number(s)}),this.setData({cycleLength:Number(s)})),this.setData({showWheel:!1}),uni.showToast({title:"\u5df2\u4fdd\u5b58",icon:"success"})},confirmClear:function(){var t=this;uni.showModal({title:"\u786e\u8ba4\u6e05\u7a7a\uff1f",content:"\u5c06\u5220\u9664\u672c\u673a\u6240\u6709\u7f13\u5b58\u6570\u636e\uff08\u5305\u62ec\u91cd\u8981\u65e5\u5b50\u3001\u7ecf\u671f\u8bb0\u5f55\u7b49\uff09\uff0c\u4e0d\u53ef\u6062\u590d\u3002",confirmText:"\u6e05\u7a7a",confirmColor:"#e5484d",success:function(s){if(s.confirm){try{uni.clearStorageSync()}catch(e){try{uni.removeStorageSync(l),uni.removeStorageSync("period_record_v1")}catch(a){}}t.setData({userProfile:null,draftAvatarUrl:"",draftNickName:"",auth:null,isAuthed:!1,phone:"",code:"",coupleStartDate:"",showSheet:!1,showWheel:!1,showDateWheel:!1}),uni.showToast({title:"\u5df2\u6e05\u7a7a",icon:"success"}),uni.switchTab({url:"/pages/home/home"})}}})},goAbout:function(){uni.navigateTo({url:"/pages/about/about"})},onShare:function(){}}};s.default=d},bfe4:function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("34cf")),r=a(e("7ca3")),n=a(e("425a"));function c(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?c(Object(e),!0).forEach((function(s){(0,r.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var l=e("5aad"),u=e("f463");function _(t,s){if(!Array.isArray(s)||0===s.length)return t.slice();var e=new Map;t.forEach((function(t){return t&&null!=t.id&&e.set(String(t.id),t)}));var a=new Set,i=[];return s.forEach((function(t){var s=String(t),r=e.get(s);r&&(i.push(r),a.add(s))})),t.forEach((function(t){var s=t&&null!=t.id?String(t.id):"";s&&!a.has(s)&&i.push(t)})),i}var d={components:{PrivacyPopup:n.default},data:function(){return{statusBarHeight:0,navBarHeight:44,navTotalHeight:0,coupleStartDate:"",daysTogether:0,list:[],showPrivacy:!1,isDragging:!1,dragIndex:-1,dragOffsetY:0,lastY:0,itemHeight:0}},onLoad:function(){var t=uni.getSystemInfoSync(),s=t.statusBarHeight||0;this.setData({statusBarHeight:s,navBarHeight:44,navTotalHeight:s+44}),this.refresh()},onShow:function(){this.refresh&&this.refresh();var t=!uni.getStorageSync("privacy_agreed_v1");this.setData({showPrivacy:t}),t?uni.hideTabBar({animation:!1}):uni.showTabBar({animation:!1})},onTabItemTap:function(){this.refresh()},methods:{refresh:function(){var t=l.getCoupleStartDate(),s=u.todayStr(),e=t?u.diffDays(t,s)+1:0,a=l.getList()||[],i=function(t){var s=t.slice(),e=s.filter((function(t){return t&&t.isTop})),a=s.filter((function(t){return!t||!t.isTop})),i=[];try{i=uni.getStorageSync("importantDaysOrderIds")||[]}catch(c){i=[]}var r=Array.isArray(i)&&i.length>0;if(r)return _(e,i).concat(_(a,i));var n=function(t){return t.slice().sort((function(t,s){var e=Math.abs(u.daysTo(t.date)),a=Math.abs(u.daysTo(s.date));return e-a}))};return n(e).concat(n(a))}(a),r=i.map((function(t){return o(o({},t),function(t,s){var e=u.daysTo(t);if(0===e)return{badgeFull:"\u5c31\u662f\u4eca\u5929!"};if(e>0)return{badgeFull:"\u8fd8\u6709 ".concat(e," \u5929"),daysAbs:e,daysSign:"\u540e"};var a=Math.abs(e);return{badgeFull:"\u5df2\u7ecf ".concat(a).concat(s?" + 1":""," \u5929"),daysAbs:a,daysSign:"\u524d"}}(t.date,t.includeStart))}));this.setData({coupleStartDate:t,daysTogether:e,list:r})},goAdd:function(){uni.switchTab({url:"/pages/add/add"})},goDate:function(){uni.switchTab({url:"/pages/me/me"})},onTapItem:function(t){if(!this.isDragging){var s=t&&t.currentTarget&&t.currentTarget.dataset?t.currentTarget.dataset.id:"";s&&uni.navigateTo({url:"/pages/detail/detail?id="+s})}},onDragStart:function(t){var s=Number(t.currentTarget.dataset.index);if(!Number.isNaN(s)){var e=t.touches&&t.touches[0]?t.touches[0].clientY:0,a=this.itemHeight||74;this.setData({isDragging:!0,dragIndex:s,dragOffsetY:0,lastY:e,itemHeight:a}),uni.vibrateShort&&uni.vibrateShort()}},onDragMove:function(t){if(this.isDragging&&t.touches&&t.touches[0]){var s=t.touches[0].clientY,e=s-this.lastY,a=this.dragOffsetY+e;this.setData({dragOffsetY:a,lastY:s});var r=this.itemHeight||74,n=Math.round(a/r);if(0!==n){var c=this.dragIndex,o=c+n;if(o<0&&(o=0),o>this.list.length-1&&(o=this.list.length-1),o!==c){var l=this.list.slice(),u=l.splice(c,1),_=(0,i.default)(u,1),d=_[0];l.splice(o,0,d),this.setData({list:l,dragIndex:o,dragOffsetY:0})}}}},onDragEnd:function(){if(this.isDragging){try{var t=(this.list||[]).map((function(t){return t.id}));uni.setStorageSync("importantDaysOrderIds",t)}catch(s){}this.setData({isDragging:!1,dragIndex:-1,dragOffsetY:0,lastY:0})}},onAgreePrivacy:function(){try{uni.setStorageSync("privacy_agreed_v1",!0)}catch(t){}this.setData({showPrivacy:!1}),uni.showTabBar({animation:!1})},onRejectPrivacy:function(){plus.runtime.quit()},onOpenDoc:function(t){var s="privacy"===t?"/pages/subabout/privacy/privacy":"/pages/subabout/agreement/agreement";uni.navigateTo({url:s})}}};s.default=d},c01b:function(t,s,e){"use strict";e.r(s);var a=e("4cb6"),i=e("34d0");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},c0f4:function(t,s,e){"use strict";e.r(s);var a=e("2ebd"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},c6cd:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.clone=function(t){return JSON.parse(JSON.stringify(t))}},c9c1:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a={globalData:{needPrivacyPopup:!1},onLaunch:function(){var t=uni.getStorageSync("logs")||[];t.unshift(Date.now()),uni.setStorageSync("logs",t);var s=!!uni.getStorageSync("privacy_agreed_v1");this.globalData.needPrivacyPopup=!s}};s.default=a},cc60:function(t,s,e){"use strict";e.r(s);var a=e("3724"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},cde4:function(t,s,e){"use strict";var a=e("47a9"),i=a(e("7ca3"));e("8ba4");var r=a(e("4b9f")),n=a(e("611c")),c=a(e("951c"));function o(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}c.default.use(n.default),c.default.config.productionTip=!1,r.default.mpType="app";var l=new c.default(function(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?o(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}({},r.default));l.$mount()},d3de:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.handleDataset=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&!t.currentTarget&&(s.tagId?t.currentTarget={id:s.tagId}:t.currentTarget={dataset:s})}},d551:function(t,s,e){var a=e("3b2d")["default"],i=e("e6db");t.exports=function(t){var s=i(t,"string");return"symbol"==a(s)?s:s+""},t.exports.__esModule=!0,t.exports["default"]=t.exports},d66e:function(t,s,e){"use strict";e.r(s);var a=e("d9de"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},d7dc:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","header-card"),attrs:{_i:1}},[e("text",{staticClass:t._$s(2,"sc","title"),attrs:{_i:2}}),e("text",{staticClass:t._$s(3,"sc","subtitle"),attrs:{_i:3}})]),e("view",{staticClass:t._$s(4,"sc","card"),attrs:{_i:4}},t._l(t._$s(5,"f",{forItems:t.sections}),(function(s,a,i,r){return e("view",{key:t._$s(5,"f",{forIndex:i,key:a}),staticClass:t._$s("5-"+r,"sc","section"),attrs:{_i:"5-"+r}},[e("view",{staticClass:t._$s("6-"+r,"sc","sec-title-row"),attrs:{_i:"6-"+r}},[e("text",{staticClass:t._$s("7-"+r,"sc","sec-title"),attrs:{_i:"7-"+r}},[t._v(t._$s("7-"+r,"t0-0",t._s(s.title)))]),t._$s("8-"+r,"i",s.isNew)?e("text",{staticClass:t._$s("8-"+r,"sc","new-tag"),attrs:{_i:"8-"+r}}):t._e()]),e("text",{staticClass:t._$s("9-"+r,"sc","sec-desc"),attrs:{_i:"9-"+r}},[t._v(t._$s("9-"+r,"t0-0",t._s(s.desc)))]),t._$s("10-"+r,"i",s.items&&s.items.length)?e("view",{staticClass:t._$s("10-"+r,"sc","items"),attrs:{_i:"10-"+r}},t._l(t._$s("11-"+r,"f",{forItems:s.items}),(function(s,a,i,n){return e("view",{key:t._$s("11-"+r,"f",{forIndex:i,key:a}),staticClass:t._$s("11-"+r+"-"+n,"sc","item"),attrs:{_i:"11-"+r+"-"+n}},[e("text",{staticClass:t._$s("12-"+r+"-"+n,"sc","dot"),attrs:{_i:"12-"+r+"-"+n}}),e("text",{staticClass:t._$s("13-"+r+"-"+n,"sc","text"),attrs:{_i:"13-"+r+"-"+n}},[t._v(t._$s("13-"+r+"-"+n,"t0-0",t._s(s)))])])})),0):t._e()])})),0),e("view",{staticClass:t._$s(14,"sc","footer-space"),attrs:{_i:14}})])},i=[]},d9de:function(t,s,e){"use strict";var a=e("47a9");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=a(e("7ca3")),r=a(e("34cf")),n=a(e("3b2d"));function c(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?c(Object(e),!0).forEach((function(s){(0,i.default)(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}function l(){var t=uni.getStorageSync("period_record_v1");return t&&"object"===(0,n.default)(t)?t:{}}function u(t){uni.setStorageSync("period_record_v1",t)}var _=Array.from({length:24},(function(t,s){return String(s).padStart(2,"0")})),d=Array.from({length:60},(function(t,s){return String(s).padStart(2,"0")})),f={data:function(){return{date:"",records:[],showPopup:!1,editingIndex:-1,form:{time:"12:00",level:"",medicine:""},hours:_,minutes:d,timeWheelValue:[12,0],levels:["\u8f7b\u5fae","\u4e00\u822c","\u4e25\u91cd","\u975e\u5e38\u4e25\u91cd"],medicines:["\u65e0","\u5e03\u6d1b\u82ac","\u5bf9\u4e59\u9170\u6c28\u57fa\u915a","\u70ed\u6577/\u6b62\u75db\u8d34","\u4e2d\u6210\u836f","\u5176\u4ed6"],startX_var:0,startY_var:0,activeIndex_var:-1,rpxPerPx_var:2}},onLoad:function(t){var s,e=t.date||"",a=uni.getSystemInfoSync(),i=750/a.windowWidth,r=l();r.painRecords=r.painRecords||{};var n=(null===(s=r.painRecords)||void 0===s?void 0:s[e])||[];this.setData({date:e,rpxPerPx_var:i,records:this.initSwipe(n)})},methods:{onAddTap:function(){this.openPopupForCreate()},onItemTap:function(t,s){t&&t._x?this.closeAllSwipe():this.openPopupForEdit(s)},openPopupForCreate:function(){var t=new Date,s=String(t.getHours()).padStart(2,"0"),e=String(t.getMinutes()).padStart(2,"0"),a=this.hours.indexOf(s),i=this.minutes.indexOf(e);this.setData({showPopup:!0,editingIndex:-1,form:{time:"".concat(s,":").concat(e),level:"",medicine:""},timeWheelValue:[Math.max(a,0),Math.max(i,0)]})},openPopupForEdit:function(t){var s=this.records[t];if(s){var e=s.time||"12:00",a=e.split(":"),i=(0,r.default)(a,2),n=i[0],c=i[1],o=this.hours.indexOf(n),l=this.minutes.indexOf(c);this.setData({showPopup:!0,editingIndex:t,form:{time:e,level:s.level||"",medicine:s.medicine||""},timeWheelValue:[Math.max(o,0),Math.max(l,0)]})}},onCancel:function(){this.setData({showPopup:!1})},onTimeWheelChange:function(t){var s=t.detail.value||[0,0],e=(0,r.default)(s,2),a=e[0],i=e[1],n="".concat(this.hours[a],":").concat(this.minutes[i]);this.setData({timeWheelValue:[a,i],form:o(o({},this.form),{},{time:n})})},pickLevel:function(t){this.setData({form:o(o({},this.form),{},{level:t})})},pickMedicine:function(t){this.setData({form:o(o({},this.form),{},{medicine:t})})},onConfirm:function(){var t=l();t.painRecords=t.painRecords||{};var s=(t.painRecords[this.date]||[]).slice(),e={time:this.form.time,level:this.form.level,medicine:this.form.medicine};this.editingIndex>=0?s[this.editingIndex]=e:s.unshift(e),t.painRecords[this.date]=s,u(t),this.setData({records:this.initSwipe(s),showPopup:!1,editingIndex:-1,activeIndex_var:-1})},initSwipe:function(t){return(t||[]).map((function(t){return o(o({},t),{},{_x:0,_moving:!1})}))},closeAllSwipe:function(){var t=(this.records||[]).map((function(t){return o(o({},t),{},{_x:0,_moving:!1})}));this.setData({records:t,activeIndex_var:-1})},onSwipeStart:function(t){var s=t.currentTarget.dataset.index;-1!==this.activeIndex_var&&this.activeIndex_var!==s&&this.closeAllSwipe();var e=t.touches[0];this.setData({startX_var:e.clientX,startY_var:e.clientY,activeIndex_var:s});var a=this.records.slice();a[s]&&(a[s]._moving=!0),this.setData({records:a})},onSwipeMove:function(t){var s=this.activeIndex_var;if(!(s<0)){var e=t.touches[0],a=e.clientX-this.startX_var,i=e.clientY-this.startY_var;if(!(Math.abs(a)<Math.abs(i))){var r=this.records.slice(),n=r[s];if(n){var c=a*this.rpxPerPx_var,o=c;-160===n._x&&(o=-160+c),o<-160&&(o=-160),o>0&&(o=0),n._x=o,r[s]=n,this.setData({records:r})}}}},onSwipeEnd:function(){var t=this.activeIndex_var;if(!(t<0)){var s=this.records.slice(),e=s[t];if(e){var a=e._x<-80;e._x=a?-160:0,e._moving=!1,s[t]=e,this.setData({records:s,activeIndex_var:a?t:-1})}}},onDelete:function(t){var s=t.currentTarget.dataset.index,e=l(),a=e.painRecords&&e.painRecords[this.date]?e.painRecords[this.date]:[];a.length&&(a.splice(s,1),e.painRecords[this.date]=a,u(e),this.setData({records:this.initSwipe(a),activeIndex_var:-1}))}}};s.default=f},db1b:function(t,s,e){"use strict";e.r(s);var a=e("7fba"),i=e("ef6e");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},dd3e:function(t,s){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},e0d5:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={data:function(){return{}}}},e4df:function(t,s,e){"use strict";e.r(s);var a=e("4440"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},e6db:function(t,s,e){var a=e("3b2d")["default"];t.exports=function(t,s){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,s||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},e7a5:function(t,s,e){"use strict";e.r(s);var a=e("0763"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},ed45:function(t,s){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},eeff:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[t._$s(1,"i",t.hasData)?e("view",{attrs:{_i:1}},[e("view",{staticClass:t._$s(2,"sc","card"),attrs:{_i:2}},[e("view",{staticClass:t._$s(3,"sc","card-title"),attrs:{_i:3}},[e("image",{staticClass:t._$s(4,"sc","card-title-icon"),attrs:{_i:4}}),e("text",{staticClass:t._$s(5,"sc","card-title-text"),attrs:{_i:5}})]),e("view",{staticClass:t._$s(6,"sc","kv"),attrs:{_i:6}},[e("text",{staticClass:t._$s(7,"sc","k"),attrs:{_i:7}}),e("text",{staticClass:t._$s(8,"sc","v"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.latestStart))+t._$s(8,"t0-1",t._s(t.latestEnd)))])]),e("view",{staticClass:t._$s(9,"sc","kv"),attrs:{_i:9}},[e("text",{staticClass:t._$s(10,"sc","k"),attrs:{_i:10}}),e("text",{staticClass:t._$s(11,"sc","v"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.latestPeriodLen)))])]),e("view",{staticClass:t._$s(12,"sc","kv"),attrs:{_i:12}},[e("text",{staticClass:t._$s(13,"sc","k"),attrs:{_i:13}}),e("text",{staticClass:t._$s(14,"sc","v"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.latestCycleLen)))])]),e("view",{staticClass:t._$s(15,"sc","kv"),attrs:{_i:15}},[e("text",{staticClass:t._$s(16,"sc","k"),attrs:{_i:16}}),e("text",{staticClass:t._$s(17,"sc","v"),attrs:{_i:17}},[t._v(t._$s(17,"t0-0",t._s(t.stabilityText)))])]),e("view",{staticClass:t._$s(18,"sc","kv"),attrs:{_i:18}},[e("text",{staticClass:t._$s(19,"sc","k"),attrs:{_i:19}}),e("text",{staticClass:t._$s(20,"sc","v"),attrs:{_i:20}},[t._v(t._$s(20,"t0-0",t._s(t.confidenceText)))])])]),t._$s(21,"i",t.cycleChange)?e("view",{staticClass:t._$s(21,"sc","card"),attrs:{_i:21}},[e("view",{staticClass:t._$s(22,"sc","cycle-head"),attrs:{_i:22}},[e("view",{staticClass:t._$s(23,"sc","cycle-head-left"),attrs:{_i:23}},[e("image",{staticClass:t._$s(24,"sc","cycle-icon"),attrs:{_i:24}}),e("text",{staticClass:t._$s(25,"sc","cycle-title"),attrs:{_i:25}})])]),e("view",{staticClass:t._$s(26,"sc","cycle-sub"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.cycleChange.rangeText)))]),e("view",{staticClass:t._$s(27,"sc","cycle-summary"),attrs:{_i:27}},[e("view",{staticClass:t._$s(28,"sc","cycle-summary-left"),attrs:{_i:28}},[e("view",{staticClass:t._$s(29,"sc","cycle-label"),attrs:{_i:29}}),e("view",{staticClass:t._$s(30,"sc","cycle-big"),attrs:{_i:30}},[e("text",{staticClass:t._$s(31,"sc","cycle-num"),attrs:{_i:31}},[t._v(t._$s(31,"t0-0",t._s(t.cycleChange.lastLenText)))]),e("text",{staticClass:t._$s(32,"sc","cycle-tag"),attrs:{_i:32}},[t._v(t._$s(32,"t0-0",t._s(t.cycleChange.normalTag)))])])]),e("view",{staticClass:t._$s(33,"sc","cycle-summary-right"),attrs:{_i:33}},[e("view",{staticClass:t._$s(34,"sc","cycle-label"),attrs:{_i:34}}),e("view",{staticClass:t._$s(35,"sc","cycle-delta"),attrs:{_i:35}},[t._v(t._$s(35,"t0-0",t._s(t.cycleChange.deltaText)))])])]),e("view",{staticClass:t._$s(36,"sc","cycle-list-title"),attrs:{_i:36}}),e("view",{staticClass:t._$s(37,"sc","cycle-list"),attrs:{_i:37}},t._l(t._$s(38,"f",{forItems:t.cycleChange.items}),(function(s,a,i,r){return e("view",{key:t._$s(38,"f",{forIndex:i,key:a}),staticClass:t._$s("38-"+r,"sc","cycle-item"),attrs:{_i:"38-"+r}},[e("view",{staticClass:t._$s("39-"+r,"sc","cycle-item-left"),attrs:{_i:"39-"+r}},[e("text",{staticClass:t._$s("40-"+r,"sc","cycle-date"),attrs:{_i:"40-"+r}},[t._v(t._$s("40-"+r,"t0-0",t._s(s.dateLabel)))]),e("text",{staticClass:t._$s("41-"+r,"sc","cycle-status"),attrs:{_i:"41-"+r}},[t._v(t._$s("41-"+r,"t0-0",t._s(s.status)))])]),e("view",{staticClass:t._$s("42-"+r,"sc","cycle-bar-wrap"),attrs:{_i:"42-"+r}},[e("view",{staticClass:t._$s("43-"+r,"sc","cycle-bar"),style:t._$s("43-"+r,"s",s.barStyle),attrs:{_i:"43-"+r}}),e("text",{staticClass:t._$s("44-"+r,"sc","cycle-bar-text-fixed"),attrs:{_i:"44-"+r}},[t._v(t._$s("44-"+r,"t0-0",t._s(s.lenText)))])])])})),0)]):t._e(),e("view",{staticClass:t._$s(45,"sc","card"),attrs:{_i:45}},[e("view",{staticClass:t._$s(46,"sc","card-title"),attrs:{_i:46}},[e("image",{staticClass:t._$s(47,"sc","card-title-icon"),attrs:{_i:47}}),e("text",{staticClass:t._$s(48,"sc","card-title-text"),attrs:{_i:48}})]),e("view",{staticClass:t._$s(49,"sc","p"),attrs:{_i:49}},[t._v(t._$s(49,"t0-0",t._s(t.painSummaryText)))]),e("view",{staticClass:t._$s(50,"sc","p"),attrs:{_i:50}},[t._v(t._$s(50,"t0-0",t._s(t.painLevelText)))]),e("view",{staticClass:t._$s(51,"sc","p"),attrs:{_i:51}},[t._v(t._$s(51,"t0-0",t._s(t.painPeakText)))])]),e("view",{staticClass:t._$s(52,"sc","card"),attrs:{_i:52}},[e("view",{staticClass:t._$s(53,"sc","card-title card-title--with-right"),attrs:{_i:53},on:{click:function(s){return t.onGoLove()}}},[e("view",{staticClass:t._$s(54,"sc","card-title-left"),attrs:{_i:54}},[e("image",{staticClass:t._$s(55,"sc","card-title-icon"),attrs:{_i:55}}),e("text",{staticClass:t._$s(56,"sc","card-title-text"),attrs:{_i:56}})]),e("image",{staticClass:t._$s(57,"sc","card-title-right-icon"),attrs:{_i:57}})]),e("view",{staticClass:t._$s(58,"sc","sex-topline"),attrs:{_i:58}},[e("view",{staticClass:t._$s(59,"sc","sex-topitem"),attrs:{_i:59}},[e("text",{staticClass:t._$s(60,"sc","sex-toplabel"),attrs:{_i:60}}),e("text",{staticClass:t._$s(61,"sc","sex-topvalue"),attrs:{_i:61}},[t._v(t._$s(61,"t0-0",t._s(t.sexCycleTotal)))]),e("text",{staticClass:t._$s(62,"sc","sex-topunit"),attrs:{_i:62}})])]),e("view",{staticClass:t._$s(63,"sc","sex-chart"),attrs:{_i:63}},t._l(t._$s(64,"f",{forItems:t.sexPhaseBars}),(function(s,a,i,r){return e("view",{key:t._$s(64,"f",{forIndex:i,key:a}),staticClass:t._$s("64-"+r,"sc","sex-group"),attrs:{_i:"64-"+r}},[e("view",{staticClass:t._$s("65-"+r,"sc","sex-cols"),attrs:{_i:"65-"+r}},[e("view",{staticClass:t._$s("66-"+r,"sc","sex-col"),attrs:{_i:"66-"+r}},[e("text",{staticClass:t._$s("67-"+r,"sc","sex-num"),attrs:{_i:"67-"+r}},[t._v(t._$s("67-"+r,"t0-0",t._s(s.cur)))]),e("view",{staticClass:t._$s("68-"+r,"sc","sex-bar sex-bar--cur"),style:t._$s("68-"+r,"s","height:"+s.curPct+"%"),attrs:{_i:"68-"+r}})]),e("view",{staticClass:t._$s("69-"+r,"sc","sex-col"),attrs:{_i:"69-"+r}},[e("text",{staticClass:t._$s("70-"+r,"sc","sex-num"),attrs:{_i:"70-"+r}},[t._v(t._$s("70-"+r,"t0-0",t._s(s.prev)))]),e("view",{staticClass:t._$s("71-"+r,"sc","sex-bar sex-bar--prev"),style:t._$s("71-"+r,"s","height:"+s.prevPct+"%"),attrs:{_i:"71-"+r}})])]),e("text",{staticClass:t._$s("72-"+r,"sc","sex-xlabel"),attrs:{_i:"72-"+r}},[t._v(t._$s("72-"+r,"t0-0",t._s(s.label)))])])})),0)])]):t._e(),e("view",{staticClass:t._$s(73,"sc","card weight-card"),attrs:{_i:73}},[e("view",{staticClass:t._$s(74,"sc","weight-head"),attrs:{_i:74},on:{click:t.onGoWeight}},[e("view",{staticClass:t._$s(75,"sc","weight-head-left"),attrs:{_i:75}},[e("image",{staticClass:t._$s(76,"sc","weight-icon"),attrs:{_i:76}}),e("text",{staticClass:t._$s(77,"sc","weight-title"),attrs:{_i:77}})]),e("image",{staticClass:t._$s(78,"sc","weight-arrow"),attrs:{_i:78}})]),e("view",{staticClass:t._$s(79,"sc","weight-sub"),attrs:{_i:79}},[t._v(t._$s(79,"t0-0",t._s(t.weight7SubText)))]),e("canvas",{staticClass:t._$s(80,"sc","weight-canvas"),attrs:{id:"weight7Canvas",width:t._$s(80,"a-width",t.canvasW),height:t._$s(80,"a-height",t.canvasH),_i:80}}),e("view",{staticClass:t._$s(81,"sc","p weight-hint"),attrs:{_i:81}},[t._v(t._$s(81,"t0-0",t._s(t.weightHintText)))])])])},i=[]},ef6e:function(t,s,e){"use strict";e.r(s);var a=e("280f"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},ef9a:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;s.default={data:function(){return{logs:[{version:"0.1.2",desc:"\u65b0\u589e\u529f\u80fd",isLatest:!0,items:["\u66f4\u65b0\u5e95\u90e8\u5bfc\u822a\u680f\u56fe\u7247","\u4f18\u5316\u5065\u5eb7\u5206\u6790\u4e2d\u201c\u7231\u7231\u201d\u5361\u7247\u663e\u793a\u95ee\u9898","\u89e3\u51b3\u4e86\u4e00\u4e9b\u5df2\u77e5\u95ee\u9898"]},{version:"0.1.1",desc:"\u65b0\u589e\u529f\u80fd",items:["\u65b0\u589e\u201c\u7231\u7231\u5206\u6790\u201d\u548c\u201c\u4f53\u91cd\u5206\u6790\u201d\u9875","\u89e3\u51b3\u201c\u75db\u7ecf\u8bb0\u5f55\u201d\u6570\u636e\u4e0d\u540c\u6b65\u95ee\u9898","\u89e3\u51b3\u4e86\u4e00\u4e9b\u5df2\u77e5\u95ee\u9898"]},{version:"0.1.0",desc:"\u6574\u4f53\u8c03\u6574",items:["\u7a0b\u5e8f\u66f4\u540d\u4e3a\u201c\u65f6\u5e8f\xb7Chrona\u201d","\u66f4\u65b0\u542f\u52a8\u9875"]},{version:"0.0.8",desc:"\u9875\u9762\u8c03\u6574",items:["\u6dfb\u52a0/\u7f16\u8f91\u201c\u91cd\u8981\u65e5\u5b50\u201d\u5f15\u5165\u65b0\u65e5\u671f\u9009\u62e9\u6eda\u8f6e","\u5c0f\u5e45\u8c03\u6574\u201c\u6211\u201d\u9875\u9762\u6392\u5e8f"]},{version:"0.0.7",desc:"\u9875\u9762\u8c03\u6574",items:["\u65b0\u7248\u672c\u201c\u6211\u4eec\u5728\u4e00\u8d77\u7684\u65e5\u671f\u201d\u9009\u62e9\u6eda\u8f6e","\u65b0\u589e\u4f7f\u7528\u5f39\u7a97","\u66f4\u65b0\u201c\u9690\u79c1\u653f\u7b56\u201d\u3001\u201c\u7528\u6237\u534f\u8bae\u201d\uff0c\u65b0\u589e\u201c\u4e2a\u4eba\u4fe1\u606f\u6536\u96c6\u6e05\u5355\u201d"]},{version:"0.0.6",desc:"\u9875\u9762\u8c03\u6574",items:["\u201c\u7ecf\u671f\u8bb0\u5f55\u201d\u9875\u9762\uff0c\u70b9\u51fb\u672a\u6765\u65e5\u671f\u9690\u85cf\u64cd\u4f5c\u6309\u94ae","\u5bf9\u9f50\u5206\u6790\u9875\u7231\u7231\u8bb0\u5f55\u6570\u636e"]},{version:"0.0.5",desc:"\u9875\u9762\u8c03\u6574",items:["\u6539\u8fdb\u201c\u6211\u201d\u9875\u9762","\u91cd\u5199\u201c\u7231\u7231\u8bb0\u5f55\u201c\u548c\u201d\u75db\u7ecf\u8bb0\u5f55\u201c\u7684\u9875\u9762"]},{version:"0.0.4",desc:"\u529f\u80fd\u4fee\u590d",items:["\u6539\u8fdb\u201c\u7231\u7231\u201d\u5f39\u7a97\u5e03\u5c40","\u89e3\u51b3\u201c\u6ed1\u52a8\u5220\u9664\u201d\u5931\u7075\u95ee\u9898","\u4fee\u590d\u7ffb\u9875\u52a8\u753b\u95ee\u9898"]},{version:"0.0.3",desc:"\u529f\u80fd\u66f4\u65b0",items:["\u5168\u65b0\u5065\u5eb7\u5206\u6790\u9875\u9762"]},{version:"0.0.2",desc:"\u529f\u80fd\u66f4\u65b0",items:["\u6539\u8fdb\u5bfc\u822a\u680f","\u6539\u8fdb\u201c\u8be6\u60c5\u201d\u9875\u9762"]},{version:"0.0.1",desc:"\u529f\u80fd\u66f4\u65b0",items:["\u590d\u5199\u57fa\u672c\u529f\u80fd"]},{version:"0.0.0",desc:"\u521d\u59cb\u7248\u672c",items:["\u57fa\u672c\u6846\u67b6"]}]}},methods:{}}},f281:function(t,s,e){"use strict";e.d(s,"b",(function(){return a})),e.d(s,"c",(function(){return i})),e.d(s,"a",(function(){}));var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("view",{staticClass:t._$s(0,"sc","page"),attrs:{_i:0}},[e("view",{staticClass:t._$s(1,"sc","header-card"),attrs:{_i:1}},[e("text",{staticClass:t._$s(2,"sc","title"),attrs:{_i:2}}),e("text",{staticClass:t._$s(3,"sc","subtitle"),attrs:{_i:3}})]),e("view",{staticClass:t._$s(4,"sc","card"),attrs:{_i:4}},t._l(t._$s(5,"f",{forItems:t.logs}),(function(s,a,i,r){return e("view",{key:t._$s(5,"f",{forIndex:i,key:a}),staticClass:t._$s("5-"+r,"sc","version-block"),attrs:{_i:"5-"+r}},[e("view",{staticClass:t._$s("6-"+r,"sc","version-row"),attrs:{_i:"6-"+r}},[e("view",{staticClass:t._$s("7-"+r,"sc","ver-left"),attrs:{_i:"7-"+r}},[e("text",{staticClass:t._$s("8-"+r,"sc","version"),attrs:{_i:"8-"+r}},[t._v(t._$s("8-"+r,"t0-0",t._s(s.version)))]),t._$s("9-"+r,"i",s.isLatest)?e("text",{staticClass:t._$s("9-"+r,"sc","new-tag"),attrs:{_i:"9-"+r}}):t._e(),e("text",{staticClass:t._$s("10-"+r,"sc","desc"),attrs:{_i:"10-"+r}},[t._v(t._$s("10-"+r,"t0-0",t._s(s.desc)))])])]),e("view",{staticClass:t._$s("11-"+r,"sc","items"),attrs:{_i:"11-"+r}},t._l(t._$s("12-"+r,"f",{forItems:s.items}),(function(s,a,i,n){return e("view",{key:t._$s("12-"+r,"f",{forIndex:i,key:a}),staticClass:t._$s("12-"+r+"-"+n,"sc","item"),attrs:{_i:"12-"+r+"-"+n}},[e("text",{staticClass:t._$s("13-"+r+"-"+n,"sc","dot"),attrs:{_i:"13-"+r+"-"+n}}),e("text",{staticClass:t._$s("14-"+r+"-"+n,"sc","text"),attrs:{_i:"14-"+r+"-"+n}},[t._v(t._$s("14-"+r+"-"+n,"t0-0",t._s(s)))])])})),0)])})),0),e("view",{staticClass:t._$s(15,"sc","footer-space"),attrs:{_i:15}})])},i=[]},f3b9:function(t,s,e){"use strict";function a(t){var s=Object.prototype.toString.call(t);return s.substring(8,s.length-1)}function i(){return"string"===typeof __channelId__&&__channelId__}function r(t,s){switch(a(s)){case"Function":return"function() { [native code] }";default:return s}}function n(t){for(var s=arguments.length,e=new Array(s>1?s-1:0),a=1;a<s;a++)e[a-1]=arguments[a];console[t].apply(console,e)}function c(){for(var t=arguments.length,s=new Array(t),e=0;e<t;e++)s[e]=arguments[e];var n=s.shift();if(i())return s.push(s.pop().replace("at ","uni-app:///")),console[n].apply(console,s);var c=s.map((function(t){var s=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===s||"[object array]"===s)try{t="---BEGIN:JSON---"+JSON.stringify(t,r)+"---END:JSON---"}catch(i){t=s}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var e=a(t).toUpperCase();t="NUMBER"===e||"BOOLEAN"===e?"---BEGIN:"+e+"---"+t+"---END:"+e+"---":String(t)}return t})),o="";if(c.length>1){var l=c.pop();o=c.join("---COMMA---"),0===l.indexOf(" at ")?o+=l:o+="---COMMA---"+l}else o=c[0];console[n](o)}e.r(s),e.d(s,"log",(function(){return n})),e.d(s,"default",(function(){return c}))},f3c4:function(t,s,e){"use strict";e.r(s);var a=e("0112"),i=e("d66e");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return i[t]}))}(r);var n=e("828b"),c=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);s["default"]=c.exports},f463:function(t,s){function e(t){return t<10?"0"+t:""+t}function a(t){var s=t.getFullYear(),a=e(t.getMonth()+1),i=e(t.getDate());return"".concat(s,"-").concat(a,"-").concat(i)}function i(t){if(!t)return null;var s=t.split("-");if(3!==s.length)return null;var e=Number(s[0]),a=Number(s[1]),i=Number(s[2]);return e&&a&&i?new Date(e,a-1,i):null}function r(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function n(t,s){var e=i(t),a=i(s);if(!e||!a)return 0;var n=r(a).getTime()-r(e).getTime();return Math.floor(n/864e5)}function c(){return a(new Date)}t.exports={formatDate:a,parseDate:i,todayStr:c,diffDays:n,daysSince:function(t){return n(t,c())},daysTo:function(t){return n(c(),t)}}},f48d:function(t,s,e){"use strict";e.r(s);var a=e("2332"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},fd31:function(t,s,e){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.getTabBar=function(){return{setData:function(s){var e,a,i,r;"function"===typeof(null===(e=this.$mp)||void 0===e||null===(a=e.page)||void 0===a?void 0:a.getTabBar)&&null!==(i=this.$mp)&&void 0!==i&&null!==(r=i.page)&&void 0!==r&&r.getTabBar()?this.$mp.page.getTabBar().setData(s):t("log","\u5f53\u524d\u5e73\u53f0\u4e0d\u652f\u6301getTabBar()\uff0c\u5df2\u7a0d\u4f5c\u5904\u7406\uff0c\u8be6\u7ec6\u8bf7\u53c2\u89c1\u76f8\u5173\u6587\u6863\u3002"," at uni_modules/zp-mixins/methods/getTabBar.js:15")}}}}).call(this,e("f3b9")["default"])},fdbc:function(t,s,e){"use strict";function a(t,s){t.$children.map((function(t){"function"==typeof t[s]&&t[s](),a(t,s)}))}Object.defineProperty(s,"__esModule",{value:!0}),s.pageLifetimes=void 0;var i={onLoad:function(){},onShow:function(){a(this,"handlePageShow")},onHide:function(){a(this,"handlePageHide")},onResize:function(){a(this,"handlePageResize")}};s.pageLifetimes=i},fe0d:function(t,s,e){"use strict";e.r(s);var a=e("2e0e"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},fee0:function(t,s,e){"use strict";e.r(s);var a=e("60b0"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a},ff25:function(t,s,e){"use strict";e.r(s);var a=e("4dff"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(s,t,(function(){return a[t]}))}(r);s["default"]=i.a}},[["cde4","app-config"]]]);